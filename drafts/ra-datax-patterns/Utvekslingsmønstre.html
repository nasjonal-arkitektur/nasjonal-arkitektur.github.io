<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Utvekslingsmønstre :: Nasjonalt arkitekturverksted 2019-2021 (opprydding pågår høst 2022)</title>
    <link rel="canonical" href="https://nasjonal-arkitektur.github.io/drafts/ra-datax-patterns/Utvekslingsmønstre.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://nasjonal-arkitektur.github.io">Nasjonalt arkitekturverksted 2019-2021 (opprydding pågår høst 2022)</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        </div>
		<a id="twitter-link" class="navbar-item" href="https://twitter.com/janakaSteph" target="_blank">
          <i class="fab fa-twitter"></i>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="drafts" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Utkast og innspill</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../about-drafts.html">Om utkast og innspill</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Utkast til blogginnlegg</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../2021-ra-blogs/Blogginnlegg%20om%20referansearkitekturer.html">Hva kom først, referansearkitekturen eller løsningen?</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../data-exchange-strategy-emelding/emelding-oppdatert-strategi-forslag.html">Notat - Strategisk retning for utbredelse av eMelding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ra-datax-books/data-exchange-ra-drafts.html">Utkast til oppdatering av nasjonal referansearkitektur for datautveksling (2021)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ra-proposals/ra-proposals.html">Innspill til videre referansearkitekturarbeid</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Se også</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../architecture-repository/index.html">Nasjonalt arkitekturverksted</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../knowledge/index.html">Arkitekturfaglig kunnskapsverksted</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Utkast og innspill</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Arkitekturfaglig kunnskapsverksted</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../knowledge/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Nasjonalt arkitekturverksted</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-repository/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Utkast og innspill</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../architecture-repository/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Utkast og innspill</a></li>
    <li><a href="Utvekslingsmønstre.html">Utvekslingsmønstre</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://gitlab.com/digdir/components/draft-components/drafts/edit/master/ra-data-exchange/modules/ra-datax-patterns/pages/Utvekslingsmønstre.adoc">Rediger kilde</a></div>
  </div>
<article class="doc"><a name="section-top"></a>
<h1 class="page">Utvekslingsmønstre</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_generelt">1. Generelt</a></li>
<li><a href="#_viktige_utvekslingsmønstre_oversikt">2. Viktige utvekslingsmønstre - oversikt</a></li>
<li><a href="#_forsendelse">3. Forsendelse</a>
<ul class="sectlevel2">
<li><a href="#_forsendelse_en_til_en">3.1. Forsendelse - en til en</a>
<ul class="sectlevel3">
<li><a href="#_generisk_mønster">3.1.1. Generisk mønster</a></li>
<li><a href="#_4_hjørnersmodellen">3.1.2. 4-hjørnersmodellen</a></li>
</ul>
</li>
<li><a href="#_forsendelse_en_til_flere_kjente">3.2. Forsendelse - en til flere kjente</a></li>
<li><a href="#_forsendelse_flere_til_en">3.3. Forsendelse - flere til en</a></li>
</ul>
</li>
<li><a href="#_forespørsel_svar">4. Forespørsel-svar</a>
<ul class="sectlevel2">
<li><a href="#_forespørsel_svar_en_mot_en">4.1. Forespørsel-svar - en mot en</a></li>
<li><a href="#_forespørsel_svar_en_mot_flere_kjente">4.2. Forespørsel-svar - en mot flere kjente</a></li>
<li><a href="#_forespørsel_svar_en_mot_flere_ukjente">4.3. Forespørsel-svar - en mot flere ukjente</a></li>
</ul>
</li>
<li><a href="#_publisering">5. Publisering</a>
<ul class="sectlevel2">
<li><a href="#_publisering_fra_en_til_flere_ukjente_via_felles_kø">5.1. Publisering fra en til flere ukjente via felles kø</a></li>
<li><a href="#_publisering_fra_en_til_flere_ukjente_abonnementer_pub_sub">5.2. Publisering fra en til flere ukjente abonnementer (pub-sub)</a></li>
<li><a href="#_publisering_flere_til_flere_ukjente_abonnenter_pub_sub">5.3. Publisering flere til flere ukjente abonnenter (pub-sub)</a></li>
<li><a href="#_publisering_fra_en_til_flere_ukjente_via_en_hendelsesliste_event_streaming">5.4. Publisering fra en til flere ukjente via en hendelsesliste (event streaming)</a></li>
<li><a href="#_publisering_flere_til_flere_ukjente_via_en_hendelsesliste">5.5. Publisering flere til flere ukjente via en hendelsesliste</a></li>
<li><a href="#_publisering_flere_til_flere_via_kombinerte_hendelseslister">5.6. Publisering flere til flere via kombinerte hendelseslister</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_generelt"><a class="anchor" href="#_generelt"></a>1. Generelt</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Utvekslingsmønstre, eller mønstre for datautveksling, handler om teknisk realisering av forretningsmessige behov.</p>
</div>
<div class="paragraph">
<p>Utvekslingsmønstrene gis her en overordnet beskrivelse, men vil i en referansearkitektur beskrives grundigere, også med angivelse av aktuelle teknologier og fellesløsinger.</p>
</div>
<div class="paragraph">
<p>Hva som egner seg best i hvert tilfelle, kommer an på flere faktorer. Dette er nærmere beskrevet under</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_viktige_utvekslingsmønstre_oversikt"><a class="anchor" href="#_viktige_utvekslingsmønstre_oversikt"></a>2. Viktige utvekslingsmønstre - oversikt</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Et utvalg av viktige utvekslingsmønstre er oppsummert i følgende figur og tabellen nedenfor, med lenker til utdypende beskrivelser.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Utvekslingsmønstre%20-%20oversikt%20(alternativ%20grafikk).png" alt="Utvekslingsmønstre - oversikt (alternativ grafikk) image">
</div>
<div class="title">Figure 1. Viktige utvekslingsmønstre - oversikt</div>
</div>
<div class="paragraph">
<p>Forklaring:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Elementer i view for Viktige utvekslingsmønstre - oversikt</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Viktige utvekslingsmønstre</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publisering til abonnenter (pub-sub)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Publisert meldingsinnhold kan leses av alle interesserte abonnenter på det aktuelle emnet, så lenge innholdet er tilgjengelig (tidsbegrenset eller andre kriterier for gyldighet).</p>
</div>
<div class="paragraph">
<p><a href="pub-sub-one-to-many.html" class="page">Videre detaljer</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publisering via en hendelsesliste (event streaming)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dette mønsteret tilsvarer "Publisering fra en til flere ukjente abonnementer (pub-sub)". Forskjeller:</p>
</div>
<div class="paragraph">
<p>Konsumentene behøver ikke å sette opp abonnement, men kan kople seg direkte på en hendelsesstrøm via en hendelsesliste som kan navigeres og leses fra ønsket sted i hendelsesstrømmen. Hendelsesstrømmen er "durable" og hendelsene er "immutable".</p>
</div>
<div class="paragraph">
<p>Dette mønsteret er nærmere beskrevet under <a href="https://nasjonal-arkitektur.github.io/architecture-repository/publish-subscribe/book-publish-subscribe.html">Publisering og konsumering av hendelsesstrømmer</a> i <a href="https://nasjonal-arkitektur.github.io/architecture-repository/index.html">arkitekturverkstedet</a>.</p>
</div>
<div class="paragraph">
<p><a href="event-streaming-12m-one-log.html" class="page">Videre detaljer</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publisering via felles kø</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Meldinger tas ut av køen ved lesing, slik at hver melding bare går til en mottaker.</p>
</div>
<div class="paragraph">
<p><a href="pub-to-queue.html" class="page">Videre detaljer</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forsendelse - en til en</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Det mest grunnleggende mønsteret for meldingsutveksling omhandler enkeltvise meldinger fra en avsender til en kjent mottaker. Dette kan skje direkte og synkront,eller via meldingskøer.</p>
</div>
<div class="paragraph">
<p><a href="sending-one-to-one.html" class="page">Videre detaljer</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forsendelse - en til flere kjente</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forsendelse fra en til flere kjente bygger på <em>basismønsteret for forsendelse fra en til en</em>, ved at samme innhold sendes gjennom gjentatte, men separate meldinger til et antall kjente mottakere.</p>
</div>
<div class="paragraph">
<p><a href="sending-one-to-many.html" class="page">Videre detaljer</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forsendelse - flere til en</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forsendelse fra flere til en kjent mottaker bygger på <em>basismønsteret for forsendelse fra en til en</em>, ved at ulike meldinger med ulikt innhold sendes til bestemt kanal hos mottaker.</p>
</div>
<div class="paragraph">
<p><a href="sending-many-to-one.html" class="page">Videre detaljer</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forespørsel-svar - en mot flere ukjente</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dette mønsteret kombinerer mønstrene <em>publish-subscribe</em> og <em>Forsendelse - flere til en</em>.</p>
</div>
<div class="paragraph">
<p>Forespørsler publiseres, slik at en ikke er låst til svar fra bestemte tilbydere. Mottatte svar prosesseres ut fra valgt strategi. F.eks. kan strategien være at første svar bestandig velges, eller f.eks. kan alle svar kombineres til et samlet svar.</p>
</div>
<div class="paragraph">
<p><a href="request-reply-many-unknown.html" class="page">Videre detaljer</a></p>
</div>
<div class="paragraph">
<p>Dette mønsteret støtter også datavirtualisering</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forespørsel-svar - en mot flere kjente</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dette mønsteret bygger på basismønsteret for forespørsel-svar. Samme forespørsel sendes mot flere kjente tilbydere og mottatte svar prosesseres ut fra valgt strategi. F.eks. kan strategien være at første svar bestandig velges, eller f.eks. kan alle svar kombineres til et samlet svar.</p>
</div>
<div class="paragraph">
<p><a href="request-reply-many-known.html" class="page">Videre detaljer</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forespørsel-svar - en mot en</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dette er et basismønster som omhandler oppslag i data fra en datakonsument mot en datatilbyder. Mønsteret dekker både asynkrone og synkrone oppslag, og det tas ikke stilling til kommunikasjonsprotokoll. Spørring og oppslag kan gjøres både mot data med ulike grader av tilgangsbegrensninger og mot åpne data, dvs. uten  helt uten behvo for tilgangsstyring.</p>
</div>
<div class="paragraph">
<p><a href="request-reply-basic.html" class="page">Videre detaljer</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_forsendelse"><a class="anchor" href="#_forsendelse"></a>3. Forsendelse</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_forsendelse_en_til_en"><a class="anchor" href="#_forsendelse_en_til_en"></a>3.1. Forsendelse - en til en</h3>
<div class="sect3">
<h4 id="_generisk_mønster"><a class="anchor" href="#_generisk_mønster"></a>3.1.1. Generisk mønster</h4>
<div class="paragraph">
<p>Det mest grunnleggende mønsteret for meldingsutveksling omhandler enkeltvise meldinger fra en avsender gjennom en kanal til en kjent mottaker.</p>
</div>
<div class="paragraph">
<p>Signalisering av bekeftelse om meldingsmottak fra mottaker til avsender, eventuelt feilmelding, forutsettes dersom det er krav til tjenestekvakitet som f.eks. garantert levering. Slik signalisering ivaretas typisk gjennom standardfunksjonalitet i kommunikasjonsinfrastrukturen.</p>
</div>
<div class="paragraph">
<p>Alternativ realisering av konseptet med meldingskø:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Asynkront gjennom push til meldingskø hos mottaker</p>
</li>
<li>
<p>Synkront gjennom push til API hos mottaker</p>
</li>
<li>
<p>Asynkront gjennom pull mot API hos avsender</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Brukstilfeller (eksempler):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Trigging av neste ledd i en tverrgående prosess (tjenestekjede)</p>
</li>
<li>
<p>Oversending av data og dokumenter</p>
</li>
<li>
<p>Notifikasjon av en kjent part.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Se også:</p>
</div>
<div class="paragraph">
<p>Dette mønsteret er beskrevet som et basismønstre som del av nasjonal referansearkitektur for datautveksling; se under <a href="https://nasjonal-arkitektur.github.io/architecture-repository/one-way-push/book-one-way-push.html">meldingsforsendelse</a>.</p>
</div>
<div class="paragraph">
<p>Her beskrives først et <a href="https://nasjonal-arkitektur.github.io/architecture-repository/one-way-push/book-one-way-push.html#_generisk_forsendelse">et generisk mønster for meldingsforsendelse</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_4_hjørnersmodellen"><a class="anchor" href="#_4_hjørnersmodellen"></a>3.1.2. 4-hjørnersmodellen</h4>
<div class="paragraph">
<p>4-hjørnersmodellen kan ses som en variant av det generiske mønsteret, der kommunikasjonen går gjennom aksesspunkter til meldingsinfrastrukturen, slik at kommuniikasjonspartene ikke behøver å forholde seg til verken infrastrukturen eller den andre partens kommunikasjonsløsning.</p>
</div>
<div class="paragraph">
<p>Se <a href="https://nasjonal-arkitektur.github.io/architecture-repository/one-way-push/book-one-way-push.html#_4_hj%C3%B8rners_modellen">konseptuell 4-hjørnersmodell</a> for nærmere beskrivelse av mønster og anvendelser.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Forsendelse%20-%20en%20til%20en.png" alt="Forsendelse - en til en image">
</div>
<div class="title">Figure 2. Forsendelse - en til en</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_forsendelse_en_til_flere_kjente"><a class="anchor" href="#_forsendelse_en_til_flere_kjente"></a>3.2. Forsendelse - en til flere kjente</h3>
<div class="paragraph">
<p>Forsendelse fra en til flere kjente bygger på <em>basismønsteret for forsendelse fra en til en</em>, ved at samme innhold sendes gjennom gjentatte, men separate meldinger til et antall kjente mottakere.</p>
</div>
<div class="paragraph">
<p>Brukstilfeller (eksempler):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Begrenset høring</p>
</li>
<li>
<p>Igangsetting av flere parallelle jobber</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Forsendelse%20-%20en%20til%20flere%20kjente.png" alt="Forsendelse - en til flere kjente image">
</div>
<div class="title">Figure 3. Forsendelse - en til flere kjente</div>
</div>
</div>
<div class="sect2">
<h3 id="_forsendelse_flere_til_en"><a class="anchor" href="#_forsendelse_flere_til_en"></a>3.3. Forsendelse - flere til en</h3>
<div class="paragraph">
<p>Forsendelse fra flere til en kjent mottaker bygger på <em>basismønsteret for forsendelse fra en til en</em>, ved at ulike meldinger med ulikt innhold sendes til bestemt kanal hos mottaker.</p>
</div>
<div class="paragraph">
<p>Brukstilfeller (eksempler):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Innraportering til Skatt via Altinn.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Forsendelse%20-%20flere%20til%20en.png" alt="Forsendelse - flere til en image">
</div>
<div class="title">Figure 4. Forsendelse - flere til en</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_forespørsel_svar"><a class="anchor" href="#_forespørsel_svar"></a>4. Forespørsel-svar</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_forespørsel_svar_en_mot_en"><a class="anchor" href="#_forespørsel_svar_en_mot_en"></a>4.1. Forespørsel-svar - en mot en</h3>
<div class="paragraph">
<p>Dette er et basismønster som omhandler oppslag i data fra en datakonsument mot en datatilbyder. Mønsteret dekker både asynkrone og synkrone oppslag, og det tas ikke stilling til kommunikasjonsprotokoll. Spørring og oppslag kan gjøres både mot data med ulike grader av tilgangsbegrensninger og mot åpne data, dvs. uten  helt uten behvo for tilgangsstyring.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Forespørsel-svar%20-%20en%20mot%20en.png" alt="Forespørsel-svar - en mot en image">
</div>
<div class="title">Figure 5. Forespørsel-svar - en mot en</div>
</div>
</div>
<div class="sect2">
<h3 id="_forespørsel_svar_en_mot_flere_kjente"><a class="anchor" href="#_forespørsel_svar_en_mot_flere_kjente"></a>4.2. Forespørsel-svar - en mot flere kjente</h3>
<div class="paragraph">
<p>Dette mønsteret bygger på basismønsteret for forespørsel-svar. Samme forespørsel sendes mot flere kjente tilbydere og mottatte svar prosesseres ut fra valgt strategi. F.eks. kan strategien være at første svar bestandig velges, eller f.eks. kan alle svar kombineres til et samlet svar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Forespørsel-svar%20-%20en%20mot%20flere%20kjente.png" alt="Forespørsel-svar - en mot flere kjente image">
</div>
<div class="title">Figure 6. Forespørsel-svar - en mot flere kjente</div>
</div>
</div>
<div class="sect2">
<h3 id="_forespørsel_svar_en_mot_flere_ukjente"><a class="anchor" href="#_forespørsel_svar_en_mot_flere_ukjente"></a>4.3. Forespørsel-svar - en mot flere ukjente</h3>
<div class="paragraph">
<p>Dette mønsteret kombinerer mønstrene <em>publish-subscribe</em> og <em>Forsendelse - flere til en</em>.</p>
</div>
<div class="paragraph">
<p>Forespørsler publiseres, slik at en ikke er låst til svar fra bestemte tilbydere. Mottatte svar prosesseres ut fra valgt strategi. F.eks. kan strategien være at første svar bestandig velges, eller f.eks. kan alle svar kombineres til et samlet svar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Forespørsel-svar%20-%20en%20mot%20flere%20ukjente.png" alt="Forespørsel-svar - en mot flere ukjente image">
</div>
<div class="title">Figure 7. Forespørsel-svar - en mot flere ukjente</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_publisering"><a class="anchor" href="#_publisering"></a>5. Publisering</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_publisering_fra_en_til_flere_ukjente_via_felles_kø"><a class="anchor" href="#_publisering_fra_en_til_flere_ukjente_via_felles_kø"></a>5.1. Publisering fra en til flere ukjente via felles kø</h3>
<div class="paragraph">
<p>Meldinger tas ut av køen ved lesing, slik at hver melding bare går til en mottaker.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Publisering%20fra%20en%20til%20flere%20ukjente%20via%20felles%20kø.png" alt="Publisering fra en til flere ukjente via felles kø image">
</div>
<div class="title">Figure 8. Publisering fra en til flere ukjente via felles kø</div>
</div>
</div>
<div class="sect2">
<h3 id="_publisering_fra_en_til_flere_ukjente_abonnementer_pub_sub"><a class="anchor" href="#_publisering_fra_en_til_flere_ukjente_abonnementer_pub_sub"></a>5.2. Publisering fra en til flere ukjente abonnementer (pub-sub)</h3>
<div class="paragraph">
<p>Publisert meldingsinnhold kan leses av alle interesserte abonnenter på det aktuelle emnet, så lenge innholdet er tilgjengelig (tidsbegrenset eller andre kriterier for gyldighet).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Publisering%20fra%20en%20til%20flere%20ukjente%20abonnementer%20(pub-sub).png" alt="Publisering fra en til flere ukjente abonnementer (pub-sub) image">
</div>
<div class="title">Figure 9. Publisering fra en til flere ukjente abonnementer (pub-sub)</div>
</div>
</div>
<div class="sect2">
<h3 id="_publisering_flere_til_flere_ukjente_abonnenter_pub_sub"><a class="anchor" href="#_publisering_flere_til_flere_ukjente_abonnenter_pub_sub"></a>5.3. Publisering flere til flere ukjente abonnenter (pub-sub)</h3>
<div class="paragraph">
<p>Dette mønsteret likner på "Publisering fra en til flere ukjente abonnementer (pub-sub)", og bygger også på dette. Forskjellen ligger i at det flere tilbydere rapporterer til samme topic. Dermed behøves , en meglerløsning "i midten", på tvers av alle tilbydere og konsumenter.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Publisering%20flere%20til%20flere%20ukjente%20abonnenter%20(pub-sub).png" alt="Publisering flere til flere ukjente abonnenter (pub-sub) image">
</div>
<div class="title">Figure 10. Publisering flere til flere ukjente abonnenter (pub-sub)</div>
</div>
</div>
<div class="sect2">
<h3 id="_publisering_fra_en_til_flere_ukjente_via_en_hendelsesliste_event_streaming"><a class="anchor" href="#_publisering_fra_en_til_flere_ukjente_via_en_hendelsesliste_event_streaming"></a>5.4. Publisering fra en til flere ukjente via en hendelsesliste (event streaming)</h3>
<div class="paragraph">
<p>Dette mønsteret tilsvarer "Publisering fra en til flere ukjente abonnementer (pub-sub)". Forskjeller:</p>
</div>
<div class="paragraph">
<p>Konsumentene behøver ikke å sette opp abonnement, men kan kople seg direkte på en hendelsesstrøm via en hendelsesliste som kan navigeres og leses fra ønsket sted i hendelsesstrømmen. Hendelsesstrømmen er "durable" og hendelsene er "immutable".</p>
</div>
<div class="paragraph">
<p>Dette mønsteret er nærmere beskrevet under <a href="https://nasjonal-arkitektur.github.io/architecture-repository/publish-subscribe/book-publish-subscribe.html">Publisering og konsumering av hendelsesstrømmer</a> i <a href="https://nasjonal-arkitektur.github.io/architecture-repository/index.html">arkitekturverkstedet</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Publisering%20fra%20en%20til%20flere%20ukjente%20via%20en%20hendelsesliste%20(event%20streaming).png" alt="Publisering fra en til flere ukjente via en hendelsesliste (event streaming) image">
</div>
<div class="title">Figure 11. Publisering fra en til flere ukjente via en hendelsesliste (event streaming)</div>
</div>
</div>
<div class="sect2">
<h3 id="_publisering_flere_til_flere_ukjente_via_en_hendelsesliste"><a class="anchor" href="#_publisering_flere_til_flere_ukjente_via_en_hendelsesliste"></a>5.5. Publisering flere til flere ukjente via en hendelsesliste</h3>
<div class="paragraph">
<p>Flere kan skrive mot samme hendelsesliste. som kan leses av interesserte konsumenter.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Publisering%20flere%20til%20flere%20ukjente%20via%20en%20hendelsesliste.png" alt="Publisering flere til flere ukjente via en hendelsesliste image">
</div>
<div class="title">Figure 12. Publisering flere til flere ukjente via en hendelsesliste</div>
</div>
</div>
<div class="sect2">
<h3 id="_publisering_flere_til_flere_via_kombinerte_hendelseslister"><a class="anchor" href="#_publisering_flere_til_flere_via_kombinerte_hendelseslister"></a>5.6. Publisering flere til flere via kombinerte hendelseslister</h3>
<div class="paragraph">
<p>Flere kan skrive mot samme hendelsesliste og ulike hendelseslister kan kombineres og leses av flere konsumenter.</p>
</div>
<div class="paragraph">
<p>Dette tilsvarer mønsteret for "Publisering flere til flere ukjente abonnenter (pub-sub)", men skiller seg blant annet ved at alle hendelsesdata forblir tilgjengelige og kan aksesseres i ettertid uten forhåndsoppsatt abonnement.</p>
</div>
<div class="paragraph">
<p>Dette er interessant som del av et nasjonalt målbilde. F.eks.kan en på denne måten tilgjengeliggjøre en komplett oversikt over alle offentlige vedtak, søkbar, sortert på emneord og filtrert ut fra preferanser og rettigheter. Problematikk rundt personvern, dataminimering og tilgangsstyring blir tilsvarende som for datasjøer.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Gjeldende referansearkitektur for datautveksling belyser utfordringer og løsninger rundt personvern, dataminimering og tilgangsstyring i tilknytning til hendelsesstrømming.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Publisering%20flere%20til%20flere%20via%20kombinerte%20hendelseslister.png" alt="Publisering flere til flere via kombinerte hendelseslister image">
</div>
<div class="title">Figure 13. Publisering flere til flere via kombinerte hendelseslister</div>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Innhold</h3>
  <div id="article-toc"></div>
</aside></main>
</div>
<footer class="footer">
  <p>Kontakt: nasjonalarkitektur@digdir.no, eventuelt erik.hagen@digdir.no, tlf. +47 90631013.</p>
  <p>Digitaliseringsirektoratet, 2020.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<script>
  tocbot.init( {
                  tocSelector: '#article-toc',
                  contentSelector: 'article',
                  headingSelector: 'h2, h3, h4, h5, h6',
                  collapseDepth: 6,
                  positionFixedSelector: '#article-toc',
                  scrollSmooth: false
                } );
  var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
  if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
    document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
  }
</script>  </body>
</html>
