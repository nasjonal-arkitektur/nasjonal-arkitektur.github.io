<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Få tilgang til data - løsningsmønster UHF :: Nasjonalt arkitekturverksted</title>
    <link rel="canonical" href="https://digdir.gitlab.io/site/drafts/Løsningsmønstre%20forespørsel%20UHF/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://digdir.gitlab.io/site">Nasjonalt arkitekturverksted</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
 		<a id="twitter-link" class="navbar-item" href="https://twitter.com/janakaSteph" target="_blank">
          <i class="fab fa-twitter"></i>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="drafts" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Utkast og innspill</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../about-drafts.html">Om utkast og innspill</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Innspill til referansearkitekturer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ra-integrated-processes/ra-integrated-processes-proposal.html">Referansearkitektur for samhandlingsprosesser (forslag)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ra-iam/ra-iam-proposal.html">Referansearkitektur for informasjonssikkerhet, tillit og personvern (forslag)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Målbilde for nasjonal samhandlingsinfrastruktur (forslag)</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for tillitstjenester</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for datadeling</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for samhandlingsprosesser</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for integrasjon med EU-s Single Digital Gateway</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for IOT</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for API management</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for fagsystemer</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for saksbehandling i kommuner</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">UNIT-test 1</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Informasjonsforvaltningsdomener.html">Informasjonsforvaltningsdomener</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Applikasjonsoversikt%20forsepørsel%20integrert%20med%20IAM.html">Applikasjonsoversikt forsepørsel integrert med IAM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Applikasjonsoversikt%20forsepørsel%20integrert%20nasjonalt.html">Applikasjonsoversikt forsepørsel integrert nasjonalt</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Applikasjonsoversikt%20forsepørsel.html">Applikasjonsoversikt forsepørsel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Avgi%20data%20-%20løsningsmønster%20UHF.html">Avgi data - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Dataobjekter%20eOppslag%20-%20med%20metadata%20UHF.html">Dataobjekter eOppslag - med metadata UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Dataobjekter%20eOppslag%20UHF.html">Dataobjekter eOppslag UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Delegere%20rettigheter%20til%20databehandler%20-%20løsningsmønster%20UHF.html">Delegere rettigheter til databehandler - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.html">Få tilgang til data - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Innhente%20data%20-%20løsningsmønster%20UHF.html">Innhente data - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Registrere%20API%20%20UHF.html">Registrere API  UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Tilgjengeliggjøre%20data%20etter%20forspørsel%20løsningsmønster%20UHF.html">Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">UNIT-test 2</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Bøker/UNIT-bok1.html">UNIT-bok1</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Se også</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../architecture-repository/index.html">Nasjonalt arkitekturverksted</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../knowledge/index.html">Arkitekturfaglig kunnskapsverksted</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Utkast og innspill</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Arkitekturfaglig kunnskapsverksted</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../knowledge/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Nasjonalt arkitekturverksted</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-repository/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Utkast og innspill</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../architecture-repository/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Utkast og innspill</a></li>
    <li><a href="Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.html">Få tilgang til data - løsningsmønster UHF</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///C:/gitlab/digdir/components/draft-components/drafts/unit/modules/Løsningsmønstre%20forespørsel%20UHF/pages/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Få tilgang til data - løsningsmønster UHF</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_få_tilgang_til_data_løsningsmønster_uhf_oversikt">1. Få tilgang til data - løsningsmønster UHF - oversikt</a></li>
<li><a href="#_data_konsument">2. Data-konsument</a></li>
<li><a href="#_beskrivelse_api">3. Beskrivelse API</a></li>
<li><a href="#_api_søk">4. API-søk</a></li>
<li><a href="#_få_tilgang_til_data_konsument">5. Få tilgang til data (konsument)</a></li>
<li><a href="#_uhf_api_katalog">6. UHF API katalog</a></li>
<li><a href="#_uhf_tildel_rettigheter_til_klienter">7. UHF tildel rettigheter til klienter</a></li>
<li><a href="#_api_tilgangs_forespørsel">8. API tilgangs-forespørsel</a></li>
<li><a href="#_uhf_oauth2_autorisasjonstjener">9. UHF Oauth2 autorisasjonstjener</a>
<ul class="sectlevel2">
<li><a href="#_uhf_klientregister">9.1. UHF Klientregister</a></li>
</ul>
</li>
<li><a href="#_oauth_scopes">10. OAUTH scopes</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_få_tilgang_til_data_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_få_tilgang_til_data_løsningsmønster_uhf_oversikt"></a>1. Få tilgang til data - løsningsmønster UHF - oversikt</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Tjeneste for å registrere og vedlikeholde API-definisjoner og scopes i Maskinporten.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="master@drafts:Få tilgang til data - løsningsmønster UHF:Få tilgang til data - løsningsmønster UHF.png" alt="Få tilgang til data - løsningsmønster UHF image">
</div>
<div class="title">Figure 1. Få tilgang til data - løsningsmønster UHF</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_konsument"><a class="anchor" href="#_data_konsument"></a>2. Data-konsument</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beskrivelse_api"><a class="anchor" href="#_beskrivelse_api"></a>3. Beskrivelse API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p>
</div>
<div class="paragraph">
<p>Ønsker å bruke Open API spesifikasjon</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_søk"><a class="anchor" href="#_api_søk"></a>4. API-søk</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Tjeneste for å søke etter og finne tilgjengelige API-er</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_få_tilgang_til_data_konsument"><a class="anchor" href="#_få_tilgang_til_data_konsument"></a>5. Få tilgang til data (konsument)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Evnen til å skaffe seg tilgang til tilbudte data fra annen aktør.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uhf_api_katalog"><a class="anchor" href="#_uhf_api_katalog"></a>6. UHF API katalog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Registeret skal være mest mulig selvbetjent</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uhf_tildel_rettigheter_til_klienter"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter"></a>7. UHF tildel rettigheter til klienter</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_api_tilgangs_forespørsel"><a class="anchor" href="#_api_tilgangs_forespørsel"></a>8. API tilgangs-forespørsel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>API eieren får forespørsel om den vil gi konsumenten tilgang til APIet.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uhf_oauth2_autorisasjonstjener"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener"></a>9. UHF Oauth2 autorisasjonstjener</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect2">
<h3 id="_uhf_klientregister"><a class="anchor" href="#_uhf_klientregister"></a>9.1. UHF Klientregister</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_oauth_scopes"><a class="anchor" href="#_oauth_scopes"></a>10. OAUTH scopes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hvordan får Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div>
<div class="paragraph">
<p>Fra eHelse: Regler for et API som beskriver hvilke tilganger en datakonsument (representert ved organisasjonsnummer) og deres klienter skal ha tilgang til (utstedt token for).</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Kontakt: nasjonalarkitektur@digdir.no</p>
</footer><script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
