<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Målarkitekturen for datadeling i høyere utdanning og forskning :: Nasjonalt arkitekturverksted</title>
    <link rel="canonical" href="https://nasjonal-arkitektur.github.io/drafts/unit-ra-datadeling-målarkitekturen/Målarkitekturen%20for%20datadeling%20i%20høyere%20utdanning%20og%20forskning.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://nasjonal-arkitektur.github.io">Nasjonalt arkitekturverksted</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
 		<a id="twitter-link" class="navbar-item" href="https://twitter.com/janakaSteph" target="_blank">
          <i class="fab fa-twitter"></i>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="drafts" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Utkast og innspill</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../about-drafts.html">Om utkast og innspill</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Innspill til referansearkitekturer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ra-integrated-processes/ra-integrated-processes-proposal.html">Referansearkitektur for samhandlingsprosesser (forslag)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ra-iam/ra-iam-proposal.html">Referansearkitektur for informasjonssikkerhet, tillit og personvern (forslag)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Målbilde for nasjonal samhandlingsinfrastruktur (forslag)</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for tillitstjenester</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for datadeling</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for samhandlingsprosesser</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for integrasjon med EU-s Single Digital Gateway</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for IOT</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for API management</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for fagsystemer</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for saksbehandling i kommuner</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">UNIT-test 1</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Informasjonsforvaltningsdomener.html">Informasjonsforvaltningsdomener</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Applikasjonsoversikt%20forsepørsel%20integrert%20med%20IAM.html">Applikasjonsoversikt forsepørsel integrert med IAM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Applikasjonsoversikt%20forsepørsel%20integrert%20nasjonalt.html">Applikasjonsoversikt forsepørsel integrert nasjonalt</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Applikasjonsoversikt%20forsepørsel.html">Applikasjonsoversikt forsepørsel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Avgi%20data%20-%20løsningsmønster%20UHF.html">Avgi data - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Dataobjekter%20eOppslag%20-%20med%20metadata%20UHF.html">Dataobjekter eOppslag - med metadata UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Dataobjekter%20eOppslag%20UHF.html">Dataobjekter eOppslag UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Delegere%20rettigheter%20til%20databehandler%20-%20løsningsmønster%20UHF.html">Delegere rettigheter til databehandler - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.html">Få tilgang til data - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Innhente%20data%20-%20løsningsmønster%20UHF.html">Innhente data - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Registrere%20API%20%20UHF.html">Registrere API  UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Tilgjengeliggjøre%20data%20etter%20forspørsel%20løsningsmønster%20UHF.html">Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">UNIT-test 2</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Bøker/UNIT-bok1.html">UNIT-bok1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Konvertert%20word%20doc/Referansearkitektur-datadeling.html">Referansearkitektur for deling av data i høyere utdanning og forsking</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Bøker/Referansearkitektur%20for%20deling%20av%20data%20i%20høyere%20utdanning%20og%20forsking.html">Referansearkitektur for deling av data i høyere utdanning og forsking</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Se også</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../architecture-repository/index.html">Nasjonalt arkitekturverksted</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../knowledge/index.html">Arkitekturfaglig kunnskapsverksted</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Utkast og innspill</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Arkitekturfaglig kunnskapsverksted</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../knowledge/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Nasjonalt arkitekturverksted</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-repository/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Utkast og innspill</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../architecture-repository/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Utkast og innspill</a></li>
    <li><a href="Målarkitekturen%20for%20datadeling%20i%20høyere%20utdanning%20og%20forskning.html">Målarkitekturen for datadeling i høyere utdanning og forskning</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///C:/gitlab/digdir/components/draft-components/drafts/unit/modules/unit-ra-datadeling-målarkitekturen/pages/Målarkitekturen%20for%20datadeling%20i%20høyere%20utdanning%20og%20forskning.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Målarkitekturen for datadeling i høyere utdanning og forskning</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_om_arkitekturprinsippenes_føringer_for_datadeling">1. Om arkitekturprinsippenes føringer for datadeling</a></li>
<li><a href="#_hva_er_datadeling">2. Hva er datadeling</a></li>
<li><a href="#_modeller_for_datadeling">3. Modeller for datadeling</a>
<ul class="sectlevel2">
<li><a href="#_del_og_innhent_data_verdistrøm">3.1. Del og innhent data, verdistrøm</a>
<ul class="sectlevel3">
<li><a href="#_del_og_innhent_data_verdistrøm_oversikt">3.1.1. Del og innhent data, verdistrøm - oversikt</a></li>
<li><a href="#_datatilbyder">3.1.2. Datatilbyder</a></li>
<li><a href="#_del_data">3.1.3. Del  data</a></li>
<li><a href="#_data_konsument">3.1.4. Data-konsument</a></li>
<li><a href="#_collect_data">3.1.5. Collect data</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_kapabiliteter">4. Kapabiliteter</a>
<ul class="sectlevel2">
<li><a href="#_muliggjørende_kapabiliteter">4.1. Muliggjørende kapabiliteter</a>
<ul class="sectlevel3">
<li><a href="#_muliggjørende_kapabiliteter_oversikt">4.1.1. Muliggjørende kapabiliteter - oversikt</a></li>
<li><a href="#_muliggjørende_kapabiliteter_2">4.1.2. Muliggjørende kapabiliteter</a></li>
</ul>
</li>
<li><a href="#_informasjonsforvaltningsdomener">4.2. Informasjonsforvaltningsdomener</a>
<ul class="sectlevel3">
<li><a href="#_informasjonsforvaltningsdomener_oversikt">4.2.1. Informasjonsforvaltningsdomener - oversikt</a></li>
<li><a href="#_informasjonsforvaltningsdomener_2">4.2.2. Informasjonsforvaltningsdomener</a></li>
<li><a href="#_strategi_og_styring">4.2.3. Strategi og styring</a></li>
<li><a href="#_kommersiell_aktivitet">4.2.4. Kommersiell aktivitet</a></li>
<li><a href="#_undervisning_og_læring">4.2.5. Undervisning og læring</a></li>
<li><a href="#_forskning">4.2.6. Forskning</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_felleskomponenter">5. Felleskomponenter</a></li>
<li><a href="#_datautveksling">6. Datautveksling</a>
<ul class="sectlevel2">
<li><a href="#_datautveksling_ved_oppslag">6.1. Datautveksling ved oppslag</a>
<ul class="sectlevel3">
<li><a href="#_applikasjonsoversikt_forespørsel">6.1.1. Applikasjonsoversikt forespørsel</a></li>
<li><a href="#_applikasjonsoversikt_forespørsel_integrert_med_iam">6.1.2. Applikasjonsoversikt forespørsel integrert med IAM</a></li>
<li><a href="#_applikasjonsoversikt_forespørsel_integrert_nasjonalt">6.1.3. Applikasjonsoversikt forespørsel integrert nasjonalt</a></li>
<li><a href="#_registrere_api_uhf">6.1.4. Registrere API UHF</a></li>
<li><a href="#_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf">6.1.5. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</a></li>
<li><a href="#_få_tilgang_til_data_løsningsmønster_uhf">6.1.6. Få tilgang til data - løsningsmønster UHF</a></li>
<li><a href="#_innhente_data_løsningsmønster_uhf">6.1.7. Innhente data - løsningsmønster UHF</a></li>
<li><a href="#_avgi_data_løsningsmønster_uhf">6.1.8. Avgi data - løsningsmønster UHF</a></li>
</ul>
</li>
<li><a href="#_datautveksling_ved_publisering_konsumering_hendelsesbasert">6.2. Datautveksling ved publisering – konsumering (hendelsesbasert)</a></li>
</ul>
</li>
<li><a href="#_integrasjonsmønster_for_datadeling">7. Integrasjonsmønster for datadeling</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_om_arkitekturprinsippenes_føringer_for_datadeling"><a class="anchor" href="#_om_arkitekturprinsippenes_føringer_for_datadeling"></a>1. Om arkitekturprinsippenes føringer for datadeling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pek til
<a href="https://www.digdir.no/digitalisering-og-samordning/overordnede-arkitekturprinsipper/1065">overordnede arkitekturprinsippene</a> fra digitaliseringsdirektoratet og hva de betyr
her.</p>
</div>
<div class="paragraph">
<p><mark>Trenger vi noen justeringer av prinsippene?</mark></p>
</div>
<div class="paragraph">
<p>Si noe om UH-IntArk prinsippene og forhold til de overordnede
arkitekturprinsippene</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hva_er_datadeling"><a class="anchor" href="#_hva_er_datadeling"></a>2. Hva er datadeling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Følgende definisjon for datadeling er hentet fra
Digitaliseringsdirektoratets
<a href="https://doc.difi.no/nasjonal-arkitektur/nab_arkitekturlandskap_segmentarkitektur_datadeling/">segmentarkitektur for datadeling</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title"><em>Datadeling</em></div>
<div class="paragraph">
<p>Datadeling handler om å forsyne forretningsprosesser og dataanalyse med nødvendig datagrunnlag.</p>
</div>
<div class="paragraph">
<p>De fleste aktører sitter på begge sider i dette bildet, og må kunne
både <em>dele</em> og <em>innhente</em> data og hendelser. I beskrivelsene skilles det
likevel gjerne på rollene som <em>tilbyder</em> og <em>konsument</em>.</p>
</div>
<div class="paragraph">
<p>Begrepet <em>datadeling</em> er ut fra dette å oppfatte som kortform
for <strong><em>deling og innhenting av data og hendelser</em></strong>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modeller_for_datadeling"><a class="anchor" href="#_modeller_for_datadeling"></a>3. Modeller for datadeling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Når datatilbydere og datakonsumenter deler data, skjer det som en del av
en digital samhandling. For at samhandlingen skal være vellykket, må
tilbydere og konsumenter sikre at de handler i henhold til loven
(juridisk samhandlingsevne), at aktørene har avklart forventninger til
hverandre (organisatorisk samhandlingsevne), at datatilbyder og
konsumenter har samme forståelse av dataenes betydning (semantisk
samhandlingsevne) og at de tekniske løsningene som utfører datadeling
fungerer sammen slik de skal (teknisk samhandlingsevne).
<a href="https://www.digdir.no/nasjonal-arkitektur/rammeverk-digital-samhandling/2148#juridisk_samhandlingsevne">Rammeverk
for digital samhandling</a> vist under utdyper disse samhandlingsevner.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/image4.png" alt="image" width="464" height="274"></span></p>
</div>
<div class="paragraph">
<p>Modellene i referansearkitekturen beskrevet under er laget for å ivareta
juridisk-, organisatorisk-, semantisk- og teknisk samhandlingsevner og
hjelper dermed de som benytter modellene til å lykkes med digital
samhandling.</p>
</div>
<div class="paragraph">
<p><a href="https://nasjonal-arkitektur.github.io/architecture-repository/about-topic-areas/about-topic-areas.html">Nasjonale
referansearkitekturer innen datadeling og datautveksling</a> er fremdeles
under utvikling. Vi gjenbruker her noen av modellene uendret, og
tilpasser noen for høyere utdanning og forskning. Den overordnede
verdistrømmen for datadeling og relaterte kapabiliteter <mark>avbildet under</mark>
er uendret.</p>
</div>
<div class="sect2">
<h3 id="_del_og_innhent_data_verdistrøm"><a class="anchor" href="#_del_og_innhent_data_verdistrøm"></a>3.1. Del og innhent data, verdistrøm</h3>
<div class="sect3">
<h4 id="_del_og_innhent_data_verdistrøm_oversikt"><a class="anchor" href="#_del_og_innhent_data_verdistrøm_oversikt"></a>3.1.1. Del og innhent data, verdistrøm - oversikt</h4>
<div class="paragraph">
<p><mark>TODO (Erik): Beskrivelse av Del og innhent data, verdistrøm + hvert steg</mark></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Del%20og%20innhent%20data,%20verdistrøm.png" alt="Del og innhent data" width="verdistrøm image">
</div>
<div class="title">Figure 1. Del og innhent data, verdistrøm</div>
</div>
</div>
<div class="sect3">
<h4 id="_datatilbyder"><a class="anchor" href="#_datatilbyder"></a>3.1.2. Datatilbyder</h4>
<div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div>
<div class="paragraph">
<p>API Eiere  (kan eie Data som API gir tilgang til, eller system som tilbyr APIet)??</p>
</div>
<div class="paragraph">
<p>Når virksomheten tilbyr åpne data, vil det være virksomheten som eier dataene. (men det bør vel definere et domen-eier innenfor virksomheten)</p>
</div>
<div class="paragraph">
<p>Data eier på to nivå: f. eks. studieavdelingen (er ikke dette behandlingsansvarlig?) spør studenten om de gir samtykke til å gi tilgang til data om studenten som hen eier.</p>
</div>
</div>
<div class="sect3">
<h4 id="_del_data"><a class="anchor" href="#_del_data"></a>3.1.3. Del  data</h4>
<div class="sect4">
<h5 id="_motta_henvendelser_om_datadeling"><a class="anchor" href="#_motta_henvendelser_om_datadeling"></a>3.1.3.1. Motta henvendelser om datadeling</h5>

</div>
<div class="sect4">
<h5 id="_ta_rede_på_egne_data_og_krav_til_datadeling"><a class="anchor" href="#_ta_rede_på_egne_data_og_krav_til_datadeling"></a>3.1.3.2. Ta rede på egne data og krav til datadeling</h5>

</div>
<div class="sect4">
<h5 id="_tilrettelegg_for_dataoppdagelse_og_datadeling"><a class="anchor" href="#_tilrettelegg_for_dataoppdagelse_og_datadeling"></a>3.1.3.3. Tilrettelegg for dataoppdagelse og datadeling</h5>

</div>
<div class="sect4">
<h5 id="_avgi_data"><a class="anchor" href="#_avgi_data"></a>3.1.3.4. Avgi data</h5>

</div>
<div class="sect4">
<h5 id="_sett_opp_avtaler_løsninger_og_tilganger_etter_henvendelse"><a class="anchor" href="#_sett_opp_avtaler_løsninger_og_tilganger_etter_henvendelse"></a>3.1.3.5. Sett opp avtaler, løsninger og tilganger etter henvendelse</h5>

</div>
<div class="sect4">
<h5 id="_forbedre_løsninger_sikkerhet_og_datakvalitet_tilbyder"><a class="anchor" href="#_forbedre_løsninger_sikkerhet_og_datakvalitet_tilbyder"></a>3.1.3.6. Forbedre løsninger, sikkerhet og datakvalitet (tilbyder)</h5>

</div>
</div>
<div class="sect3">
<h4 id="_data_konsument"><a class="anchor" href="#_data_konsument"></a>3.1.4. Data-konsument</h4>
<div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div>
</div>
<div class="sect3">
<h4 id="_collect_data"><a class="anchor" href="#_collect_data"></a>3.1.5. Collect data</h4>
<div class="sect4">
<h5 id="_ta_rede_på_behov_for_innhenting_av_data"><a class="anchor" href="#_ta_rede_på_behov_for_innhenting_av_data"></a>3.1.5.1. Ta rede på behov for innhenting av data</h5>

</div>
<div class="sect4">
<h5 id="_oppdag_data_og_datakilder"><a class="anchor" href="#_oppdag_data_og_datakilder"></a>3.1.5.2. Oppdag data og datakilder</h5>

</div>
<div class="sect4">
<h5 id="_forespør_og_motta_data"><a class="anchor" href="#_forespør_og_motta_data"></a>3.1.5.3. Forespør og motta data</h5>

</div>
<div class="sect4">
<h5 id="_forbedre_løsninger_sikkerhet_og_datakvalitet_konsument"><a class="anchor" href="#_forbedre_løsninger_sikkerhet_og_datakvalitet_konsument"></a>3.1.5.4. Forbedre løsninger, sikkerhet og datakvalitet (konsument)</h5>

</div>
<div class="sect4">
<h5 id="_be_om_tilganger_og_abonnementer"><a class="anchor" href="#_be_om_tilganger_og_abonnementer"></a>3.1.5.5. Be  om tilganger og abonnementer</h5>

</div>
<div class="sect4">
<h5 id="_etabler_avtaler_og_løsninger_for_datainnhenting"><a class="anchor" href="#_etabler_avtaler_og_løsninger_for_datainnhenting"></a>3.1.5.6. Etabler avtaler og løsninger for datainnhenting</h5>

</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_kapabiliteter"><a class="anchor" href="#_kapabiliteter"></a>4. Kapabiliteter</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="master@drafts:unit-ra-datadeling-målarkitekturen:image6.png" alt="Diagram Description automatically generated" width="567" height="269"></span></p>
</div>
<div class="paragraph">
<p><mark>Legge til tekst fra modellen som beskriver figuren</mark></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="master@drafts:unit-ra-datadeling-målarkitekturen:image7.png" alt="Diagram Description automatically generated" width="567" height="325"></span></p>
</div>
<div class="paragraph">
<p> [Legge til tekst fra modellen som beskriver figuren]</p>
</div>
<div class="paragraph">
<p>Som vist i figuren over, må datatilbyderen ha oversikt over egne data
som skal deles og evne til å publisere datasettene slik at andre kan
benytte disse. For at datadeling skal fungere etter hensikt, må dataene
ha god kvalitet. Dette krever kapabiliteter innen
informasjonsforvaltning.  Vi har modellert disse evner som
«muliggjørende kapabiliteter» i referansearkitekturen for høyere
utdanning og forskning med utgangspunkt i
<a href="https://app.powerbi.com/view?r=eyJrIjoiMThhNjkzNmItOGQ4NC00MDkzLWI3MDQtNzY0ZjA1MjQ5MzViIiwidCI6ImFlMWE3NzI0LTQwNDEtNDQ2Mi1hNmRjLTUzOGNiMTk5NzA3ZSIsImMiOjh9">EUNIS
sin kapabilitetsmodell for europeiske universiteter</a> som vist under. God
informasjonsforvaltning støtter både opp om organisatorisk
samhandlingsevne gjennom å gi organisasjoner riktig data av god kvalitet
og støtter opp om semantisk samhandlingsevne ved å klargjøre dataenes
betydning. Vi velger også å synliggjøre juridiske tjenester som
muliggjørende kapabilitet for å støtte opp under juridisk
samhandlingsevne.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="master@drafts:unit-ra-datadeling-målarkitekturen:image8.png" alt="image" width="567" height="122"></span></p>
</div>
<div class="paragraph">
<p>Informasjonen som skal forvaltes finnes i en faglig kontekst som vi
kaller «domener». Fageksperter bør ha eierskap til begrepsdefinisjoner
innen egen domene. Domenene bør også være ansvarlig for forvaltning av
egen informasjon. Vi har benyttet EUNIS kapabilitetsmodellen som kilde
til definisjon av fagdomener der ansvar for forvaltning av informasjon
skal være.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="master@drafts:unit-ra-datadeling-målarkitekturen:image9.png" alt="image" width="567" height="233"></span></p>
</div>
<div class="paragraph">
<p><mark>Legge til tekst fra modellen som beskriver figuren</mark></p>
</div>
<div class="sect2">
<h3 id="_muliggjørende_kapabiliteter"><a class="anchor" href="#_muliggjørende_kapabiliteter"></a>4.1. Muliggjørende kapabiliteter</h3>
<div class="sect3">
<h4 id="_muliggjørende_kapabiliteter_oversikt"><a class="anchor" href="#_muliggjørende_kapabiliteter_oversikt"></a>4.1.1. Muliggjørende kapabiliteter - oversikt</h4>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Muliggjørende%20kapabiliteter.png" alt="Muliggjørende kapabiliteter image">
</div>
<div class="title">Figure 2. Muliggjørende kapabiliteter</div>
</div>
</div>
<div class="sect3">
<h4 id="_muliggjørende_kapabiliteter_2"><a class="anchor" href="#_muliggjørende_kapabiliteter_2"></a>4.1.2. Muliggjørende kapabiliteter</h4>
<div class="paragraph">
<p>AKSJON: NTNU oppdaterer definisjon</p>
</div>
<div class="paragraph">
<p>Hva organisasjonen gjør for å sikre at den fremmer og forbedrer sin profil og omdømme regionalt, nasjonalt og internasjonalt. Gjennom publisering av forskning og kompetanse, prestasjoner og oppnåelser til en rekke medier og nettverk, samtidig som de reagerer på direkte henvendelser fra pressen, og maksimerer positiv dekning i media.</p>
</div>
<div class="paragraph">
<p>EUNIS: Enabling Capabilities</p>
</div>
<div class="sect4">
<h5 id="_juridiske_tjenester"><a class="anchor" href="#_juridiske_tjenester"></a>4.1.2.1. Juridiske tjenester</h5>
<div class="paragraph">
<p>Alle aktiviteter som har som mål å sikre tilgjengeligheten av effektive juridiske tjenester.</p>
</div>
<div class="paragraph">
<p>EUNIS: Legal services</p>
</div>
</div>
<div class="sect4">
<h5 id="_informasjonsforvaltning"><a class="anchor" href="#_informasjonsforvaltning"></a>4.1.2.2. Informasjonsforvaltning</h5>
<div class="paragraph">
<p>Aktiviteter og tiltak for å sikre best mulig kvalitet, utnytting og sikring av informasjon i en virksomhet [kilde data.norge.no]. Administrert Informasjon inkluderer strukturerte og ustrukturerte data med omfang som definert av retningslinjene for datasikkerhet og datahåndtering.</p>
</div>
<div class="paragraph">
<p>EUNIS: Information management</p>
</div>
<div class="sect5">
<h6 id="_forvaltning_av_informasjons_og_datasikkerhet"><a class="anchor" href="#_forvaltning_av_informasjons_og_datasikkerhet"></a>4.1.2.2.1. Forvaltning av informasjons- og datasikkerhet</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å vurdere, merke, overvåke, administrere og vedlikeholde informasjonssikkerhet, og gripe inn / eskalere i tilfelle brudd på informasjonssikkerhetspolitikken. Dette vil omfatte overholdelse av reguleringer, lovgivning og intern risikostyring.</p>
</div>
<div class="paragraph">
<p>EUNIS: Information &amp; Data Security Management</p>
</div>
</div>
<div class="sect5">
<h6 id="_forvaltning_av_datakvalitet"><a class="anchor" href="#_forvaltning_av_datakvalitet"></a>4.1.2.2.2. Forvaltning av datakvalitet</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å sikre at data er korrekte, komplette, oppdaterte og konsistente og har evnen til å støtte de informasjonsformål de brukes til.</p>
</div>
</div>
<div class="sect5">
<h6 id="_informasjons_gjenfinning"><a class="anchor" href="#_informasjons_gjenfinning"></a>4.1.2.2.3. Informasjons-gjenfinning</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å lokalisere, indeksere, katalogisere og publisere informasjon for både intern og ekstern bruk. Dette kan omfatte data som ikke oppbevares av organisasjonen.</p>
</div>
<div class="paragraph">
<p>EUNIS: Information Search &amp; discovery</p>
</div>
</div>
<div class="sect5">
<h6 id="_informasjons_registrering_rettighetsklarering_og_publisering"><a class="anchor" href="#_informasjons_registrering_rettighetsklarering_og_publisering"></a>4.1.2.2.4. Informasjons-registrering, rettighetsklarering og publisering</h6>
<div class="paragraph">
<p>AKSJON:  NTNU foreslår definisjon</p>
</div>
<div class="paragraph">
<p>Hva organisasjonen gjør for å skaffe, vedlikeholde og administrere innhold på tvers av både digitale og fysiske plattformer.</p>
</div>
<div class="paragraph">
<p>EUNIS: Enterprise Content Management</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_informasjonsforvaltningsdomener"><a class="anchor" href="#_informasjonsforvaltningsdomener"></a>4.2. Informasjonsforvaltningsdomener</h3>
<div class="sect3">
<h4 id="_informasjonsforvaltningsdomener_oversikt"><a class="anchor" href="#_informasjonsforvaltningsdomener_oversikt"></a>4.2.1. Informasjonsforvaltningsdomener - oversikt</h4>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Informasjonsforvaltningsdomener.png" alt="Informasjonsforvaltningsdomener image">
</div>
<div class="title">Figure 3. Informasjonsforvaltningsdomener</div>
</div>
</div>
<div class="sect3">
<h4 id="_informasjonsforvaltningsdomener_2"><a class="anchor" href="#_informasjonsforvaltningsdomener_2"></a>4.2.2. Informasjonsforvaltningsdomener</h4>

</div>
<div class="sect3">
<h4 id="_strategi_og_styring"><a class="anchor" href="#_strategi_og_styring"></a>4.2.3. Strategi og styring</h4>
<div class="paragraph">
<p>Hva organisasjonen gjør for å utvikle og opprettholde et sammenhengende bilde av fremtiden</p>
</div>
<div class="paragraph">
<p>EUNIS: Strategy and Governance</p>
</div>
</div>
<div class="sect3">
<h4 id="_kommersiell_aktivitet"><a class="anchor" href="#_kommersiell_aktivitet"></a>4.2.4. Kommersiell aktivitet</h4>
<div class="paragraph">
<p>Alle egenskaper som kreves for å sikre at organisasjonen er i stand til å utvikle, levere, støtte og administrere kommersiell aktivitet.</p>
</div>
<div class="paragraph">
<p>EUNIS: Commerical activity</p>
</div>
</div>
<div class="sect3">
<h4 id="_undervisning_og_læring"><a class="anchor" href="#_undervisning_og_læring"></a>4.2.5. Undervisning og læring</h4>
<div class="paragraph">
<p>Alle kapabiliteter som kreves for å sikre at organisasjonen er i stand til å utvikle, levere, støtte og administrere undervisning og læring og studentopplevelsen.</p>
</div>
<div class="paragraph">
<p>EUNIS: Teaching and learning</p>
</div>
<div class="sect4">
<h5 id="_studieplanlegging"><a class="anchor" href="#_studieplanlegging"></a>4.2.5.1. Studieplanlegging</h5>
<div class="paragraph">
<p>Alle aktiviteter rettet mot lærere og administratorer som samarbeider om opprettelse, utvikling, konstruksjon, gjennomgang, godkjenning, vurdering og foredling av pensuminnhold for å oppnå ønskede studentresultater.</p>
</div>
<div class="paragraph">
<p>EUNIS: Curriculum Management</p>
</div>
</div>
<div class="sect4">
<h5 id="_leveranse_av_undervisning_og_læring"><a class="anchor" href="#_leveranse_av_undervisning_og_læring"></a>4.2.5.2. Leveranse av undervisning og læring</h5>
<div class="paragraph">
<p>AKSJON: NTNU kommer med oppdatert forslag</p>
</div>
<div class="paragraph">
<p>Hva organisasjonen gjør for å velge, allokere og administrere plassering av studenter i lærings- og praksismiljøer utenfor organisasjonen som en del av læreplanen.</p>
</div>
<div class="paragraph">
<p>EUNIS: Teaching and Learning Delivery</p>
</div>
<div class="sect5">
<h6 id="_undervisnings_og_læringsinnhold"><a class="anchor" href="#_undervisnings_og_læringsinnhold"></a>4.2.5.2.1. Undervisnings- og læringsinnhold</h6>
<div class="paragraph">
<p>AKSJON: NTNU - Teaching and learning content - NTNU sier "" ?? - mangler?</p>
</div>
<div class="paragraph">
<p>EUNIS: Teaching and Learning Content</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_studieadministrasjon"><a class="anchor" href="#_studieadministrasjon"></a>4.2.5.3. Studieadministrasjon</h5>
<div class="paragraph">
<p>Alle aktiviteter som er rettet mot å håndtere faglige retningslinjer, forskrifter, planlegging og tilhørende tilbakemeldinger fra kunder.</p>
</div>
<div class="paragraph">
<p>EUNIS: Student Administration</p>
</div>
</div>
<div class="sect4">
<h5 id="_student_vurdering"><a class="anchor" href="#_student_vurdering"></a>4.2.5.4. Student-vurdering</h5>
<div class="paragraph">
<p>AKSJON: NTNU kommer med definisjon</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_forskning"><a class="anchor" href="#_forskning"></a>4.2.6. Forskning</h4>
<div class="paragraph">
<p>Alle egenskaper som kreves for å sikre at organisasjonen er i stand til å utvikle, levere, støtte og administrere forskning.</p>
</div>
<div class="paragraph">
<p>EUNIS: Research</p>
</div>
<div class="sect4">
<h5 id="_forskningspublisering"><a class="anchor" href="#_forskningspublisering"></a>4.2.6.1. Forskningspublisering</h5>
<div class="paragraph">
<p>Alle aktiviteter rettet mot å publisere forskningsresultater og rapportere resultater.</p>
</div>
<div class="sect5">
<h6 id="_rapportering_av_forskningsresultater"><a class="anchor" href="#_rapportering_av_forskningsresultater"></a>4.2.6.1.1. Rapportering av forskningsresultater</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å utvikle og produsere rapporter om forskningsresultater, inkludert de som er nødvendige for å oppfylle kravene fra finansieringsorganer.</p>
</div>
<div class="paragraph">
<p>EUNIS: Output Reporting</p>
</div>
</div>
<div class="sect5">
<h6 id="_publiseringsforvaltning"><a class="anchor" href="#_publiseringsforvaltning"></a>4.2.6.1.2. Publiseringsforvaltning</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å publisere og fremme forskningsresultater, og administrere publikasjonssamlingene sine helhetlig for å maksimere virkningen av dem.</p>
</div>
<div class="paragraph">
<p>EUNIS: Publication Management</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_forskningsfinansiering"><a class="anchor" href="#_forskningsfinansiering"></a>4.2.6.2. Forskningsfinansiering</h5>
<div class="paragraph">
<p>Alle aktiviteter rettet mot å skaffe og forvalte midler til å gjennomføre forskningsprosjekter.</p>
</div>
<div class="paragraph">
<p>EUNIS: Research funding</p>
</div>
</div>
<div class="sect4">
<h5 id="_forskningsproduksjon"><a class="anchor" href="#_forskningsproduksjon"></a>4.2.6.3. Forskningsproduksjon</h5>
<div class="paragraph">
<p>Alle aktiviteter rettet mot å gjennomføre og levere selve forskningen.</p>
</div>
<div class="paragraph">
<p>EUNIS: Research Delivery</p>
</div>
<div class="sect5">
<h6 id="_forskningsforvaltning_og_prioritering"><a class="anchor" href="#_forskningsforvaltning_og_prioritering"></a>4.2.6.3.1. Forskningsforvaltning og prioritering</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å forvalte resultatene fra forskningsprosjekter, inkludert bevaring utover levetiden til enkeltprosjekter.</p>
</div>
<div class="paragraph">
<p>EUNIS: Output Management</p>
</div>
</div>
<div class="sect5">
<h6 id="_kurratering_av_forskningsdata"><a class="anchor" href="#_kurratering_av_forskningsdata"></a>4.2.6.3.2. Kurratering av forskningsdata</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å lagre, dele, bruke og gjenbruke datasett produsert fra forskningsprosjekter, inkludert datasettstyringsplanlegging og kuratering av datasett utover levetiden til enkeltprosjekter.</p>
</div>
<div class="paragraph">
<p>EUNIS: Dataset management</p>
</div>
</div>
<div class="sect5">
<h6 id="_forskningsproduksjon_2"><a class="anchor" href="#_forskningsproduksjon_2"></a>4.2.6.3.3. Forskningsproduksjon</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å produsere forskning. Dette er utførelsen av forskningsprosjektet.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_felleskomponenter"><a class="anchor" href="#_felleskomponenter"></a>5. Felleskomponenter</h2>
<div class="sectionbody">
<div class="paragraph">
<p><mark>(i sektoren hittil har «felles» betyd både at alle bruker samme instans,
eller at alle har identiske instanser – vi må presisere hva som er
hva etter hvert)</mark></p>
</div>
<div class="paragraph">
<p>Innledende tekst om hva slags funksjonalitet vi trenger i
felleskomponenter og hvorfor, motivert fra kapabilitetene over.</p>
</div>
<div class="paragraph">
<p><mark>Jeg har laget et Archimate view som heter «Felleskomponenter»,
men jeg vil ikke ha bildet, bare teksten som står i beskrivelse av
kompontenene</mark></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Autentiseringstjeneste​</p>
</li>
<li>
<p>API manager​</p>
</li>
<li>
<p>API katalog / datakatalog ​</p>
</li>
<li>
<p>API gateway​</p>
</li>
<li>
<p>Autorisasjonstjeneste / Nøkkelutsteder ​</p>
</li>
<li>
<p>Klient register​</p>
</li>
<li>
<p>Identity Governance Administration (IGA)​</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>Heidi NB: mangler komponenter for hendelsesstrømming/-publisering</mark></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_datautveksling"><a class="anchor" href="#_datautveksling"></a>6. Datautveksling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Med utgangspunkt i
<a href="https://nasjonal-arkitektur.github.io/architecture-repository/data-exchange-ra/book-data-exchange-ra.html">Referansearkitektur
for datautveksling</a> beskriv de mønstrene som vi bruker</p>
</div>
<div class="sect2">
<h3 id="_datautveksling_ved_oppslag"><a class="anchor" href="#_datautveksling_ved_oppslag"></a>6.1. Datautveksling ved oppslag</h3>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forespørsel"><a class="anchor" href="#_applikasjonsoversikt_forespørsel"></a>6.1.1. Applikasjonsoversikt forespørsel</h4>
<div class="sect4">
<h5 id="_applikasjonsoversikt_forespørsel_oversikt"><a class="anchor" href="#_applikasjonsoversikt_forespørsel_oversikt"></a>6.1.1.1. Applikasjonsoversikt forespørsel - oversikt</h5>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Applikasjonsoversikt%20forespørsel.png" alt="Applikasjonsoversikt forespørsel image">
</div>
<div class="title">Figure 4. Applikasjonsoversikt forespørsel</div>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_infrastruktur"><a class="anchor" href="#_uhf_infrastruktur"></a>6.1.1.2. UHF Infrastruktur</h5>
<div class="sect5">
<h6 id="_tokentjeneste"><a class="anchor" href="#_tokentjeneste"></a>6.1.1.2.1. Tokentjeneste</h6>
<div class="paragraph">
<p>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p>
</div>
</div>
<div class="sect5">
<h6 id="_ressursportal"><a class="anchor" href="#_ressursportal"></a>6.1.1.2.2. Ressursportal</h6>
<div class="sect6">
<h7 id="_uhf_api_manager"><a class="anchor" href="#_uhf_api_manager"></a>6.1.1.2.2.1. UHF API manager</h7>
<div class="paragraph">
<p>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API. Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener. Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ivareta registrering, forvaltning og og utvikling av klientrettigheter</p>
</div>
<div class="paragraph">
<p>Hva tilbyr API av datamodell
Hvordan ønsker API å sikre seg selv
En klient må forholde seg til</p>
</div>
<div class="sect7">
<h8 id="_uhf_api_katalog"><a class="anchor" href="#_uhf_api_katalog"></a>6.1.1.2.2.1.1. UHF API katalog</h8>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
<div class="sect6">
<h7 id="_uhf_oauth2_autorisasjonstjener"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener"></a>6.1.1.2.2.2. UHF Oauth2 autorisasjonstjener</h7>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect7">
<h8 id="_uhf_klientregister"><a class="anchor" href="#_uhf_klientregister"></a>6.1.1.2.2.2.1. UHF Klientregister</h8>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_registrere_api_i_uhf_sektoren"><a class="anchor" href="#_registrere_api_i_uhf_sektoren"></a>6.1.1.2.3. Registrere API i UHF sektoren</h6>

</div>
<div class="sect5">
<h6 id="_uhf_tildel_rettigheter_til_klienter"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter"></a>6.1.1.2.4. UHF tildel rettigheter til klienter</h6>

</div>
</div>
<div class="sect4">
<h5 id="_uix"><a class="anchor" href="#_uix"></a>6.1.1.3. UiX</h5>
<div class="sect5">
<h6 id="_kildedata"><a class="anchor" href="#_kildedata"></a>6.1.1.3.1. Kildedata</h6>

</div>
<div class="sect5">
<h6 id="_api_gateway_hos_dataeier_oauth_resource_server"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server"></a>6.1.1.3.2. API Gateway hos dataeier / OAuth resource server</h6>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
<div class="sect5">
<h6 id="_kildedata_2"><a class="anchor" href="#_kildedata_2"></a>6.1.1.3.3. Kildedata</h6>

</div>
</div>
<div class="sect4">
<h5 id="_uio"><a class="anchor" href="#_uio"></a>6.1.1.4. UiO</h5>
<div class="sect5">
<h6 id="_kildedata_3"><a class="anchor" href="#_kildedata_3"></a>6.1.1.4.1. Kildedata</h6>

</div>
<div class="sect5">
<h6 id="_api_gateway_hos_dataeier_oauth_resource_server_2"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_2"></a>6.1.1.4.2. API Gateway hos dataeier / OAuth resource server</h6>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
<div class="sect5">
<h6 id="_kildedata_4"><a class="anchor" href="#_kildedata_4"></a>6.1.1.4.3. Kildedata</h6>

</div>
</div>
</div>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forespørsel_integrert_med_iam"><a class="anchor" href="#_applikasjonsoversikt_forespørsel_integrert_med_iam"></a>6.1.2. Applikasjonsoversikt forespørsel integrert med IAM</h4>
<div class="sect4">
<h5 id="_applikasjonsoversikt_forespørsel_integrert_med_iam_oversikt"><a class="anchor" href="#_applikasjonsoversikt_forespørsel_integrert_med_iam_oversikt"></a>6.1.2.1. Applikasjonsoversikt forespørsel integrert med IAM - oversikt</h5>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Applikasjonsoversikt%20forespørsel%20integrert%20med%20IAM.png" alt="Applikasjonsoversikt forespørsel integrert med IAM image">
</div>
<div class="title">Figure 5. Applikasjonsoversikt forespørsel integrert med IAM</div>
</div>
</div>
<div class="sect4">
<h5 id="_sluttbruker"><a class="anchor" href="#_sluttbruker"></a>6.1.2.2. Sluttbruker</h5>

</div>
<div class="sect4">
<h5 id="_klient"><a class="anchor" href="#_klient"></a>6.1.2.3. Klient</h5>

</div>
<div class="sect4">
<h5 id="_identitetstilbyder"><a class="anchor" href="#_identitetstilbyder"></a>6.1.2.4. Identitetstilbyder</h5>

</div>
<div class="sect4">
<h5 id="_uhf_infrastruktur_2"><a class="anchor" href="#_uhf_infrastruktur_2"></a>6.1.2.5. UHF Infrastruktur</h5>
<div class="sect5">
<h6 id="_uhf_tildel_rettigheter_til_klienter_2"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter_2"></a>6.1.2.5.1. UHF tildel rettigheter til klienter</h6>

</div>
<div class="sect5">
<h6 id="_ressursportal_2"><a class="anchor" href="#_ressursportal_2"></a>6.1.2.5.2. Ressursportal</h6>
<div class="sect6">
<h7 id="_uhf_oauth2_autorisasjonstjener_2"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_2"></a>6.1.2.5.2.1. UHF Oauth2 autorisasjonstjener</h7>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect7">
<h8 id="_uhf_klientregister_2"><a class="anchor" href="#_uhf_klientregister_2"></a>6.1.2.5.2.1.1. UHF Klientregister</h8>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_roller_og_tilgangsregler"><a class="anchor" href="#_roller_og_tilgangsregler"></a>6.1.2.6. Roller og tilgangsregler</h5>

</div>
<div class="sect4">
<h5 id="_attributter_grunndata"><a class="anchor" href="#_attributter_grunndata"></a>6.1.2.7. Attributter /grunndata</h5>

</div>
<div class="sect4">
<h5 id="_uix_2"><a class="anchor" href="#_uix_2"></a>6.1.2.8. UiX</h5>
<div class="sect5">
<h6 id="_kildedata_5"><a class="anchor" href="#_kildedata_5"></a>6.1.2.8.1. Kildedata</h6>

</div>
<div class="sect5">
<h6 id="_kildedata_6"><a class="anchor" href="#_kildedata_6"></a>6.1.2.8.2. Kildedata</h6>

</div>
<div class="sect5">
<h6 id="_api_gateway_hos_dataeier_oauth_resource_server_3"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_3"></a>6.1.2.8.3. API Gateway hos dataeier / OAuth resource server</h6>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_autentiseringstjeneste"><a class="anchor" href="#_autentiseringstjeneste"></a>6.1.2.9. Autentiseringstjeneste</h5>
<div class="paragraph">
<p>Tjeneste som benyttes av tilbyder for å autentisere aktuell konsument.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forespørsel_integrert_nasjonalt"><a class="anchor" href="#_applikasjonsoversikt_forespørsel_integrert_nasjonalt"></a>6.1.3. Applikasjonsoversikt forespørsel integrert nasjonalt</h4>
<div class="sect4">
<h5 id="_applikasjonsoversikt_forespørsel_integrert_nasjonalt_oversikt"><a class="anchor" href="#_applikasjonsoversikt_forespørsel_integrert_nasjonalt_oversikt"></a>6.1.3.1. Applikasjonsoversikt forespørsel integrert nasjonalt - oversikt</h5>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Applikasjonsoversikt%20forespørsel%20integrert%20nasjonalt.png" alt="Applikasjonsoversikt forespørsel integrert nasjonalt image">
</div>
<div class="title">Figure 6. Applikasjonsoversikt forespørsel integrert nasjonalt</div>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_infrastruktur_3"><a class="anchor" href="#_uhf_infrastruktur_3"></a>6.1.3.2. UHF Infrastruktur</h5>
<div class="sect5">
<h6 id="_tokentjeneste_2"><a class="anchor" href="#_tokentjeneste_2"></a>6.1.3.2.1. Tokentjeneste</h6>
<div class="paragraph">
<p>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p>
</div>
</div>
<div class="sect5">
<h6 id="_uhf_tildel_rettigheter_til_klienter_3"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter_3"></a>6.1.3.2.2. UHF tildel rettigheter til klienter</h6>

</div>
<div class="sect5">
<h6 id="_registrere_api_i_uhf_sektoren_2"><a class="anchor" href="#_registrere_api_i_uhf_sektoren_2"></a>6.1.3.2.3. Registrere API i UHF sektoren</h6>

</div>
<div class="sect5">
<h6 id="_ressursportal_3"><a class="anchor" href="#_ressursportal_3"></a>6.1.3.2.4. Ressursportal</h6>
<div class="sect6">
<h7 id="_uhf_oauth2_autorisasjonstjener_3"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_3"></a>6.1.3.2.4.1. UHF Oauth2 autorisasjonstjener</h7>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect7">
<h8 id="_uhf_klientregister_3"><a class="anchor" href="#_uhf_klientregister_3"></a>6.1.3.2.4.1.1. UHF Klientregister</h8>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
<div class="sect6">
<h7 id="_uhf_api_manager_2"><a class="anchor" href="#_uhf_api_manager_2"></a>6.1.3.2.4.2. UHF API manager</h7>
<div class="paragraph">
<p>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API. Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener. Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ivareta registrering, forvaltning og og utvikling av klientrettigheter</p>
</div>
<div class="paragraph">
<p>Hva tilbyr API av datamodell
Hvordan ønsker API å sikre seg selv
En klient må forholde seg til</p>
</div>
<div class="sect7">
<h8 id="_uhf_api_katalog_2"><a class="anchor" href="#_uhf_api_katalog_2"></a>6.1.3.2.4.2.1. UHF API katalog</h8>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_nasjonal_infrastruktur"><a class="anchor" href="#_nasjonal_infrastruktur"></a>6.1.3.3. Nasjonal infrastruktur</h5>
<div class="sect5">
<h6 id="_maskinporten"><a class="anchor" href="#_maskinporten"></a>6.1.3.3.1. Maskinporten</h6>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect5">
<h6 id="_altinn_autorisasjon"><a class="anchor" href="#_altinn_autorisasjon"></a>6.1.3.3.2. Altinn autorisasjon</h6>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect5">
<h6 id="_felles_api_katalog"><a class="anchor" href="#_felles_api_katalog"></a>6.1.3.3.3. Felles API-katalog</h6>
<div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_registrere_api_uhf"><a class="anchor" href="#_registrere_api_uhf"></a>6.1.4. Registrere API UHF</h4>
<div class="sect4">
<h5 id="_registrere_api_uhf_oversikt"><a class="anchor" href="#_registrere_api_uhf_oversikt"></a>6.1.4.1. Registrere API UHF - oversikt</h5>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Registrere%20API%20UHF.png" alt="Registrere API UHF image">
</div>
<div class="title">Figure 7. Registrere API UHF</div>
</div>
</div>
<div class="sect4">
<h5 id="_oauth_scopes"><a class="anchor" href="#_oauth_scopes"></a>6.1.4.2. OAUTH scopes</h5>
<div class="paragraph">
<p>Hvordan får Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div>
<div class="paragraph">
<p>Fra eHelse: Regler for et API som beskriver hvilke tilganger en datakonsument (representert ved organisasjonsnummer) og deres klienter skal ha tilgang til (utstedt token for).</p>
</div>
</div>
<div class="sect4">
<h5 id="_token_egenskaper"><a class="anchor" href="#_token_egenskaper"></a>6.1.4.3. Token-egenskaper</h5>
<div class="paragraph">
<p>Egenskaper som f.eks. gyldighetstid ved tilgangstoken som er Maskinportens variant av sikkerhetsbillett.</p>
</div>
</div>
<div class="sect4">
<h5 id="_datatilbyder_2"><a class="anchor" href="#_datatilbyder_2"></a>6.1.4.4. Datatilbyder</h5>
<div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div>
<div class="paragraph">
<p>API Eiere  (kan eie Data som API gir tilgang til, eller system som tilbyr APIet)??</p>
</div>
<div class="paragraph">
<p>Når virksomheten tilbyr åpne data, vil det være virksomheten som eier dataene. (men det bør vel definere et domen-eier innenfor virksomheten)</p>
</div>
<div class="paragraph">
<p>Data eier på to nivå: f. eks. studieavdelingen (er ikke dette behandlingsansvarlig?) spør studenten om de gir samtykke til å gi tilgang til data om studenten som hen eier.</p>
</div>
</div>
<div class="sect4">
<h5 id="_maskinporten_2"><a class="anchor" href="#_maskinporten_2"></a>6.1.4.5. Maskinporten</h5>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_registrere_api_i_uhf_sektoren_3"><a class="anchor" href="#_registrere_api_i_uhf_sektoren_3"></a>6.1.4.6. Registrere API i UHF sektoren</h5>

</div>
<div class="sect4">
<h5 id="_api_beskrivelse"><a class="anchor" href="#_api_beskrivelse"></a>6.1.4.7. API Beskrivelse</h5>
<div class="paragraph">
<p>Open API spesifikasjon (har vi føringer på format her)?</p>
</div>
<div class="paragraph">
<p>VI ønsker oss beskrivelse av datamodell og begreper som finnes i begrepskatalog og datamodell katalog (per default bruker vi det nasjonale, men kan hende vi må bruke noe for sektoren om ikke funksjonalitet er dekket</p>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_definer_rettighetter_knyttet_til_apier"><a class="anchor" href="#_uhf_definer_rettighetter_knyttet_til_apier"></a>6.1.4.8. UHF definer rettighetter knyttet til APIer</h5>
<div class="paragraph">
<p>UHF sentralisert selvbetjeningstjeneste for administrasjon av integrasjoner og APIer.
Tjeneste "administrasjonssentre" vil ha rettigheter til å registrere på vegne av andre f.eks. API-katalogen
Definere hvilke scopes finnes koblet til et API</p>
</div>
</div>
<div class="sect4">
<h5 id="_registrere_api"><a class="anchor" href="#_registrere_api"></a>6.1.4.9. Registrere API</h5>

</div>
<div class="sect4">
<h5 id="_registrere_api_2"><a class="anchor" href="#_registrere_api_2"></a>6.1.4.10. Registrere API</h5>
<div class="paragraph">
<p>Prosess med å registere API i relevante tjenester, api-katalog, Maskinporten, Kapabilitetsoversikt</p>
</div>
</div>
<div class="sect4">
<h5 id="_felles_api_katalog_2"><a class="anchor" href="#_felles_api_katalog_2"></a>6.1.4.11. Felles API-katalog</h5>
<div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_api_manager_3"><a class="anchor" href="#_uhf_api_manager_3"></a>6.1.4.12. UHF API manager</h5>
<div class="paragraph">
<p>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API. Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener. Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ivareta registrering, forvaltning og og utvikling av klientrettigheter</p>
</div>
<div class="paragraph">
<p>Hva tilbyr API av datamodell
Hvordan ønsker API å sikre seg selv
En klient må forholde seg til</p>
</div>
<div class="sect5">
<h6 id="_uhf_api_katalog_3"><a class="anchor" href="#_uhf_api_katalog_3"></a>6.1.4.12.1. UHF API katalog</h6>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf"><a class="anchor" href="#_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf"></a>6.1.5. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</h4>
<div class="sect4">
<h5 id="_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf_oversikt"></a>6.1.5.1. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF - oversikt</h5>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Tilgjengeliggjøre%20data%20etter%20forspørsel%20løsningsmønster%20UHF.png" alt="Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF image">
</div>
<div class="title">Figure 8. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</div>
</div>
</div>
<div class="sect4">
<h5 id="_tilganger_konsument"><a class="anchor" href="#_tilganger_konsument"></a>6.1.5.2. Tilganger konsument</h5>
<div class="paragraph">
<p>Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p>
</div>
</div>
<div class="sect4">
<h5 id="_datatilbyder_3"><a class="anchor" href="#_datatilbyder_3"></a>6.1.5.3. Datatilbyder</h5>
<div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div>
<div class="paragraph">
<p>API Eiere  (kan eie Data som API gir tilgang til, eller system som tilbyr APIet)??</p>
</div>
<div class="paragraph">
<p>Når virksomheten tilbyr åpne data, vil det være virksomheten som eier dataene. (men det bør vel definere et domen-eier innenfor virksomheten)</p>
</div>
<div class="paragraph">
<p>Data eier på to nivå: f. eks. studieavdelingen (er ikke dette behandlingsansvarlig?) spør studenten om de gir samtykke til å gi tilgang til data om studenten som hen eier.</p>
</div>
</div>
<div class="sect4">
<h5 id="_tilgjengeliggjør_data_etter_forselpørsel"><a class="anchor" href="#_tilgjengeliggjør_data_etter_forselpørsel"></a>6.1.5.4. Tilgjengeliggjør data etter forselpørsel</h5>
<div class="paragraph">
<p>Prosessen med å tilby data gjennom et API til aktører utenfor egen virksomhet.</p>
</div>
<div class="sect5">
<h6 id="_tildele_tilganger_til_api"><a class="anchor" href="#_tildele_tilganger_til_api"></a>6.1.5.4.1. Tildele tilganger til API</h6>
<div class="paragraph">
<p>Prosess for å registrere hvilke databrukere som skal få tilgang
Sette policy, og grov tilgangsstyring gjennom maskinporten.</p>
</div>
</div>
<div class="sect5">
<h6 id="_inngå_avtale_om_tilgang_til_data"><a class="anchor" href="#_inngå_avtale_om_tilgang_til_data"></a>6.1.5.4.2. Inngå avtale om tilgang til data</h6>
<div class="paragraph">
<p>Prosess for å inngå avtale om tilgang og bruk av data.</p>
</div>
</div>
<div class="sect5">
<h6 id="_registrere_brukere_av_samtykke"><a class="anchor" href="#_registrere_brukere_av_samtykke"></a>6.1.5.4.3. Registrere brukere av samtykke</h6>
<div class="paragraph">
<p>Prosess for å registrere konsumenter som skal ha mulighet for å innhente samtykker som gir tilgang til en tjeneste.</p>
</div>
<div class="paragraph">
<p>Dette utføres kun om det er behov for samtykke for tilgang til dataene.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_maskinporten_3"><a class="anchor" href="#_maskinporten_3"></a>6.1.5.5. Maskinporten</h5>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_altinn_autorisasjon_2"><a class="anchor" href="#_altinn_autorisasjon_2"></a>6.1.5.6. Altinn autorisasjon</h5>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_registrere_samtykkebasert_tilgang"><a class="anchor" href="#_registrere_samtykkebasert_tilgang"></a>6.1.5.7. Registrere samtykkebasert tilgang</h5>
<div class="paragraph">
<p>Tjeneste for å registerer konsumenter som kan innhente samtykke som gir grunnlag for utlevering fra datatilbyder.</p>
</div>
</div>
<div class="sect4">
<h5 id="_aktører_som_kan_innhente_samtykke_for_bruk_av_api"><a class="anchor" href="#_aktører_som_kan_innhente_samtykke_for_bruk_av_api"></a>6.1.5.8. Aktører som kan innhente samtykke for bruk av API</h5>
<div class="paragraph">
<p>Oversikt over aktører som skal ha mulighet til å innhente samtykke som grunnlag for å få tilgang til data gjennom et API.
URL til konsumenten det kan innhentes samtykke for må inngå i beskrivelsen.</p>
</div>
</div>
<div class="sect4">
<h5 id="_tilgjengeliggjøre_data_etter_forespørsel"><a class="anchor" href="#_tilgjengeliggjøre_data_etter_forespørsel"></a>6.1.5.9. Tilgjengeliggjøre data etter forespørsel</h5>

</div>
<div class="sect4">
<h5 id="_api_tilgangs_forespørsel"><a class="anchor" href="#_api_tilgangs_forespørsel"></a>6.1.5.10. API tilgangs-forespørsel</h5>
<div class="paragraph">
<p>API eieren får forespørsel om den vil gi konsumenten tilgang til APIet.</p>
</div>
</div>
<div class="sect4">
<h5 id="_godkjenn_tilgang"><a class="anchor" href="#_godkjenn_tilgang"></a>6.1.5.11. Godkjenn tilgang</h5>

</div>
<div class="sect4">
<h5 id="_uhf_tildel_rettigheter_til_klienter_4"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter_4"></a>6.1.5.12. UHF tildel rettigheter til klienter</h5>

</div>
<div class="sect4">
<h5 id="_ressursportal_4"><a class="anchor" href="#_ressursportal_4"></a>6.1.5.13. Ressursportal</h5>

</div>
<div class="sect4">
<h5 id="_forespør_dataeier"><a class="anchor" href="#_forespør_dataeier"></a>6.1.5.14. Forespør dataeier</h5>
<div class="paragraph">
<p>Harmoniserers med rolledefinisjoner.</p>
</div>
<div class="paragraph">
<p>Kan en databehandler besvare forespørselen automatisk på grunnlag av forhåndsdefinerte instruks?</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_få_tilgang_til_data_løsningsmønster_uhf"><a class="anchor" href="#_få_tilgang_til_data_løsningsmønster_uhf"></a>6.1.6. Få tilgang til data - løsningsmønster UHF</h4>
<div class="sect4">
<h5 id="_få_tilgang_til_data_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_få_tilgang_til_data_løsningsmønster_uhf_oversikt"></a>6.1.6.1. Få tilgang til data - løsningsmønster UHF - oversikt</h5>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.png" alt="Få tilgang til data - løsningsmønster UHF image">
</div>
<div class="title">Figure 9. Få tilgang til data - løsningsmønster UHF</div>
</div>
</div>
<div class="sect4">
<h5 id="_data_konsument_2"><a class="anchor" href="#_data_konsument_2"></a>6.1.6.2. Data-konsument</h5>
<div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div>
</div>
<div class="sect4">
<h5 id="_beskrivelse_api"><a class="anchor" href="#_beskrivelse_api"></a>6.1.6.3. Beskrivelse API</h5>
<div class="paragraph">
<p>Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p>
</div>
<div class="paragraph">
<p>Ønsker å bruke Open API spesifikasjon</p>
</div>
</div>
<div class="sect4">
<h5 id="_api_søk"><a class="anchor" href="#_api_søk"></a>6.1.6.4. API-søk</h5>
<div class="paragraph">
<p>Tjeneste for å søke etter og finne tilgjengelige API-er</p>
</div>
</div>
<div class="sect4">
<h5 id="_få_tilgang_til_data_konsument"><a class="anchor" href="#_få_tilgang_til_data_konsument"></a>6.1.6.5. Få tilgang til data (konsument)</h5>
<div class="paragraph">
<p>Evnen til å skaffe seg tilgang til tilbudte data fra annen aktør.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_api_katalog_4"><a class="anchor" href="#_uhf_api_katalog_4"></a>6.1.6.6. UHF API katalog</h5>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_tildel_rettigheter_til_klienter_5"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter_5"></a>6.1.6.7. UHF tildel rettigheter til klienter</h5>

</div>
<div class="sect4">
<h5 id="_api_tilgangs_forespørsel_2"><a class="anchor" href="#_api_tilgangs_forespørsel_2"></a>6.1.6.8. API tilgangs-forespørsel</h5>
<div class="paragraph">
<p>API eieren får forespørsel om den vil gi konsumenten tilgang til APIet.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_oauth2_autorisasjonstjener_4"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_4"></a>6.1.6.9. UHF Oauth2 autorisasjonstjener</h5>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect5">
<h6 id="_uhf_klientregister_4"><a class="anchor" href="#_uhf_klientregister_4"></a>6.1.6.9.1. UHF Klientregister</h6>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_oauth_scopes_2"><a class="anchor" href="#_oauth_scopes_2"></a>6.1.6.10. OAUTH scopes</h5>
<div class="paragraph">
<p>Hvordan får Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div>
<div class="paragraph">
<p>Fra eHelse: Regler for et API som beskriver hvilke tilganger en datakonsument (representert ved organisasjonsnummer) og deres klienter skal ha tilgang til (utstedt token for).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_innhente_data_løsningsmønster_uhf"><a class="anchor" href="#_innhente_data_løsningsmønster_uhf"></a>6.1.7. Innhente data - løsningsmønster UHF</h4>
<div class="sect4">
<h5 id="_innhente_data_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_innhente_data_løsningsmønster_uhf_oversikt"></a>6.1.7.1. Innhente data - løsningsmønster UHF - oversikt</h5>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Innhente%20data%20-%20løsningsmønster%20UHF.png" alt="Innhente data - løsningsmønster UHF image">
</div>
<div class="title">Figure 10. Innhente data - løsningsmønster UHF</div>
</div>
</div>
<div class="sect4">
<h5 id="_maskinporten_4"><a class="anchor" href="#_maskinporten_4"></a>6.1.7.2. Maskinporten</h5>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_data_konsument_3"><a class="anchor" href="#_data_konsument_3"></a>6.1.7.3. Data-konsument</h5>
<div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div>
</div>
<div class="sect4">
<h5 id="_tokentjeneste_3"><a class="anchor" href="#_tokentjeneste_3"></a>6.1.7.4. Tokentjeneste</h5>
<div class="paragraph">
<p>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p>
</div>
</div>
<div class="sect4">
<h5 id="_virksomhetssertifikat"><a class="anchor" href="#_virksomhetssertifikat"></a>6.1.7.5. Virksomhetssertifikat</h5>
<div class="paragraph">
<p>En virksomhets elektroniske ID. Benyttes for å autentisere virksomheten overfor tokentjenesten.</p>
</div>
</div>
<div class="sect4">
<h5 id="_innhente_data"><a class="anchor" href="#_innhente_data"></a>6.1.7.6. Innhente data</h5>
<div class="paragraph">
<p>Evnen til å innhente data fra en annen aktør.</p>
</div>
</div>
<div class="sect4">
<h5 id="_endepunkt_adresse"><a class="anchor" href="#_endepunkt_adresse"></a>6.1.7.7. Endepunkt (adresse)</h5>
<div class="paragraph">
<p>Dataobjekt som representerer teknisk adresse til et API eller ressurs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_oppslag_representasjons_forhold"><a class="anchor" href="#_oppslag_representasjons_forhold"></a>6.1.7.8. Oppslag representasjons-forhold</h5>
<div class="paragraph">
<p>Tjeneste som benyttes av tokentjenesten for å kontrollere om det foreligger et delegert representasjonsforhold fra konsument til leverendør i autorisasjonstjenesten til Altinn.</p>
</div>
</div>
<div class="sect4">
<h5 id="_slå_opp_data_gjennom_et_api"><a class="anchor" href="#_slå_opp_data_gjennom_et_api"></a>6.1.7.9. Slå opp data gjennom et API</h5>
<div class="paragraph">
<p>Prosessen med å slå opp og hente data gjennom et API.</p>
</div>
<div class="sect5">
<h6 id="_utfør_tjenestekall"><a class="anchor" href="#_utfør_tjenestekall"></a>6.1.7.9.1. Utfør tjenestekall</h6>
<div class="paragraph">
<p>Prosessen med å benytte (gjøre et oppslag mot) et eksternt API.</p>
</div>
</div>
<div class="sect5">
<h6 id="_innhent_samtykke_ved_behov"><a class="anchor" href="#_innhent_samtykke_ved_behov"></a>6.1.7.9.2. Innhent samtykke ved behov</h6>
<div class="paragraph">
<p>Prosess for å innhente samtykke fra person eller virksomhet som grunnlag for å innhente data. Dette gjøres kun ved behov.</p>
</div>
</div>
<div class="sect5">
<h6 id="_hent_teknisk_endepunkt_ved_behov"><a class="anchor" href="#_hent_teknisk_endepunkt_ved_behov"></a>6.1.7.9.3. Hent teknisk endepunkt ved behov</h6>
<div class="paragraph">
<p>Prosessen å slå opp den tekniske adressen til et API før spørring mot API-et. Gjøres kun dersom det er nødvendig.</p>
</div>
</div>
<div class="sect5">
<h6 id="_be_om_tilgangstoken"><a class="anchor" href="#_be_om_tilgangstoken"></a>6.1.7.9.4. Be om tilgangstoken</h6>
<div class="paragraph">
<p>Prosessen med å benytte en sikkerhetsbillettjeneste for hente en sikkerhetsbillett som gir tilgang til et API. Dette forutsetter at alt er registert og satt opp riktig mot de aktuelle tjenestene.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_tilganger_konsument_2"><a class="anchor" href="#_tilganger_konsument_2"></a>6.1.7.10. Tilganger konsument</h5>
<div class="paragraph">
<p>Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p>
</div>
</div>
<div class="sect4">
<h5 id="_altinn_autorisasjon_3"><a class="anchor" href="#_altinn_autorisasjon_3"></a>6.1.7.11. Altinn autorisasjon</h5>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_felles_api_katalog_3"><a class="anchor" href="#_felles_api_katalog_3"></a>6.1.7.12. Felles API-katalog</h5>
<div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_adressetjeneste"><a class="anchor" href="#_adressetjeneste"></a>6.1.7.13. Adressetjeneste</h5>
<div class="paragraph">
<p>Tjeneste som gir mulighet til å slå opp teknisk endepunkt</p>
</div>
</div>
<div class="sect4">
<h5 id="_datautvekslings_tjeneste"><a class="anchor" href="#_datautvekslings_tjeneste"></a>6.1.7.14. Datautvekslings-tjeneste</h5>
<div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div>
</div>
<div class="sect4">
<h5 id="_samtykkeregistererings_tjeneste"><a class="anchor" href="#_samtykkeregistererings_tjeneste"></a>6.1.7.15. Samtykkeregistererings-tjeneste</h5>
<div class="paragraph">
<p>Tjeneste for å innhente samtykke fra den registrert som dataene gjelder. Dette kan være en person eller en virksomhet.</p>
</div>
</div>
<div class="sect4">
<h5 id="_altinn_autorisasjon_4"><a class="anchor" href="#_altinn_autorisasjon_4"></a>6.1.7.16. Altinn autorisasjon</h5>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_api_gateway_hos_dataeier_oauth_resource_server_4"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_4"></a>6.1.7.17. API Gateway hos dataeier / OAuth resource server</h5>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_oauth2_autorisasjonstjener_5"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_5"></a>6.1.7.18. UHF Oauth2 autorisasjonstjener</h5>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_api_katalog_5"><a class="anchor" href="#_uhf_api_katalog_5"></a>6.1.7.19. UHF API katalog</h5>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_avgi_data_løsningsmønster_uhf"><a class="anchor" href="#_avgi_data_løsningsmønster_uhf"></a>6.1.8. Avgi data - løsningsmønster UHF</h4>
<div class="sect4">
<h5 id="_avgi_data_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_avgi_data_løsningsmønster_uhf_oversikt"></a>6.1.8.1. Avgi data - løsningsmønster UHF - oversikt</h5>
<div class="paragraph">
<p>undefined</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Avgi%20data%20-%20løsningsmønster%20UHF.png" alt="Avgi data - løsningsmønster UHF image">
</div>
<div class="title">Figure 11. Avgi data - løsningsmønster UHF</div>
</div>
</div>
<div class="sect4">
<h5 id="_egen_autorisasjons_komponent"><a class="anchor" href="#_egen_autorisasjons_komponent"></a>6.1.8.2. Egen autorisasjons-komponent</h5>
<div class="paragraph">
<p>Komponent for å håndheve virksomhetens regler for tilgang.
Også kalt policy enforcement point (PEP).</p>
</div>
</div>
<div class="sect4">
<h5 id="_altinn_autorisasjon_5"><a class="anchor" href="#_altinn_autorisasjon_5"></a>6.1.8.3. Altinn autorisasjon</h5>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_datatilbyder_4"><a class="anchor" href="#_datatilbyder_4"></a>6.1.8.4. Datatilbyder</h5>
<div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div>
<div class="paragraph">
<p>API Eiere  (kan eie Data som API gir tilgang til, eller system som tilbyr APIet)??</p>
</div>
<div class="paragraph">
<p>Når virksomheten tilbyr åpne data, vil det være virksomheten som eier dataene. (men det bør vel definere et domen-eier innenfor virksomheten)</p>
</div>
<div class="paragraph">
<p>Data eier på to nivå: f. eks. studieavdelingen (er ikke dette behandlingsansvarlig?) spør studenten om de gir samtykke til å gi tilgang til data om studenten som hen eier.</p>
</div>
</div>
<div class="sect4">
<h5 id="_tilgangskontroll_tjeneste"><a class="anchor" href="#_tilgangskontroll_tjeneste"></a>6.1.8.5. Tilgangskontroll-tjeneste</h5>
<div class="paragraph">
<p>Tjeneste for å sjekke rettigheter til data. Kan være eksterne eller interne tjenester. Disse rettigheter kan være mer finkornet enn tilgangene administrert av autorisasjonstjeneren.
Eksempler på rettigheter kan komme av samtykker fra person eller virksomhet, eller rollebasert fra vergemål, familierelasjon el.</p>
</div>
</div>
<div class="sect4">
<h5 id="_avgi_forespurte_data_gjennom_api"><a class="anchor" href="#_avgi_forespurte_data_gjennom_api"></a>6.1.8.6. Avgi forespurte data gjennom API</h5>
<div class="paragraph">
<p>Prosessen med å avgi data på forespørsel gjennom et egnet API.</p>
</div>
<div class="sect5">
<h6 id="_motta_forespørsel_om_oppslag"><a class="anchor" href="#_motta_forespørsel_om_oppslag"></a>6.1.8.6.1. Motta  forespørsel om oppslag</h6>
<div class="paragraph">
<p>Motta forespørsler fra API-konsument om å avgi data.</p>
</div>
</div>
<div class="sect5">
<h6 id="_avgi_data_2"><a class="anchor" href="#_avgi_data_2"></a>6.1.8.6.2. Avgi data</h6>
<div class="paragraph">
<p>Prosessen med å gi svar på forespørselen.</p>
</div>
</div>
<div class="sect5">
<h6 id="_autentisere_konsument"><a class="anchor" href="#_autentisere_konsument"></a>6.1.8.6.3. Autentisere konsument</h6>
<div class="paragraph">
<p>Prosessen med å autentisere en konsument.</p>
</div>
</div>
<div class="sect5">
<h6 id="_kontroller_tilgang"><a class="anchor" href="#_kontroller_tilgang"></a>6.1.8.6.4. Kontroller tilgang</h6>
<div class="paragraph">
<p>Kontroll og håndheving av konsumentens rettigheter til å få forespurte data.  I tillegg til "validering av sikkerhetsbillet", kan det være behov for kontroll mot virksomhetsinterne policies.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_datautvekslings_tjeneste_2"><a class="anchor" href="#_datautvekslings_tjeneste_2"></a>6.1.8.7. Datautvekslings-tjeneste</h5>
<div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div>
</div>
<div class="sect4">
<h5 id="_datautvekslings_tjeneste_3"><a class="anchor" href="#_datautvekslings_tjeneste_3"></a>6.1.8.8. Datautvekslings-tjeneste</h5>
<div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div>
</div>
<div class="sect4">
<h5 id="_tokenvaliderings_tjeneste"><a class="anchor" href="#_tokenvaliderings_tjeneste"></a>6.1.8.9. Tokenvaliderings-tjeneste</h5>
<div class="paragraph">
<p>Tjeneste som benyttes av tilbyder for å validere og kontrollere autentisiteten til et OAUTH2 token fra Maskinporten</p>
</div>
</div>
<div class="sect4">
<h5 id="_avgi_data_3"><a class="anchor" href="#_avgi_data_3"></a>6.1.8.10. Avgi data</h5>
<div class="paragraph">
<p>Evne til å avgi data på forespørsel. Kan omfatte tilgangsstyring.</p>
</div>
</div>
<div class="sect4">
<h5 id="_api_gateway_hos_dataeier_oauth_resource_server_5"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_5"></a>6.1.8.11. API Gateway hos dataeier / OAuth resource server</h5>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_datautveksling_ved_publisering_konsumering_hendelsesbasert"><a class="anchor" href="#_datautveksling_ved_publisering_konsumering_hendelsesbasert"></a>6.2. Datautveksling ved publisering – konsumering (hendelsesbasert)</h3>
<div class="paragraph">
<p>undefined</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integrasjonsmønster_for_datadeling"><a class="anchor" href="#_integrasjonsmønster_for_datadeling"></a>7. Integrasjonsmønster for datadeling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>*Provisjonering *(hoved IntArk mønster): Holde «server-side» kopi løpende oppdatert
fra master ved å benytte eOppslag til å hente data fra master
og eNotifikasjon for å gi beskjed til abonnenter om at noe er
oppdatert på master.</p>
</div>
<div class="paragraph">
<p><strong>Synkront oppslag: </strong>realisering av eOppslag – hva bør vi si om
dette? Skal vi Skissere REST og GraphQL eller blir det for
teknologispesifikk?</p>
</div>
<div class="paragraph">
<p><strong>“Event stream” på logisk nivå: </strong>Dette er en form
for ePublisering/eNotfikasjon. Ref. Gartner sin FS evaluering, men siden
de ikke har åpen dokumentasjon<strong> </strong>se for eksempel
denne:<strong> </strong><a href="https://mapr.com/blog/event-driven-microservices-patterns/" class="bare">https://mapr.com/blog/event-driven-microservices-patterns/</a><span class="[.underline"><a href="https://mapr.com/blog/event-driven-microservices-patterns/" class="bare">https://mapr.com/blog/event-driven-microservices-patterns/</a></span>].
Overordnet, omtales arkitekturen som
“https://en.wikipedia.org/wiki/Event-driven_architecture[<span class="underline">Event Driven
Architecture</span>]”.<sup>2</sup>  Tilnærmingen forutsetter tilnærming til konsistens
omtalt
som «https://en.wikipedia.org/wiki/Eventual_consistency[<span class="underline">Eventual
Consistency</span>]». «Conflict resolution» kan her gjennomføres på flere
måter avhengig av domenebehov. Mange benytter «last writer wins», men
det finnes flere, strengere alternativer, som for
eksempel https://debezium.io/blog/2020/02/10/event-sourcing-vs-cdc/<span class="[.underline">Event
sourcing og Change Data Capture</span>].</p>
</div>
<div class="paragraph">
<p><strong>Backend for frontend</strong>: relevant når vi skal spesifisere samhandling med
individer, som i innovativ læring og livslang læring. eHelse sier
«Backend-for-Frontend (BFF) er et utbredt designkonsept som benyttes for
mange klienter og API-er. Konseptet går ut på å la
ulike brukergrensesnittyper (Nettleserbaserte, App-er på mobil osv) ha
hver sin backend slik at spesialtilpasninger på API-er som kreves for de
ulike brukergrensesnitttypene kan realiseres uten at det går
utover vedlikeholdbarheten til API-ene.» Gartner bruker også den.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Kontakt: nasjonalarkitektur@digdir.no</p>
</footer><script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
