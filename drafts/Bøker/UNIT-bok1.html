<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>UNIT-bok1 :: Nasjonalt arkitekturverksted</title>
    <link rel="canonical" href="https://nasjonal-arkitektur.github.io/drafts/Bøker/UNIT-bok1.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://nasjonal-arkitektur.github.io">Nasjonalt arkitekturverksted</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
 		<a id="twitter-link" class="navbar-item" href="https://twitter.com/janakaSteph" target="_blank">
          <i class="fab fa-twitter"></i>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="drafts" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Utkast og innspill</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../about-drafts.html">Om utkast og innspill</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Innspill til referansearkitekturer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ra-integrated-processes/ra-integrated-processes-proposal.html">Referansearkitektur for samhandlingsprosesser (forslag)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ra-iam/ra-iam-proposal.html">Referansearkitektur for informasjonssikkerhet, tillit og personvern (forslag)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Målbilde for nasjonal samhandlingsinfrastruktur (forslag)</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for tillitstjenester</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for datadeling</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for samhandlingsprosesser</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for integrasjon med EU-s Single Digital Gateway</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for IOT</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for API management</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for fagsystemer</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Referansearkitektur for saksbehandling i kommuner</span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">UNIT-test 1</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Informasjonsforvaltningsdomener.html">Informasjonsforvaltningsdomener</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Applikasjonsoversikt%20forsepørsel%20integrert%20med%20IAM.html">Applikasjonsoversikt forsepørsel integrert med IAM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Applikasjonsoversikt%20forsepørsel%20integrert%20nasjonalt.html">Applikasjonsoversikt forsepørsel integrert nasjonalt</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Applikasjonsoversikt%20forsepørsel.html">Applikasjonsoversikt forsepørsel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Avgi%20data%20-%20løsningsmønster%20UHF.html">Avgi data - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Dataobjekter%20eOppslag%20-%20med%20metadata%20UHF.html">Dataobjekter eOppslag - med metadata UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Dataobjekter%20eOppslag%20UHF.html">Dataobjekter eOppslag UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Delegere%20rettigheter%20til%20databehandler%20-%20løsningsmønster%20UHF.html">Delegere rettigheter til databehandler - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.html">Få tilgang til data - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Innhente%20data%20-%20løsningsmønster%20UHF.html">Innhente data - løsningsmønster UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Registrere%20API%20%20UHF.html">Registrere API  UHF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../test1/Tilgjengeliggjøre%20data%20etter%20forspørsel%20løsningsmønster%20UHF.html">Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">UNIT-test 2</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="UNIT-bok1.html">UNIT-bok1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Konvertert%20word%20doc/Referansearkitektur-datadeling.html">Referansearkitektur for deling av data i høyere utdanning og forsking</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Referansearkitektur%20for%20deling%20av%20data%20i%20høyere%20utdanning%20og%20forsking.html">Referansearkitektur for deling av data i høyere utdanning og forsking</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Se også</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../architecture-repository/index.html">Nasjonalt arkitekturverksted</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../knowledge/index.html">Arkitekturfaglig kunnskapsverksted</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Utkast og innspill</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Arkitekturfaglig kunnskapsverksted</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../knowledge/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Nasjonalt arkitekturverksted</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../architecture-repository/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Utkast og innspill</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../architecture-repository/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Utkast og innspill</a></li>
    <li>UNIT-test 2</li>
    <li><a href="UNIT-bok1.html">UNIT-bok1</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///C:/gitlab/digdir/components/draft-components/drafts/unit/modules/Bøker/pages/UNIT-bok1.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">UNIT-bok1</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_om_unit_bok1">1. Om UNIT-bok1</a></li>
<li><a href="#_kapabiliteter">2. Kapabiliteter</a>
<ul class="sectlevel2">
<li><a href="#_om_kapabiliteter">2.1. Om Kapabiliteter</a></li>
<li><a href="#_informasjonsforvaltningsdomener">2.2. Informasjonsforvaltningsdomener</a>
<ul class="sectlevel3">
<li><a href="#_informasjonsforvaltningsdomener_oversikt">2.2.1. Informasjonsforvaltningsdomener - oversikt</a></li>
<li><a href="#_informasjonsforvaltningsdomener_2">2.2.2. Informasjonsforvaltningsdomener</a></li>
<li><a href="#_strategi_og_styring">2.2.3. Strategi og styring</a></li>
<li><a href="#_kommersiell_aktivitet">2.2.4. Kommersiell aktivitet</a></li>
<li><a href="#_undervisning_og_læring">2.2.5. Undervisning og læring</a></li>
<li><a href="#_forskning">2.2.6. Forskning</a></li>
</ul>
</li>
<li><a href="#_muliggjørende_kapabiliteter">2.3. Muliggjørende kapabiliteter</a>
<ul class="sectlevel3">
<li><a href="#_muliggjørende_kapabiliteter_oversikt">2.3.1. Muliggjørende kapabiliteter - oversikt</a></li>
<li><a href="#_muliggjørende_kapabiliteter_2">2.3.2. Muliggjørende kapabiliteter</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_løsningsmønstre_forespørsel_uhf">3. Løsningsmønstre forespørsel UHF</a>
<ul class="sectlevel2">
<li><a href="#_om_løsningsmønstre_forespørsel_uhf">3.1. Om Løsningsmønstre forespørsel UHF</a></li>
<li><a href="#_applikasjonsoversikt_forespørsel">3.2. Applikasjonsoversikt forespørsel</a>
<ul class="sectlevel3">
<li><a href="#_applikasjonsoversikt_forespørsel_oversikt">3.2.1. Applikasjonsoversikt forespørsel - oversikt</a></li>
<li><a href="#_uhf_infrastruktur">3.2.2. UHF Infrastruktur</a></li>
<li><a href="#_uix">3.2.3. UiX</a></li>
<li><a href="#_uio">3.2.4. UiO</a></li>
</ul>
</li>
<li><a href="#_applikasjonsoversikt_forsepørsel_forenklet">3.3. Applikasjonsoversikt forsepørsel forenklet</a>
<ul class="sectlevel3">
<li><a href="#_applikasjonsoversikt_forsepørsel_forenklet_oversikt">3.3.1. Applikasjonsoversikt forsepørsel forenklet - oversikt</a></li>
<li><a href="#_uhf_infrastruktur_2">3.3.2. UHF Infrastruktur</a></li>
<li><a href="#_uix_2">3.3.3. UiX</a></li>
<li><a href="#_uio_2">3.3.4. UiO</a></li>
</ul>
</li>
<li><a href="#_applikasjonsoversikt_forsepørsel_integrert_med_iam">3.4. Applikasjonsoversikt forsepørsel integrert med IAM</a>
<ul class="sectlevel3">
<li><a href="#_applikasjonsoversikt_forsepørsel_integrert_med_iam_oversikt">3.4.1. Applikasjonsoversikt forsepørsel integrert med IAM - oversikt</a></li>
<li><a href="#_sluttbruker">3.4.2. Sluttbruker</a></li>
<li><a href="#_klient">3.4.3. Klient</a></li>
<li><a href="#_identitetstilbyder">3.4.4. Identitetstilbyder</a></li>
<li><a href="#_uhf_infrastruktur_3">3.4.5. UHF Infrastruktur</a></li>
<li><a href="#_roller_og_tilgangsregler">3.4.6. Roller og tilgangsregler</a></li>
<li><a href="#_attributter_grunndata">3.4.7. Attributter /grunndata</a></li>
<li><a href="#_uix_3">3.4.8. UiX</a></li>
<li><a href="#_autentiseringstjeneste">3.4.9. Autentiseringstjeneste</a></li>
</ul>
</li>
<li><a href="#_applikasjonsoversikt_forsepørsel_integrert_nasjonalt">3.5. Applikasjonsoversikt forsepørsel integrert nasjonalt</a>
<ul class="sectlevel3">
<li><a href="#_applikasjonsoversikt_forsepørsel_integrert_nasjonalt_oversikt">3.5.1. Applikasjonsoversikt forsepørsel integrert nasjonalt - oversikt</a></li>
<li><a href="#_uhf_infrastruktur_4">3.5.2. UHF Infrastruktur</a></li>
<li><a href="#_nasjonal_infrastruktur">3.5.3. Nasjonal infrastruktur</a></li>
</ul>
</li>
<li><a href="#_avgi_data_løsningsmønster_uhf">3.6. Avgi data - løsningsmønster UHF</a>
<ul class="sectlevel3">
<li><a href="#_avgi_data_løsningsmønster_uhf_oversikt">3.6.1. Avgi data - løsningsmønster UHF - oversikt</a></li>
<li><a href="#_egen_autorisasjons_komponent">3.6.2. Egen autorisasjons-komponent</a></li>
<li><a href="#_altinn_autorisasjon_2">3.6.3. Altinn autorisasjon</a></li>
<li><a href="#_datatilbyder">3.6.4. Datatilbyder</a></li>
<li><a href="#_tilgangskontroll_tjeneste">3.6.5. Tilgangskontroll-tjeneste</a></li>
<li><a href="#_avgi_forespurte_data_gjennom_api">3.6.6. Avgi forespurte data gjennom API</a></li>
<li><a href="#_datautvekslings_tjeneste">3.6.7. Datautvekslings-tjeneste</a></li>
<li><a href="#_datautvekslings_tjeneste_2">3.6.8. Datautvekslings-tjeneste</a></li>
<li><a href="#_tokenvaliderings_tjeneste">3.6.9. Tokenvaliderings-tjeneste</a></li>
<li><a href="#_avgi_data_2">3.6.10. Avgi data</a></li>
<li><a href="#_api_gateway_hos_dataeier_oauth_resource_server_6">3.6.11. API Gateway hos dataeier / OAuth resource server</a></li>
</ul>
</li>
<li><a href="#_dataobjekter_eoppslag_med_metadata_uhf">3.7. Dataobjekter eOppslag - med metadata UHF</a>
<ul class="sectlevel3">
<li><a href="#_dataobjekter_eoppslag_med_metadata_uhf_oversikt">3.7.1. Dataobjekter eOppslag - med metadata UHF - oversikt</a></li>
<li><a href="#_api_katalogen">3.7.2. API-katalogen</a></li>
<li><a href="#_tilganger_konsumentrepresentasjonsforhold">3.7.3. Tilganger konsument/representasjonsforhold</a></li>
<li><a href="#_scope_metadata">3.7.4. Scope-metadata</a></li>
<li><a href="#_samtykkemetadata">3.7.5. Samtykkemetadata</a></li>
<li><a href="#_api_katalogmetadata">3.7.6. API-katalogmetadata</a></li>
<li><a href="#_maskinporten_2">3.7.7. Maskinporten</a></li>
<li><a href="#_altinn_autorisasjon_3">3.7.8. Altinn autorisasjon</a></li>
<li><a href="#_beskrivelse_api">3.7.9. Beskrivelse API</a></li>
<li><a href="#_beskrivelse_av_aktør_som_kan_innhente_samtykke">3.7.10. Beskrivelse av aktør som kan innhente samtykke</a></li>
</ul>
</li>
<li><a href="#_dataobjekter_eoppslag_uhf">3.8. Dataobjekter eOppslag UHF</a>
<ul class="sectlevel3">
<li><a href="#_dataobjekter_eoppslag_uhf_oversikt">3.8.1. Dataobjekter eOppslag UHF - oversikt</a></li>
<li><a href="#_api_katalogen_2">3.8.2. API-katalogen</a></li>
<li><a href="#_tilganger_konsumentrepresentasjonsforhold_2">3.8.3. Tilganger konsument/representasjonsforhold</a></li>
<li><a href="#_maskinporten_3">3.8.4. Maskinporten</a></li>
<li><a href="#_altinn_autorisasjon_4">3.8.5. Altinn autorisasjon</a></li>
<li><a href="#_beskrivelse_api_2">3.8.6. Beskrivelse API</a></li>
<li><a href="#_beskrivelse_av_aktør_som_kan_innhente_samtykke_2">3.8.7. Beskrivelse av aktør som kan innhente samtykke</a></li>
<li><a href="#_uhf_oauth2_autorisasjonstjener_5">3.8.8. UHF Oauth2 autorisasjonstjener</a></li>
</ul>
</li>
<li><a href="#_delegere_rettigheter_til_databehandler_løsningsmønster_uhf">3.9. Delegere rettigheter til databehandler - løsningsmønster UHF</a>
<ul class="sectlevel3">
<li><a href="#_delegere_rettigheter_til_databehandler_løsningsmønster_uhf_oversikt">3.9.1. Delegere rettigheter til databehandler - løsningsmønster UHF - oversikt</a></li>
<li><a href="#_registering_av_representasjonsforhold">3.9.2. Registering av representasjonsforhold</a></li>
<li><a href="#_delegerbar_ressurs_3">3.9.3. Delegerbar ressurs</a></li>
<li><a href="#_delegering_av_rettigheter_til_databehandler_leverandør">3.9.4. Delegering av rettigheter til databehandler (leverandør)</a></li>
<li><a href="#_delegere_rettigheter_til_databehandler">3.9.5. Delegere rettigheter til databehandler</a></li>
<li><a href="#_altinn_autorisasjon_5">3.9.6. Altinn autorisasjon</a></li>
<li><a href="#_samhandlingsaktør">3.9.7. Samhandlingsaktør</a></li>
</ul>
</li>
<li><a href="#_felleskomponenter">3.10. Felleskomponenter</a>
<ul class="sectlevel3">
<li><a href="#_felleskomponenter_oversikt">3.10.1. Felleskomponenter - oversikt</a></li>
<li><a href="#_autentiseringstjeneste_2">3.10.2. Autentiseringstjeneste</a></li>
<li><a href="#_uhf_api_manager_4">3.10.3. UHF API manager</a></li>
<li><a href="#_api_gateway_hos_dataeier_oauth_resource_server_7">3.10.4. API Gateway hos dataeier / OAuth resource server</a></li>
<li><a href="#_uhf_oauth2_autorisasjonstjener_6">3.10.5. UHF Oauth2 autorisasjonstjener</a></li>
<li><a href="#_identity_goveranance_administration_iga">3.10.6. Identity Goveranance Administration (IGA)</a></li>
</ul>
</li>
<li><a href="#_få_tilgang_til_data_løsningsmønster_uhf">3.11. Få tilgang til data - løsningsmønster UHF</a>
<ul class="sectlevel3">
<li><a href="#_få_tilgang_til_data_løsningsmønster_uhf_oversikt">3.11.1. Få tilgang til data - løsningsmønster UHF - oversikt</a></li>
<li><a href="#_data_konsument">3.11.2. Data-konsument</a></li>
<li><a href="#_beskrivelse_api_3">3.11.3. Beskrivelse API</a></li>
<li><a href="#_api_søk">3.11.4. API-søk</a></li>
<li><a href="#_få_tilgang_til_data_konsument">3.11.5. Få tilgang til data (konsument)</a></li>
<li><a href="#_uhf_api_katalog_5">3.11.6. UHF API katalog</a></li>
<li><a href="#_uhf_tildel_rettigheter_til_klienter_4">3.11.7. UHF tildel rettigheter til klienter</a></li>
<li><a href="#_api_tilgangs_forespørsel">3.11.8. API tilgangs-forespørsel</a></li>
<li><a href="#_uhf_oauth2_autorisasjonstjener_7">3.11.9. UHF Oauth2 autorisasjonstjener</a></li>
<li><a href="#_oauth_scopes_3">3.11.10. OAUTH scopes</a></li>
</ul>
</li>
<li><a href="#_innhente_data_løsningsmønster_uhf">3.12. Innhente data - løsningsmønster UHF</a>
<ul class="sectlevel3">
<li><a href="#_innhente_data_løsningsmønster_uhf_oversikt">3.12.1. Innhente data - løsningsmønster UHF - oversikt</a></li>
<li><a href="#_maskinporten_4">3.12.2. Maskinporten</a></li>
<li><a href="#_data_konsument_2">3.12.3. Data-konsument</a></li>
<li><a href="#_tokentjeneste_3">3.12.4. Tokentjeneste</a></li>
<li><a href="#_virksomhetssertifikat">3.12.5. Virksomhetssertifikat</a></li>
<li><a href="#_innhente_data">3.12.6. Innhente data</a></li>
<li><a href="#_endepunkt_adresse_3">3.12.7. Endepunkt (adresse)</a></li>
<li><a href="#_oppslag_representasjons_forhold">3.12.8. Oppslag representasjons-forhold</a></li>
<li><a href="#_slå_opp_data_gjennom_et_api">3.12.9. Slå opp data gjennom et API</a></li>
<li><a href="#_tilganger_konsument">3.12.10. Tilganger konsument</a></li>
<li><a href="#_altinn_autorisasjon_6">3.12.11. Altinn autorisasjon</a></li>
<li><a href="#_felles_api_katalog_2">3.12.12. Felles API-katalog</a></li>
<li><a href="#_adressetjeneste">3.12.13. Adressetjeneste</a></li>
<li><a href="#_datautvekslings_tjeneste_3">3.12.14. Datautvekslings-tjeneste</a></li>
<li><a href="#_samtykkeregistererings_tjeneste">3.12.15. Samtykkeregistererings-tjeneste</a></li>
<li><a href="#_altinn_autorisasjon_7">3.12.16. Altinn autorisasjon</a></li>
<li><a href="#_api_gateway_hos_dataeier_oauth_resource_server_8">3.12.17. API Gateway hos dataeier / OAuth resource server</a></li>
<li><a href="#_uhf_oauth2_autorisasjonstjener_8">3.12.18. UHF Oauth2 autorisasjonstjener</a></li>
<li><a href="#_uhf_api_katalog_6">3.12.19. UHF API katalog</a></li>
</ul>
</li>
<li><a href="#_registrere_api_uhf">3.13. Registrere API  UHF</a>
<ul class="sectlevel3">
<li><a href="#_registrere_api_uhf_oversikt">3.13.1. Registrere API  UHF - oversikt</a></li>
<li><a href="#_oauth_scopes_4">3.13.2. OAUTH scopes</a></li>
<li><a href="#_token_egenskaper">3.13.3. Token-egenskaper</a></li>
<li><a href="#_datatilbyder_2">3.13.4. Datatilbyder</a></li>
<li><a href="#_maskinporten_5">3.13.5. Maskinporten</a></li>
<li><a href="#_registrere_api_i_uhf_sektoren_3">3.13.6. Registrere API i UHF sektoren</a></li>
<li><a href="#_api_beskrivelse">3.13.7. API Beskrivelse</a></li>
<li><a href="#_uhf_definer_rettighetter_knyttet_til_apier">3.13.8. UHF definer rettighetter knyttet til APIer</a></li>
<li><a href="#_registrere_api">3.13.9. Registrere API</a></li>
<li><a href="#_registrere_api_2">3.13.10. Registrere API</a></li>
<li><a href="#_felles_api_katalog_3">3.13.11. Felles API-katalog</a></li>
<li><a href="#_uhf_api_manager_5">3.13.12. UHF API manager</a></li>
</ul>
</li>
<li><a href="#_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf">3.14. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</a>
<ul class="sectlevel3">
<li><a href="#_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf_oversikt">3.14.1. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF - oversikt</a></li>
<li><a href="#_tilganger_konsument_2">3.14.2. Tilganger konsument</a></li>
<li><a href="#_datatilbyder_3">3.14.3. Datatilbyder</a></li>
<li><a href="#_tilgjengeliggjør_data_etter_forselpørsel">3.14.4. Tilgjengeliggjør data etter forselpørsel</a></li>
<li><a href="#_maskinporten_6">3.14.5. Maskinporten</a></li>
<li><a href="#_altinn_autorisasjon_8">3.14.6. Altinn autorisasjon</a></li>
<li><a href="#_registrere_samtykkebasert_tilgang">3.14.7. Registrere samtykkebasert tilgang</a></li>
<li><a href="#_aktører_som_kan_innhente_samtykke_for_bruk_av_api">3.14.8. Aktører som kan innhente samtykke for bruk av API</a></li>
<li><a href="#_tilgjengeliggjøre_data_etter_forespørsel">3.14.9. Tilgjengeliggjøre data etter forespørsel</a></li>
<li><a href="#_api_tilgangs_forespørsel_2">3.14.10. API tilgangs-forespørsel</a></li>
<li><a href="#_godkjenn_tilgang">3.14.11. Godkjenn tilgang</a></li>
<li><a href="#_uhf_tildel_rettigheter_til_klienter_5">3.14.12. UHF tildel rettigheter til klienter</a></li>
<li><a href="#_ressursportal_5">3.14.13. Ressursportal</a></li>
<li><a href="#_forespør_dataeier">3.14.14. Forespør dataeier</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_om_unit_bok1"><a class="anchor" href="#_om_unit_bok1"></a>1. Om UNIT-bok1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Beskrivelse av bok&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Forfatter:
Status:</p>
</div>
<div class="paragraph">
<p>osv. (foreløpig ikke egne attributter for bok)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_kapabiliteter"><a class="anchor" href="#_kapabiliteter"></a>2. Kapabiliteter</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_om_kapabiliteter"><a class="anchor" href="#_om_kapabiliteter"></a>2.1. Om Kapabiliteter</h3>
<div class="paragraph">
<p>Beskrivelse av Kapabiliteter&#8230;&#8203; (direkte i representation-objektet)</p>
</div>
</div>
<div class="sect2">
<h3 id="_informasjonsforvaltningsdomener"><a class="anchor" href="#_informasjonsforvaltningsdomener"></a>2.2. Informasjonsforvaltningsdomener</h3>
<div class="sect3">
<h4 id="_informasjonsforvaltningsdomener_oversikt"><a class="anchor" href="#_informasjonsforvaltningsdomener_oversikt"></a>2.2.1. Informasjonsforvaltningsdomener - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Kapabiliteter/_images/Informasjonsforvaltningsdomener.png" alt="Informasjonsforvaltningsdomener image">
</div>
<div class="title">Figure 1. Informasjonsforvaltningsdomener</div>
</div>
</div>
<div class="sect3">
<h4 id="_informasjonsforvaltningsdomener_2"><a class="anchor" href="#_informasjonsforvaltningsdomener_2"></a>2.2.2. Informasjonsforvaltningsdomener</h4>

</div>
<div class="sect3">
<h4 id="_strategi_og_styring"><a class="anchor" href="#_strategi_og_styring"></a>2.2.3. Strategi og styring</h4>
<div class="paragraph">
<p>Hva organisasjonen gjør for å utvikle og opprettholde et sammenhengende bilde av fremtiden</p>
</div>
<div class="paragraph">
<p>EUNIS: Strategy and Governance</p>
</div>
</div>
<div class="sect3">
<h4 id="_kommersiell_aktivitet"><a class="anchor" href="#_kommersiell_aktivitet"></a>2.2.4. Kommersiell aktivitet</h4>
<div class="paragraph">
<p>Alle egenskaper som kreves for å sikre at organisasjonen er i stand til å utvikle, levere, støtte og administrere kommersiell aktivitet.</p>
</div>
<div class="paragraph">
<p>EUNIS: Commerical activity</p>
</div>
</div>
<div class="sect3">
<h4 id="_undervisning_og_læring"><a class="anchor" href="#_undervisning_og_læring"></a>2.2.5. Undervisning og læring</h4>
<div class="paragraph">
<p>Alle kapabiliteter som kreves for å sikre at organisasjonen er i stand til å utvikle, levere, støtte og administrere undervisning og læring og studentopplevelsen.</p>
</div>
<div class="paragraph">
<p>EUNIS: Teaching and learning</p>
</div>
<div class="sect4">
<h5 id="_studieplanlegging"><a class="anchor" href="#_studieplanlegging"></a>2.2.5.1. Studieplanlegging</h5>
<div class="paragraph">
<p>Alle aktiviteter rettet mot lærere og administratorer som samarbeider om opprettelse, utvikling, konstruksjon, gjennomgang, godkjenning, vurdering og foredling av pensuminnhold for å oppnå ønskede studentresultater.</p>
</div>
<div class="paragraph">
<p>EUNIS: Curriculum Management</p>
</div>
</div>
<div class="sect4">
<h5 id="_leveranse_av_undervisning_og_læring"><a class="anchor" href="#_leveranse_av_undervisning_og_læring"></a>2.2.5.2. Leveranse av undervisning og læring</h5>
<div class="paragraph">
<p>AKSJON: NTNU kommer med oppdatert forslag</p>
</div>
<div class="paragraph">
<p>Hva organisasjonen gjør for å velge, allokere og administrere plassering av studenter i lærings- og praksismiljøer utenfor organisasjonen som en del av læreplanen.</p>
</div>
<div class="paragraph">
<p>EUNIS: Teaching and Learning Delivery</p>
</div>
<div class="sect5">
<h6 id="_undervisnings_og_læringsinnhold"><a class="anchor" href="#_undervisnings_og_læringsinnhold"></a>2.2.5.2.1. Undervisnings- og læringsinnhold</h6>
<div class="paragraph">
<p>AKSJON: NTNU - Teaching and learning content - NTNU sier "" ?? - mangler?</p>
</div>
<div class="paragraph">
<p>EUNIS: Teaching and Learning Content</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_studieadministrasjon"><a class="anchor" href="#_studieadministrasjon"></a>2.2.5.3. Studieadministrasjon</h5>
<div class="paragraph">
<p>Alle aktiviteter som er rettet mot å håndtere faglige retningslinjer, forskrifter, planlegging og tilhørende tilbakemeldinger fra kunder.</p>
</div>
<div class="paragraph">
<p>EUNIS: Student Administration</p>
</div>
</div>
<div class="sect4">
<h5 id="_student_vurdering"><a class="anchor" href="#_student_vurdering"></a>2.2.5.4. Student-vurdering</h5>
<div class="paragraph">
<p>AKSJON: NTNU kommer med definisjon</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_forskning"><a class="anchor" href="#_forskning"></a>2.2.6. Forskning</h4>
<div class="paragraph">
<p>Alle egenskaper som kreves for å sikre at organisasjonen er i stand til å utvikle, levere, støtte og administrere forskning.</p>
</div>
<div class="paragraph">
<p>EUNIS: Research</p>
</div>
<div class="sect4">
<h5 id="_forskningspublisering"><a class="anchor" href="#_forskningspublisering"></a>2.2.6.1. Forskningspublisering</h5>
<div class="paragraph">
<p>Alle aktiviteter rettet mot å publisere forskningsresultater og rapportere resultater.</p>
</div>
<div class="sect5">
<h6 id="_rapportering_av_forskningsresultater"><a class="anchor" href="#_rapportering_av_forskningsresultater"></a>2.2.6.1.1. Rapportering av forskningsresultater</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å utvikle og produsere rapporter om forskningsresultater, inkludert de som er nødvendige for å oppfylle kravene fra finansieringsorganer.</p>
</div>
<div class="paragraph">
<p>EUNIS: Output Reporting</p>
</div>
</div>
<div class="sect5">
<h6 id="_publiseringsforvaltning"><a class="anchor" href="#_publiseringsforvaltning"></a>2.2.6.1.2. Publiseringsforvaltning</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å publisere og fremme forskningsresultater, og administrere publikasjonssamlingene sine helhetlig for å maksimere virkningen av dem.</p>
</div>
<div class="paragraph">
<p>EUNIS: Publication Management</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_forskningsfinansiering"><a class="anchor" href="#_forskningsfinansiering"></a>2.2.6.2. Forskningsfinansiering</h5>
<div class="paragraph">
<p>Alle aktiviteter rettet mot å skaffe og forvalte midler til å gjennomføre forskningsprosjekter.</p>
</div>
<div class="paragraph">
<p>EUNIS: Research funding</p>
</div>
</div>
<div class="sect4">
<h5 id="_forskningsproduksjon"><a class="anchor" href="#_forskningsproduksjon"></a>2.2.6.3. Forskningsproduksjon</h5>
<div class="paragraph">
<p>Alle aktiviteter rettet mot å gjennomføre og levere selve forskningen.</p>
</div>
<div class="paragraph">
<p>EUNIS: Research Delivery</p>
</div>
<div class="sect5">
<h6 id="_forskningsforvaltning_og_prioritering"><a class="anchor" href="#_forskningsforvaltning_og_prioritering"></a>2.2.6.3.1. Forskningsforvaltning og prioritering</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å forvalte resultatene fra forskningsprosjekter, inkludert bevaring utover levetiden til enkeltprosjekter.</p>
</div>
<div class="paragraph">
<p>EUNIS: Output Management</p>
</div>
</div>
<div class="sect5">
<h6 id="_kurratering_av_forskningsdata"><a class="anchor" href="#_kurratering_av_forskningsdata"></a>2.2.6.3.2. Kurratering av forskningsdata</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å lagre, dele, bruke og gjenbruke datasett produsert fra forskningsprosjekter, inkludert datasettstyringsplanlegging og kuratering av datasett utover levetiden til enkeltprosjekter.</p>
</div>
<div class="paragraph">
<p>EUNIS: Dataset management</p>
</div>
</div>
<div class="sect5">
<h6 id="_forskningsproduksjon_2"><a class="anchor" href="#_forskningsproduksjon_2"></a>2.2.6.3.3. Forskningsproduksjon</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å produsere forskning. Dette er utførelsen av forskningsprosjektet.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_muliggjørende_kapabiliteter"><a class="anchor" href="#_muliggjørende_kapabiliteter"></a>2.3. Muliggjørende kapabiliteter</h3>
<div class="sect3">
<h4 id="_muliggjørende_kapabiliteter_oversikt"><a class="anchor" href="#_muliggjørende_kapabiliteter_oversikt"></a>2.3.1. Muliggjørende kapabiliteter - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Kapabiliteter/_images/Muliggjørende%20kapabiliteter.png" alt="Muliggjørende kapabiliteter image">
</div>
<div class="title">Figure 2. Muliggjørende kapabiliteter</div>
</div>
</div>
<div class="sect3">
<h4 id="_muliggjørende_kapabiliteter_2"><a class="anchor" href="#_muliggjørende_kapabiliteter_2"></a>2.3.2. Muliggjørende kapabiliteter</h4>
<div class="paragraph">
<p>AKSJON: NTNU oppdaterer definisjon</p>
</div>
<div class="paragraph">
<p>Hva organisasjonen gjør for å sikre at den fremmer og forbedrer sin profil og omdømme regionalt, nasjonalt og internasjonalt. Gjennom publisering av forskning og kompetanse, prestasjoner og oppnåelser til en rekke medier og nettverk, samtidig som de reagerer på direkte henvendelser fra pressen, og maksimerer positiv dekning i media.</p>
</div>
<div class="paragraph">
<p>EUNIS: Enabling Capabilities</p>
</div>
<div class="sect4">
<h5 id="_juridiske_tjenester"><a class="anchor" href="#_juridiske_tjenester"></a>2.3.2.1. Juridiske tjenester</h5>
<div class="paragraph">
<p>Alle aktiviteter som har som mål å sikre tilgjengeligheten av effektive juridiske tjenester.</p>
</div>
<div class="paragraph">
<p>EUNIS: Legal services</p>
</div>
</div>
<div class="sect4">
<h5 id="_informasjonsforvaltning"><a class="anchor" href="#_informasjonsforvaltning"></a>2.3.2.2. Informasjonsforvaltning</h5>
<div class="paragraph">
<p>Aktiviteter og tiltak for å sikre best mulig kvalitet, utnytting og sikring av informasjon i en virksomhet [kilde data.norge.no]. Administrert Informasjon inkluderer strukturerte og ustrukturerte data med omfang som definert av retningslinjene for datasikkerhet og datahåndtering.</p>
</div>
<div class="paragraph">
<p>EUNIS: Information management</p>
</div>
<div class="sect5">
<h6 id="_forvaltning_av_informasjons_og_datasikkerhet"><a class="anchor" href="#_forvaltning_av_informasjons_og_datasikkerhet"></a>2.3.2.2.1. Forvaltning av informasjons- og datasikkerhet</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å vurdere, merke, overvåke, administrere og vedlikeholde informasjonssikkerhet, og gripe inn / eskalere i tilfelle brudd på informasjonssikkerhetspolitikken. Dette vil omfatte overholdelse av reguleringer, lovgivning og intern risikostyring.</p>
</div>
<div class="paragraph">
<p>EUNIS: Information &amp; Data Security Management</p>
</div>
</div>
<div class="sect5">
<h6 id="_forvaltning_av_datakvalitet"><a class="anchor" href="#_forvaltning_av_datakvalitet"></a>2.3.2.2.2. Forvaltning av datakvalitet</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å sikre at data er korrekte, komplette, oppdaterte og konsistente og har evnen til å støtte de informasjonsformål de brukes til.</p>
</div>
</div>
<div class="sect5">
<h6 id="_informasjons_gjenfinning"><a class="anchor" href="#_informasjons_gjenfinning"></a>2.3.2.2.3. Informasjons-gjenfinning</h6>
<div class="paragraph">
<p>Hva organisasjonen gjør for å lokalisere, indeksere, katalogisere og publisere informasjon for både intern og ekstern bruk. Dette kan omfatte data som ikke oppbevares av organisasjonen.</p>
</div>
<div class="paragraph">
<p>EUNIS: Information Search &amp; discovery</p>
</div>
</div>
<div class="sect5">
<h6 id="_informasjons_registrering_rettighetsklarering_og_publisering"><a class="anchor" href="#_informasjons_registrering_rettighetsklarering_og_publisering"></a>2.3.2.2.4. Informasjons-registrering, rettighetsklarering og publisering</h6>
<div class="paragraph">
<p>AKSJON:  NTNU foreslår definisjon</p>
</div>
<div class="paragraph">
<p>Hva organisasjonen gjør for å skaffe, vedlikeholde og administrere innhold på tvers av både digitale og fysiske plattformer.</p>
</div>
<div class="paragraph">
<p>EUNIS: Enterprise Content Management</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_løsningsmønstre_forespørsel_uhf"><a class="anchor" href="#_løsningsmønstre_forespørsel_uhf"></a>3. Løsningsmønstre forespørsel UHF</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_om_løsningsmønstre_forespørsel_uhf"><a class="anchor" href="#_om_løsningsmønstre_forespørsel_uhf"></a>3.1. Om Løsningsmønstre forespørsel UHF</h3>
<div class="paragraph">
<p>Løsningsmønstre forespørsel UHF Beskrivelse…​ (derekte i representation-objektet)</p>
</div>
</div>
<div class="sect2">
<h3 id="_applikasjonsoversikt_forespørsel"><a class="anchor" href="#_applikasjonsoversikt_forespørsel"></a>3.2. Applikasjonsoversikt forespørsel</h3>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forespørsel_oversikt"><a class="anchor" href="#_applikasjonsoversikt_forespørsel_oversikt"></a>3.2.1. Applikasjonsoversikt forespørsel - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Applikasjonsoversikt%20forespørsel.png" alt="Applikasjonsoversikt forespørsel image">
</div>
<div class="title">Figure 3. Applikasjonsoversikt forespørsel</div>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_infrastruktur"><a class="anchor" href="#_uhf_infrastruktur"></a>3.2.2. UHF Infrastruktur</h4>
<div class="sect4">
<h5 id="_tokentjeneste"><a class="anchor" href="#_tokentjeneste"></a>3.2.2.1. Tokentjeneste</h5>
<div class="paragraph">
<p>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ressursportal"><a class="anchor" href="#_ressursportal"></a>3.2.2.2. Ressursportal</h5>
<div class="sect5">
<h6 id="_uhf_api_manager"><a class="anchor" href="#_uhf_api_manager"></a>3.2.2.2.1. UHF API manager</h6>
<div class="paragraph">
<p>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API. Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener. Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ivareta registrering, forvaltning og og utvikling av klientrettigheter</p>
</div>
<div class="paragraph">
<p>Hva tilbyr API av datamodell
Hvordan ønsker API å sikre seg selv
En klient må forholde seg til</p>
</div>
<div class="sect6">
<h7 id="_uhf_api_katalog"><a class="anchor" href="#_uhf_api_katalog"></a>3.2.2.2.1.1. UHF API katalog</h7>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_uhf_oauth2_autorisasjonstjener"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener"></a>3.2.2.2.2. UHF Oauth2 autorisasjonstjener</h6>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect6">
<h7 id="_uhf_klientregister"><a class="anchor" href="#_uhf_klientregister"></a>3.2.2.2.2.1. UHF Klientregister</h7>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_registrere_api_i_uhf_sektoren"><a class="anchor" href="#_registrere_api_i_uhf_sektoren"></a>3.2.2.3. Registrere API i UHF sektoren</h5>

</div>
<div class="sect4">
<h5 id="_uhf_tildel_rettigheter_til_klienter"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter"></a>3.2.2.4. UHF tildel rettigheter til klienter</h5>

</div>
</div>
<div class="sect3">
<h4 id="_uix"><a class="anchor" href="#_uix"></a>3.2.3. UiX</h4>
<div class="sect4">
<h5 id="_kildedata"><a class="anchor" href="#_kildedata"></a>3.2.3.1. Kildedata</h5>

</div>
<div class="sect4">
<h5 id="_api_gateway_hos_dataeier_oauth_resource_server"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server"></a>3.2.3.2. API Gateway hos dataeier / OAuth resource server</h5>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
<div class="sect4">
<h5 id="_kildedata_2"><a class="anchor" href="#_kildedata_2"></a>3.2.3.3. Kildedata</h5>

</div>
</div>
<div class="sect3">
<h4 id="_uio"><a class="anchor" href="#_uio"></a>3.2.4. UiO</h4>
<div class="sect4">
<h5 id="_kildedata_3"><a class="anchor" href="#_kildedata_3"></a>3.2.4.1. Kildedata</h5>

</div>
<div class="sect4">
<h5 id="_api_gateway_hos_dataeier_oauth_resource_server_2"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_2"></a>3.2.4.2. API Gateway hos dataeier / OAuth resource server</h5>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
<div class="sect4">
<h5 id="_kildedata_4"><a class="anchor" href="#_kildedata_4"></a>3.2.4.3. Kildedata</h5>

</div>
</div>
</div>
<div class="sect2">
<h3 id="_applikasjonsoversikt_forsepørsel_forenklet"><a class="anchor" href="#_applikasjonsoversikt_forsepørsel_forenklet"></a>3.3. Applikasjonsoversikt forsepørsel forenklet</h3>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forsepørsel_forenklet_oversikt"><a class="anchor" href="#_applikasjonsoversikt_forsepørsel_forenklet_oversikt"></a>3.3.1. Applikasjonsoversikt forsepørsel forenklet - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Applikasjonsoversikt%20forsepørsel%20forenklet.png" alt="Applikasjonsoversikt forsepørsel forenklet image">
</div>
<div class="title">Figure 4. Applikasjonsoversikt forsepørsel forenklet</div>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_infrastruktur_2"><a class="anchor" href="#_uhf_infrastruktur_2"></a>3.3.2. UHF Infrastruktur</h4>
<div class="sect4">
<h5 id="_ressursportal_2"><a class="anchor" href="#_ressursportal_2"></a>3.3.2.1. Ressursportal</h5>
<div class="sect5">
<h6 id="_uhf_api_manager_2"><a class="anchor" href="#_uhf_api_manager_2"></a>3.3.2.1.1. UHF API manager</h6>
<div class="paragraph">
<p>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API. Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener. Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ivareta registrering, forvaltning og og utvikling av klientrettigheter</p>
</div>
<div class="paragraph">
<p>Hva tilbyr API av datamodell
Hvordan ønsker API å sikre seg selv
En klient må forholde seg til</p>
</div>
<div class="sect6">
<h7 id="_uhf_api_katalog_2"><a class="anchor" href="#_uhf_api_katalog_2"></a>3.3.2.1.1.1. UHF API katalog</h7>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_uhf_oauth2_autorisasjonstjener_2"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_2"></a>3.3.2.1.2. UHF Oauth2 autorisasjonstjener</h6>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect6">
<h7 id="_uhf_klientregister_2"><a class="anchor" href="#_uhf_klientregister_2"></a>3.3.2.1.2.1. UHF Klientregister</h7>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_utvikle_og_vedlikeholde_api"><a class="anchor" href="#_utvikle_og_vedlikeholde_api"></a>3.3.2.2. Utvikle og vedlikeholde API</h5>

</div>
</div>
<div class="sect3">
<h4 id="_uix_2"><a class="anchor" href="#_uix_2"></a>3.3.3. UiX</h4>
<div class="sect4">
<h5 id="_api_gateway_hos_dataeier_oauth_resource_server_3"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_3"></a>3.3.3.1. API Gateway hos dataeier / OAuth resource server</h5>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_uio_2"><a class="anchor" href="#_uio_2"></a>3.3.4. UiO</h4>
<div class="sect4">
<h5 id="_api_gateway_hos_dataeier_oauth_resource_server_4"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_4"></a>3.3.4.1. API Gateway hos dataeier / OAuth resource server</h5>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_applikasjonsoversikt_forsepørsel_integrert_med_iam"><a class="anchor" href="#_applikasjonsoversikt_forsepørsel_integrert_med_iam"></a>3.4. Applikasjonsoversikt forsepørsel integrert med IAM</h3>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forsepørsel_integrert_med_iam_oversikt"><a class="anchor" href="#_applikasjonsoversikt_forsepørsel_integrert_med_iam_oversikt"></a>3.4.1. Applikasjonsoversikt forsepørsel integrert med IAM - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Applikasjonsoversikt%20forsepørsel%20integrert%20med%20IAM.png" alt="Applikasjonsoversikt forsepørsel integrert med IAM image">
</div>
<div class="title">Figure 5. Applikasjonsoversikt forsepørsel integrert med IAM</div>
</div>
</div>
<div class="sect3">
<h4 id="_sluttbruker"><a class="anchor" href="#_sluttbruker"></a>3.4.2. Sluttbruker</h4>

</div>
<div class="sect3">
<h4 id="_klient"><a class="anchor" href="#_klient"></a>3.4.3. Klient</h4>

</div>
<div class="sect3">
<h4 id="_identitetstilbyder"><a class="anchor" href="#_identitetstilbyder"></a>3.4.4. Identitetstilbyder</h4>

</div>
<div class="sect3">
<h4 id="_uhf_infrastruktur_3"><a class="anchor" href="#_uhf_infrastruktur_3"></a>3.4.5. UHF Infrastruktur</h4>
<div class="sect4">
<h5 id="_uhf_tildel_rettigheter_til_klienter_2"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter_2"></a>3.4.5.1. UHF tildel rettigheter til klienter</h5>

</div>
<div class="sect4">
<h5 id="_ressursportal_3"><a class="anchor" href="#_ressursportal_3"></a>3.4.5.2. Ressursportal</h5>
<div class="sect5">
<h6 id="_uhf_oauth2_autorisasjonstjener_3"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_3"></a>3.4.5.2.1. UHF Oauth2 autorisasjonstjener</h6>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect6">
<h7 id="_uhf_klientregister_3"><a class="anchor" href="#_uhf_klientregister_3"></a>3.4.5.2.1.1. UHF Klientregister</h7>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_roller_og_tilgangsregler"><a class="anchor" href="#_roller_og_tilgangsregler"></a>3.4.6. Roller og tilgangsregler</h4>

</div>
<div class="sect3">
<h4 id="_attributter_grunndata"><a class="anchor" href="#_attributter_grunndata"></a>3.4.7. Attributter /grunndata</h4>

</div>
<div class="sect3">
<h4 id="_uix_3"><a class="anchor" href="#_uix_3"></a>3.4.8. UiX</h4>
<div class="sect4">
<h5 id="_kildedata_5"><a class="anchor" href="#_kildedata_5"></a>3.4.8.1. Kildedata</h5>

</div>
<div class="sect4">
<h5 id="_kildedata_6"><a class="anchor" href="#_kildedata_6"></a>3.4.8.2. Kildedata</h5>

</div>
<div class="sect4">
<h5 id="_api_gateway_hos_dataeier_oauth_resource_server_5"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_5"></a>3.4.8.3. API Gateway hos dataeier / OAuth resource server</h5>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_autentiseringstjeneste"><a class="anchor" href="#_autentiseringstjeneste"></a>3.4.9. Autentiseringstjeneste</h4>
<div class="paragraph">
<p>Tjeneste som benyttes av tilbyder for å autentisere aktuell konsument.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_applikasjonsoversikt_forsepørsel_integrert_nasjonalt"><a class="anchor" href="#_applikasjonsoversikt_forsepørsel_integrert_nasjonalt"></a>3.5. Applikasjonsoversikt forsepørsel integrert nasjonalt</h3>
<div class="sect3">
<h4 id="_applikasjonsoversikt_forsepørsel_integrert_nasjonalt_oversikt"><a class="anchor" href="#_applikasjonsoversikt_forsepørsel_integrert_nasjonalt_oversikt"></a>3.5.1. Applikasjonsoversikt forsepørsel integrert nasjonalt - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Applikasjonsoversikt%20forsepørsel%20integrert%20nasjonalt.png" alt="Applikasjonsoversikt forsepørsel integrert nasjonalt image">
</div>
<div class="title">Figure 6. Applikasjonsoversikt forsepørsel integrert nasjonalt</div>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_infrastruktur_4"><a class="anchor" href="#_uhf_infrastruktur_4"></a>3.5.2. UHF Infrastruktur</h4>
<div class="sect4">
<h5 id="_tokentjeneste_2"><a class="anchor" href="#_tokentjeneste_2"></a>3.5.2.1. Tokentjeneste</h5>
<div class="paragraph">
<p>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uhf_tildel_rettigheter_til_klienter_3"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter_3"></a>3.5.2.2. UHF tildel rettigheter til klienter</h5>

</div>
<div class="sect4">
<h5 id="_registrere_api_i_uhf_sektoren_2"><a class="anchor" href="#_registrere_api_i_uhf_sektoren_2"></a>3.5.2.3. Registrere API i UHF sektoren</h5>

</div>
<div class="sect4">
<h5 id="_ressursportal_4"><a class="anchor" href="#_ressursportal_4"></a>3.5.2.4. Ressursportal</h5>
<div class="sect5">
<h6 id="_uhf_oauth2_autorisasjonstjener_4"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_4"></a>3.5.2.4.1. UHF Oauth2 autorisasjonstjener</h6>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect6">
<h7 id="_uhf_klientregister_4"><a class="anchor" href="#_uhf_klientregister_4"></a>3.5.2.4.1.1. UHF Klientregister</h7>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_uhf_api_manager_3"><a class="anchor" href="#_uhf_api_manager_3"></a>3.5.2.4.2. UHF API manager</h6>
<div class="paragraph">
<p>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API. Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener. Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ivareta registrering, forvaltning og og utvikling av klientrettigheter</p>
</div>
<div class="paragraph">
<p>Hva tilbyr API av datamodell
Hvordan ønsker API å sikre seg selv
En klient må forholde seg til</p>
</div>
<div class="sect6">
<h7 id="_uhf_api_katalog_3"><a class="anchor" href="#_uhf_api_katalog_3"></a>3.5.2.4.2.1. UHF API katalog</h7>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nasjonal_infrastruktur"><a class="anchor" href="#_nasjonal_infrastruktur"></a>3.5.3. Nasjonal infrastruktur</h4>
<div class="sect4">
<h5 id="_maskinporten"><a class="anchor" href="#_maskinporten"></a>3.5.3.1. Maskinporten</h5>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_altinn_autorisasjon"><a class="anchor" href="#_altinn_autorisasjon"></a>3.5.3.2. Altinn autorisasjon</h5>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_felles_api_katalog"><a class="anchor" href="#_felles_api_katalog"></a>3.5.3.3. Felles API-katalog</h5>
<div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_avgi_data_løsningsmønster_uhf"><a class="anchor" href="#_avgi_data_løsningsmønster_uhf"></a>3.6. Avgi data - løsningsmønster UHF</h3>
<div class="sect3">
<h4 id="_avgi_data_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_avgi_data_løsningsmønster_uhf_oversikt"></a>3.6.1. Avgi data - løsningsmønster UHF - oversikt</h4>
<div class="paragraph">
<p>En arbeidsflyt en tilbyder av data utfører for å svare på en dataforespørsel. Tilbyder mottar forespørsel om oppslag med et aksesstoken. Klienten som forespør autentiseres og token valideres. Eventuelt mer fin-granulert tilgangskontroll utføres og data returneres. Tilgang kontrolleres kun dersom det er snakk om et sikret API.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Avgi%20data%20-%20løsningsmønster%20UHF.png" alt="Avgi data - løsningsmønster UHF image">
</div>
<div class="title">Figure 7. Avgi data - løsningsmønster UHF</div>
</div>
</div>
<div class="sect3">
<h4 id="_egen_autorisasjons_komponent"><a class="anchor" href="#_egen_autorisasjons_komponent"></a>3.6.2. Egen autorisasjons-komponent</h4>
<div class="paragraph">
<p>Komponent for å håndheve virksomhetens regler for tilgang.
Også kalt policy enforcement point (PEP).</p>
</div>
</div>
<div class="sect3">
<h4 id="_altinn_autorisasjon_2"><a class="anchor" href="#_altinn_autorisasjon_2"></a>3.6.3. Altinn autorisasjon</h4>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_datatilbyder"><a class="anchor" href="#_datatilbyder"></a>3.6.4. Datatilbyder</h4>
<div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div>
<div class="paragraph">
<p>API Eiere  (kan eie Data som API gir tilgang til, eller system som tilbyr APIet)??</p>
</div>
<div class="paragraph">
<p>Når virksomheten tilbyr åpne data, vil det være virksomheten som eier dataene. (men det bør vel definere et domen-eier innenfor virksomheten)</p>
</div>
<div class="paragraph">
<p>Data eier på to nivå: f. eks. studieavdelingen (er ikke dette behandlingsansvarlig?) spør studenten om de gir samtykke til å gi tilgang til data om studenten som hen eier.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tilgangskontroll_tjeneste"><a class="anchor" href="#_tilgangskontroll_tjeneste"></a>3.6.5. Tilgangskontroll-tjeneste</h4>
<div class="paragraph">
<p>Tjeneste for å sjekke rettigheter til data. Kan være eksterne eller interne tjenester. Disse rettigheter kan være mer finkornet enn tilgangene administrert av autorisasjonstjeneren.
Eksempler på rettigheter kan komme av samtykker fra person eller virksomhet, eller rollebasert fra vergemål, familierelasjon el.</p>
</div>
</div>
<div class="sect3">
<h4 id="_avgi_forespurte_data_gjennom_api"><a class="anchor" href="#_avgi_forespurte_data_gjennom_api"></a>3.6.6. Avgi forespurte data gjennom API</h4>
<div class="paragraph">
<p>Prosessen med å avgi data på forespørsel gjennom et egnet API.</p>
</div>
<div class="sect4">
<h5 id="_motta_forespørsel_om_oppslag"><a class="anchor" href="#_motta_forespørsel_om_oppslag"></a>3.6.6.1. Motta  forespørsel om oppslag</h5>
<div class="paragraph">
<p>Motta forespørsler fra API-konsument om å avgi data.</p>
</div>
</div>
<div class="sect4">
<h5 id="_avgi_data"><a class="anchor" href="#_avgi_data"></a>3.6.6.2. Avgi data</h5>
<div class="paragraph">
<p>Prosessen med å gi svar på forespørselen.</p>
</div>
</div>
<div class="sect4">
<h5 id="_autentisere_konsument"><a class="anchor" href="#_autentisere_konsument"></a>3.6.6.3. Autentisere konsument</h5>
<div class="paragraph">
<p>Prosessen med å autentisere en konsument.</p>
</div>
</div>
<div class="sect4">
<h5 id="_kontroller_tilgang"><a class="anchor" href="#_kontroller_tilgang"></a>3.6.6.4. Kontroller tilgang</h5>
<div class="paragraph">
<p>Kontroll og håndheving av konsumentens rettigheter til å få forespurte data.  I tillegg til "validering av sikkerhetsbillet", kan det være behov for kontroll mot virksomhetsinterne policies.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_datautvekslings_tjeneste"><a class="anchor" href="#_datautvekslings_tjeneste"></a>3.6.7. Datautvekslings-tjeneste</h4>
<div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div>
</div>
<div class="sect3">
<h4 id="_datautvekslings_tjeneste_2"><a class="anchor" href="#_datautvekslings_tjeneste_2"></a>3.6.8. Datautvekslings-tjeneste</h4>
<div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tokenvaliderings_tjeneste"><a class="anchor" href="#_tokenvaliderings_tjeneste"></a>3.6.9. Tokenvaliderings-tjeneste</h4>
<div class="paragraph">
<p>Tjeneste som benyttes av tilbyder for å validere og kontrollere autentisiteten til et OAUTH2 token fra Maskinporten</p>
</div>
</div>
<div class="sect3">
<h4 id="_avgi_data_2"><a class="anchor" href="#_avgi_data_2"></a>3.6.10. Avgi data</h4>
<div class="paragraph">
<p>Evne til å avgi data på forespørsel. Kan omfatte tilgangsstyring.</p>
</div>
</div>
<div class="sect3">
<h4 id="_api_gateway_hos_dataeier_oauth_resource_server_6"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_6"></a>3.6.11. API Gateway hos dataeier / OAuth resource server</h4>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dataobjekter_eoppslag_med_metadata_uhf"><a class="anchor" href="#_dataobjekter_eoppslag_med_metadata_uhf"></a>3.7. Dataobjekter eOppslag - med metadata UHF</h3>
<div class="sect3">
<h4 id="_dataobjekter_eoppslag_med_metadata_uhf_oversikt"><a class="anchor" href="#_dataobjekter_eoppslag_med_metadata_uhf_oversikt"></a>3.7.1. Dataobjekter eOppslag - med metadata UHF - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Dataobjekter%20eOppslag%20-%20med%20metadata%20UHF.png" alt="Dataobjekter eOppslag - med metadata UHF image">
</div>
<div class="title">Figure 8. Dataobjekter eOppslag - med metadata UHF</div>
</div>
</div>
<div class="sect3">
<h4 id="_api_katalogen"><a class="anchor" href="#_api_katalogen"></a>3.7.2. API-katalogen</h4>
<div class="paragraph">
<p>API-katalogen er en del av Felles datakatalog som inneholder API-beskrivelser med endepunktsadresser og kobling til datasett.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tilganger_konsumentrepresentasjonsforhold"><a class="anchor" href="#_tilganger_konsumentrepresentasjonsforhold"></a>3.7.3. Tilganger konsument/representasjonsforhold</h4>
<div class="paragraph">
<p>Dataobjekt som beskriver hvilke tilganger til ressurser en representant (leverandør) skal ha på vegne av konsument.</p>
</div>
</div>
<div class="sect3">
<h4 id="_scope_metadata"><a class="anchor" href="#_scope_metadata"></a>3.7.4. Scope-metadata</h4>

</div>
<div class="sect3">
<h4 id="_samtykkemetadata"><a class="anchor" href="#_samtykkemetadata"></a>3.7.5. Samtykkemetadata</h4>

</div>
<div class="sect3">
<h4 id="_api_katalogmetadata"><a class="anchor" href="#_api_katalogmetadata"></a>3.7.6. API-katalogmetadata</h4>

</div>
<div class="sect3">
<h4 id="_maskinporten_2"><a class="anchor" href="#_maskinporten_2"></a>3.7.7. Maskinporten</h4>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_altinn_autorisasjon_3"><a class="anchor" href="#_altinn_autorisasjon_3"></a>3.7.8. Altinn autorisasjon</h4>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_beskrivelse_api"><a class="anchor" href="#_beskrivelse_api"></a>3.7.9. Beskrivelse API</h4>
<div class="paragraph">
<p>Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p>
</div>
<div class="paragraph">
<p>Ønsker å bruke Open API spesifikasjon</p>
</div>
<div class="sect4">
<h5 id="_delegerbar_ressurs"><a class="anchor" href="#_delegerbar_ressurs"></a>3.7.9.1. Delegerbar ressurs</h5>
<div class="paragraph">
<p>Dataobjekt som beskriver en ressurs, f.eks. et API, som det kan gis rettigheter til gjennom et representasjonsforhold.</p>
</div>
<div class="sect5">
<h6 id="_oauth_scopes"><a class="anchor" href="#_oauth_scopes"></a>3.7.9.1.1. OAUTH scopes</h6>
<div class="paragraph">
<p>Hvordan får Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div>
<div class="paragraph">
<p>Fra eHelse: Regler for et API som beskriver hvilke tilganger en datakonsument (representert ved organisasjonsnummer) og deres klienter skal ha tilgang til (utstedt token for).</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_endepunkt_adresse"><a class="anchor" href="#_endepunkt_adresse"></a>3.7.9.2. Endepunkt (adresse)</h5>
<div class="paragraph">
<p>Dataobjekt som representerer teknisk adresse til et API eller ressurs.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_beskrivelse_av_aktør_som_kan_innhente_samtykke"><a class="anchor" href="#_beskrivelse_av_aktør_som_kan_innhente_samtykke"></a>3.7.10. Beskrivelse av aktør som kan innhente samtykke</h4>
<div class="paragraph">
<p>Dataobjekt som beskriver en datakonsument som har rett til å innhente samtykke om å slå opp data.
Viktig innholde er bl.a. URL</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dataobjekter_eoppslag_uhf"><a class="anchor" href="#_dataobjekter_eoppslag_uhf"></a>3.8. Dataobjekter eOppslag UHF</h3>
<div class="sect3">
<h4 id="_dataobjekter_eoppslag_uhf_oversikt"><a class="anchor" href="#_dataobjekter_eoppslag_uhf_oversikt"></a>3.8.1. Dataobjekter eOppslag UHF - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Dataobjekter%20eOppslag%20UHF.png" alt="Dataobjekter eOppslag UHF image">
</div>
<div class="title">Figure 9. Dataobjekter eOppslag UHF</div>
</div>
</div>
<div class="sect3">
<h4 id="_api_katalogen_2"><a class="anchor" href="#_api_katalogen_2"></a>3.8.2. API-katalogen</h4>
<div class="paragraph">
<p>API-katalogen er en del av Felles datakatalog som inneholder API-beskrivelser med endepunktsadresser og kobling til datasett.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tilganger_konsumentrepresentasjonsforhold_2"><a class="anchor" href="#_tilganger_konsumentrepresentasjonsforhold_2"></a>3.8.3. Tilganger konsument/representasjonsforhold</h4>
<div class="paragraph">
<p>Dataobjekt som beskriver hvilke tilganger til ressurser en representant (leverandør) skal ha på vegne av konsument.</p>
</div>
</div>
<div class="sect3">
<h4 id="_maskinporten_3"><a class="anchor" href="#_maskinporten_3"></a>3.8.4. Maskinporten</h4>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_altinn_autorisasjon_4"><a class="anchor" href="#_altinn_autorisasjon_4"></a>3.8.5. Altinn autorisasjon</h4>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_beskrivelse_api_2"><a class="anchor" href="#_beskrivelse_api_2"></a>3.8.6. Beskrivelse API</h4>
<div class="paragraph">
<p>Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p>
</div>
<div class="paragraph">
<p>Ønsker å bruke Open API spesifikasjon</p>
</div>
<div class="sect4">
<h5 id="_endepunkt_adresse_2"><a class="anchor" href="#_endepunkt_adresse_2"></a>3.8.6.1. Endepunkt (adresse)</h5>
<div class="paragraph">
<p>Dataobjekt som representerer teknisk adresse til et API eller ressurs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_delegerbar_ressurs_2"><a class="anchor" href="#_delegerbar_ressurs_2"></a>3.8.6.2. Delegerbar ressurs</h5>
<div class="paragraph">
<p>Dataobjekt som beskriver en ressurs, f.eks. et API, som det kan gis rettigheter til gjennom et representasjonsforhold.</p>
</div>
<div class="sect5">
<h6 id="_oauth_scopes_2"><a class="anchor" href="#_oauth_scopes_2"></a>3.8.6.2.1. OAUTH scopes</h6>
<div class="paragraph">
<p>Hvordan får Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div>
<div class="paragraph">
<p>Fra eHelse: Regler for et API som beskriver hvilke tilganger en datakonsument (representert ved organisasjonsnummer) og deres klienter skal ha tilgang til (utstedt token for).</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_beskrivelse_av_aktør_som_kan_innhente_samtykke_2"><a class="anchor" href="#_beskrivelse_av_aktør_som_kan_innhente_samtykke_2"></a>3.8.7. Beskrivelse av aktør som kan innhente samtykke</h4>
<div class="paragraph">
<p>Dataobjekt som beskriver en datakonsument som har rett til å innhente samtykke om å slå opp data.
Viktig innholde er bl.a. URL</p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_oauth2_autorisasjonstjener_5"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_5"></a>3.8.8. UHF Oauth2 autorisasjonstjener</h4>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_delegere_rettigheter_til_databehandler_løsningsmønster_uhf"><a class="anchor" href="#_delegere_rettigheter_til_databehandler_løsningsmønster_uhf"></a>3.9. Delegere rettigheter til databehandler - løsningsmønster UHF</h3>
<div class="sect3">
<h4 id="_delegere_rettigheter_til_databehandler_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_delegere_rettigheter_til_databehandler_løsningsmønster_uhf_oversikt"></a>3.9.1. Delegere rettigheter til databehandler - løsningsmønster UHF - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Delegere%20rettigheter%20til%20databehandler%20-%20løsningsmønster%20UHF.png" alt="Delegere rettigheter til databehandler - løsningsmønster UHF image">
</div>
<div class="title">Figure 10. Delegere rettigheter til databehandler - løsningsmønster UHF</div>
</div>
</div>
<div class="sect3">
<h4 id="_registering_av_representasjonsforhold"><a class="anchor" href="#_registering_av_representasjonsforhold"></a>3.9.2. Registering av representasjonsforhold</h4>
<div class="paragraph">
<p>Tjeneste for å registrere et representasjonsforhold som gir leverandør mulighet til å opptre på vegne av konsument</p>
</div>
</div>
<div class="sect3">
<h4 id="_delegerbar_ressurs_3"><a class="anchor" href="#_delegerbar_ressurs_3"></a>3.9.3. Delegerbar ressurs</h4>
<div class="paragraph">
<p>Dataobjekt som beskriver en ressurs, f.eks. et API, som det kan gis rettigheter til gjennom et representasjonsforhold.</p>
</div>
</div>
<div class="sect3">
<h4 id="_delegering_av_rettigheter_til_databehandler_leverandør"><a class="anchor" href="#_delegering_av_rettigheter_til_databehandler_leverandør"></a>3.9.4. Delegering av rettigheter til databehandler (leverandør)</h4>
<div class="paragraph">
<p>Prosessen med å delegere rettigheter til databehandler/leverandør.</p>
</div>
<div class="sect4">
<h5 id="_inngå_avtale_med_leverandør"><a class="anchor" href="#_inngå_avtale_med_leverandør"></a>3.9.4.1. Inngå avtale med leverandør</h5>
<div class="paragraph">
<p>Prosessen med å inngå en avtale med leverandør. En slik avtale vil normalt være inngått tidligere og uavhengig av om man skal ta i bruk et nytt API. En tjenesteavtale med leverandør er en forutsetning for å kunne delegere en tilgang.</p>
</div>
</div>
<div class="sect4">
<h5 id="_registrere_delegert_tilgang"><a class="anchor" href="#_registrere_delegert_tilgang"></a>3.9.4.2. Registrere delegert tilgang</h5>
<div class="paragraph">
<p>Prosessen med å delegere tilganger. I tilknytning til eOppslag vil formålet være å gi leverandør tilgang til å representere konsument overfor et API, men registreringen vil potensielt også kunne gjelde for andre områder.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_delegere_rettigheter_til_databehandler"><a class="anchor" href="#_delegere_rettigheter_til_databehandler"></a>3.9.5. Delegere rettigheter til databehandler</h4>
<div class="paragraph">
<p>Evnen til å delegere rettigheter til databehandler som utfører oppgaver på vegne av behandlingsansvarlig.</p>
</div>
</div>
<div class="sect3">
<h4 id="_altinn_autorisasjon_5"><a class="anchor" href="#_altinn_autorisasjon_5"></a>3.9.6. Altinn autorisasjon</h4>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_samhandlingsaktør"><a class="anchor" href="#_samhandlingsaktør"></a>3.9.7. Samhandlingsaktør</h4>
<div class="paragraph">
<p>Samlebetegnelse på roller som inngår i en samhandlingsprosess og samhandler med en annen samhandlingsaktør. Kan være en tilbyder, konsument, avsender, mottaker, leverandør etc.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_felleskomponenter"><a class="anchor" href="#_felleskomponenter"></a>3.10. Felleskomponenter</h3>
<div class="sect3">
<h4 id="_felleskomponenter_oversikt"><a class="anchor" href="#_felleskomponenter_oversikt"></a>3.10.1. Felleskomponenter - oversikt</h4>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Felleskomponenter.png" alt="Felleskomponenter image">
</div>
<div class="title">Figure 11. Felleskomponenter</div>
</div>
</div>
<div class="sect3">
<h4 id="_autentiseringstjeneste_2"><a class="anchor" href="#_autentiseringstjeneste_2"></a>3.10.2. Autentiseringstjeneste</h4>
<div class="paragraph">
<p>Tjeneste som benyttes av tilbyder for å autentisere aktuell konsument.</p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_api_manager_4"><a class="anchor" href="#_uhf_api_manager_4"></a>3.10.3. UHF API manager</h4>
<div class="paragraph">
<p>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API. Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener. Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ivareta registrering, forvaltning og og utvikling av klientrettigheter</p>
</div>
<div class="paragraph">
<p>Hva tilbyr API av datamodell
Hvordan ønsker API å sikre seg selv
En klient må forholde seg til</p>
</div>
<div class="sect4">
<h5 id="_uhf_api_katalog_4"><a class="anchor" href="#_uhf_api_katalog_4"></a>3.10.3.1. UHF API katalog</h5>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_api_gateway_hos_dataeier_oauth_resource_server_7"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_7"></a>3.10.4. API Gateway hos dataeier / OAuth resource server</h4>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_oauth2_autorisasjonstjener_6"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_6"></a>3.10.5. UHF Oauth2 autorisasjonstjener</h4>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect4">
<h5 id="_uhf_klientregister_5"><a class="anchor" href="#_uhf_klientregister_5"></a>3.10.5.1. UHF Klientregister</h5>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_identity_goveranance_administration_iga"><a class="anchor" href="#_identity_goveranance_administration_iga"></a>3.10.6. Identity Goveranance Administration (IGA)</h4>
<div class="paragraph">
<p>Identitets- og tilgangsstyring (IAM) handler om å gi studenter, forskere og ansatte riktig tilgang til digitale systemer, tjenester og ressurser, samt avslutte tilgang for brukere som ikke lenger skal ha det.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_få_tilgang_til_data_løsningsmønster_uhf"><a class="anchor" href="#_få_tilgang_til_data_løsningsmønster_uhf"></a>3.11. Få tilgang til data - løsningsmønster UHF</h3>
<div class="sect3">
<h4 id="_få_tilgang_til_data_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_få_tilgang_til_data_løsningsmønster_uhf_oversikt"></a>3.11.1. Få tilgang til data - løsningsmønster UHF - oversikt</h4>
<div class="paragraph">
<p>En arbeidsflyt en konsument av data må gjennomføre for å få tildelt rettigheter til data gjennom et API. Det omfatter å få kjennskap til aktuelt API gjennom API-katalogen, autentisere konsumenten, inngå avtale om bruk av data, samt å registrere tilganger hos den tekniske komponenten som skal utføre tjenestekallet. Dersom det dreier seg om tilgang til et åpent tilgjengelig API, kan enkelte delaktiviteter i prosessene hoppes over, men for å kunne logge informasjon om bruk av APIer bør alle konsumenter av et API registreres i klientregisteret.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.png" alt="Få tilgang til data - løsningsmønster UHF image">
</div>
<div class="title">Figure 12. Få tilgang til data - løsningsmønster UHF</div>
</div>
</div>
<div class="sect3">
<h4 id="_data_konsument"><a class="anchor" href="#_data_konsument"></a>3.11.2. Data-konsument</h4>
<div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div>
</div>
<div class="sect3">
<h4 id="_beskrivelse_api_3"><a class="anchor" href="#_beskrivelse_api_3"></a>3.11.3. Beskrivelse API</h4>
<div class="paragraph">
<p>Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p>
</div>
<div class="paragraph">
<p>Ønsker å bruke Open API spesifikasjon</p>
</div>
</div>
<div class="sect3">
<h4 id="_api_søk"><a class="anchor" href="#_api_søk"></a>3.11.4. API-søk</h4>
<div class="paragraph">
<p>Tjeneste for å søke etter og finne tilgjengelige API-er</p>
</div>
</div>
<div class="sect3">
<h4 id="_få_tilgang_til_data_konsument"><a class="anchor" href="#_få_tilgang_til_data_konsument"></a>3.11.5. Få tilgang til data (konsument)</h4>
<div class="paragraph">
<p>Evnen til å skaffe seg tilgang til tilbudte data fra annen aktør.</p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_api_katalog_5"><a class="anchor" href="#_uhf_api_katalog_5"></a>3.11.6. UHF API katalog</h4>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_tildel_rettigheter_til_klienter_4"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter_4"></a>3.11.7. UHF tildel rettigheter til klienter</h4>

</div>
<div class="sect3">
<h4 id="_api_tilgangs_forespørsel"><a class="anchor" href="#_api_tilgangs_forespørsel"></a>3.11.8. API tilgangs-forespørsel</h4>
<div class="paragraph">
<p>API eieren får forespørsel om den vil gi konsumenten tilgang til APIet.</p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_oauth2_autorisasjonstjener_7"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_7"></a>3.11.9. UHF Oauth2 autorisasjonstjener</h4>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
<div class="sect4">
<h5 id="_uhf_klientregister_6"><a class="anchor" href="#_uhf_klientregister_6"></a>3.11.9.1. UHF Klientregister</h5>
<div class="paragraph">
<p>Oversikt over alle klienter som er blitt tildelt tilgang til ressurser.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_oauth_scopes_3"><a class="anchor" href="#_oauth_scopes_3"></a>3.11.10. OAUTH scopes</h4>
<div class="paragraph">
<p>Hvordan får Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div>
<div class="paragraph">
<p>Fra eHelse: Regler for et API som beskriver hvilke tilganger en datakonsument (representert ved organisasjonsnummer) og deres klienter skal ha tilgang til (utstedt token for).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_innhente_data_løsningsmønster_uhf"><a class="anchor" href="#_innhente_data_løsningsmønster_uhf"></a>3.12. Innhente data - løsningsmønster UHF</h3>
<div class="sect3">
<h4 id="_innhente_data_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_innhente_data_løsningsmønster_uhf_oversikt"></a>3.12.1. Innhente data - løsningsmønster UHF - oversikt</h4>
<div class="paragraph">
<p>En arbeidsflyt en konsument utfører når det utføres et tjenestekall for å innhente data gjennom et API. API-adressen hentes i API-katalogen. Tilgang til APIet byttes inn mot et kjøretids-token i autoriseringstjenesten. Tjenestekall til APIet utføres gjennom API gateway der tokenet benyttes for å få tilgang. Dersom det er et åpent API er det kun relevante prossessteg som utføres.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Innhente%20data%20-%20løsningsmønster%20UHF.png" alt="Innhente data - løsningsmønster UHF image">
</div>
<div class="title">Figure 13. Innhente data - løsningsmønster UHF</div>
</div>
</div>
<div class="sect3">
<h4 id="_maskinporten_4"><a class="anchor" href="#_maskinporten_4"></a>3.12.2. Maskinporten</h4>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_data_konsument_2"><a class="anchor" href="#_data_konsument_2"></a>3.12.3. Data-konsument</h4>
<div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tokentjeneste_3"><a class="anchor" href="#_tokentjeneste_3"></a>3.12.4. Tokentjeneste</h4>
<div class="paragraph">
<p>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p>
</div>
</div>
<div class="sect3">
<h4 id="_virksomhetssertifikat"><a class="anchor" href="#_virksomhetssertifikat"></a>3.12.5. Virksomhetssertifikat</h4>
<div class="paragraph">
<p>En virksomhets elektroniske ID. Benyttes for å autentisere virksomheten overfor tokentjenesten.</p>
</div>
</div>
<div class="sect3">
<h4 id="_innhente_data"><a class="anchor" href="#_innhente_data"></a>3.12.6. Innhente data</h4>
<div class="paragraph">
<p>Evnen til å innhente data fra en annen aktør.</p>
</div>
</div>
<div class="sect3">
<h4 id="_endepunkt_adresse_3"><a class="anchor" href="#_endepunkt_adresse_3"></a>3.12.7. Endepunkt (adresse)</h4>
<div class="paragraph">
<p>Dataobjekt som representerer teknisk adresse til et API eller ressurs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_oppslag_representasjons_forhold"><a class="anchor" href="#_oppslag_representasjons_forhold"></a>3.12.8. Oppslag representasjons-forhold</h4>
<div class="paragraph">
<p>Tjeneste som benyttes av tokentjenesten for å kontrollere om det foreligger et delegert representasjonsforhold fra konsument til leverendør i autorisasjonstjenesten til Altinn.</p>
</div>
</div>
<div class="sect3">
<h4 id="_slå_opp_data_gjennom_et_api"><a class="anchor" href="#_slå_opp_data_gjennom_et_api"></a>3.12.9. Slå opp data gjennom et API</h4>
<div class="paragraph">
<p>Prosessen med å slå opp og hente data gjennom et API.</p>
</div>
<div class="sect4">
<h5 id="_utfør_tjenestekall"><a class="anchor" href="#_utfør_tjenestekall"></a>3.12.9.1. Utfør tjenestekall</h5>
<div class="paragraph">
<p>Prosessen med å benytte (gjøre et oppslag mot) et eksternt API.</p>
</div>
</div>
<div class="sect4">
<h5 id="_innhent_samtykke_ved_behov"><a class="anchor" href="#_innhent_samtykke_ved_behov"></a>3.12.9.2. Innhent samtykke ved behov</h5>
<div class="paragraph">
<p>Prosess for å innhente samtykke fra person eller virksomhet som grunnlag for å innhente data. Dette gjøres kun ved behov.</p>
</div>
</div>
<div class="sect4">
<h5 id="_hent_teknisk_endepunkt_ved_behov"><a class="anchor" href="#_hent_teknisk_endepunkt_ved_behov"></a>3.12.9.3. Hent teknisk endepunkt ved behov</h5>
<div class="paragraph">
<p>Prosessen å slå opp den tekniske adressen til et API før spørring mot API-et. Gjøres kun dersom det er nødvendig.</p>
</div>
</div>
<div class="sect4">
<h5 id="_be_om_tilgangstoken"><a class="anchor" href="#_be_om_tilgangstoken"></a>3.12.9.4. Be om tilgangstoken</h5>
<div class="paragraph">
<p>Prosessen med å benytte en sikkerhetsbillettjeneste for hente en sikkerhetsbillett som gir tilgang til et API. Dette forutsetter at alt er registert og satt opp riktig mot de aktuelle tjenestene.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tilganger_konsument"><a class="anchor" href="#_tilganger_konsument"></a>3.12.10. Tilganger konsument</h4>
<div class="paragraph">
<p>Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p>
</div>
</div>
<div class="sect3">
<h4 id="_altinn_autorisasjon_6"><a class="anchor" href="#_altinn_autorisasjon_6"></a>3.12.11. Altinn autorisasjon</h4>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_felles_api_katalog_2"><a class="anchor" href="#_felles_api_katalog_2"></a>3.12.12. Felles API-katalog</h4>
<div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_adressetjeneste"><a class="anchor" href="#_adressetjeneste"></a>3.12.13. Adressetjeneste</h4>
<div class="paragraph">
<p>Tjeneste som gir mulighet til å slå opp teknisk endepunkt</p>
</div>
</div>
<div class="sect3">
<h4 id="_datautvekslings_tjeneste_3"><a class="anchor" href="#_datautvekslings_tjeneste_3"></a>3.12.14. Datautvekslings-tjeneste</h4>
<div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div>
</div>
<div class="sect3">
<h4 id="_samtykkeregistererings_tjeneste"><a class="anchor" href="#_samtykkeregistererings_tjeneste"></a>3.12.15. Samtykkeregistererings-tjeneste</h4>
<div class="paragraph">
<p>Tjeneste for å innhente samtykke fra den registrert som dataene gjelder. Dette kan være en person eller en virksomhet.</p>
</div>
</div>
<div class="sect3">
<h4 id="_altinn_autorisasjon_7"><a class="anchor" href="#_altinn_autorisasjon_7"></a>3.12.16. Altinn autorisasjon</h4>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_api_gateway_hos_dataeier_oauth_resource_server_8"><a class="anchor" href="#_api_gateway_hos_dataeier_oauth_resource_server_8"></a>3.12.17. API Gateway hos dataeier / OAuth resource server</h4>
<div class="paragraph">
<p>API gateway beskytter ressurser og monitorerer tilgang. Den håndhever tilgangsstyring ved å validere aksesstokens og utfører eventuell fin-granulert tilgangskontroll. Den håndhever også volumbegrenseninger og samler data om bruken av APIer (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og monitorerer tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere tilgangstoken</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
<div class="ulist">
<ul>
<li>
<p>Håndtere volumbegrensninger og andre abonnementsordninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>[orkestrering mellom interntjeneser??]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prinsipp fra Steiner:
Oppgaver både sikkerhetsperspektiv og forvaltningsperspektivet
Dersom gatway skal stå for sikkerheten, MÅ VÆRE SIKKER PÅ at API ikke kan nås utenom gateway
Noen må passe VELDIG godt på gatewayen og holder den oppdatert.</p>
</div>
<div class="paragraph">
<p>Det må være et tydeligvalg om hvem (gateway eller API) har ansvar for sikkerhetsmessig.</p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_oauth2_autorisasjonstjener_8"><a class="anchor" href="#_uhf_oauth2_autorisasjonstjener_8"></a>3.12.18. UHF Oauth2 autorisasjonstjener</h4>
<div class="paragraph">
<p>Autorisasjonstjeneter realiserer tilgangskontroll gjennom å utstede OpenID Connect eller OAuth 2 grants og tokens. En autorisasjonstjener er også brukt til å realisere tilgangs policy.</p>
</div>
<div class="paragraph">
<p>Scope (rettighet) og Audience (identifikator eller ressurs-server f. eks. FS)</p>
</div>
<div class="paragraph">
<p>Per i dag er Scopes er grovkornet
Rich authorization requsts (ny spesifikasjon) for å utvide scope begrep i IETF
underenhet og behandlingssted, behandlingsgrunnlag og roller jobbes det med.</p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_api_katalog_6"><a class="anchor" href="#_uhf_api_katalog_6"></a>3.12.19. UHF API katalog</h4>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_registrere_api_uhf"><a class="anchor" href="#_registrere_api_uhf"></a>3.13. Registrere API  UHF</h3>
<div class="sect3">
<h4 id="_registrere_api_uhf_oversikt"><a class="anchor" href="#_registrere_api_uhf_oversikt"></a>3.13.1. Registrere API  UHF - oversikt</h4>
<div class="paragraph">
<p>En arbeidsflyt som datatilbyder må gjennomføre for å gjøre et API synlig og tilgjengelig gjennom kataloger og søkeløsninger. Metadata om APIet blir registrert i API-katalogen. Metadata inkluderer begreper og datamodeller omfattet av datasettet som APIet tilgjengeliggjør, samt tilganger (scopes) knyttet til APIet som kan tildeles konsumenter.</p>
</div>
<div class="paragraph">
<p>Kanskje omdøpe kapabiliteten til "Publiser API"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Registrere%20API%20%20UHF.png" alt="Registrere API  UHF image">
</div>
<div class="title">Figure 14. Registrere API  UHF</div>
</div>
</div>
<div class="sect3">
<h4 id="_oauth_scopes_4"><a class="anchor" href="#_oauth_scopes_4"></a>3.13.2. OAUTH scopes</h4>
<div class="paragraph">
<p>Hvordan får Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div>
<div class="paragraph">
<p>Fra eHelse: Regler for et API som beskriver hvilke tilganger en datakonsument (representert ved organisasjonsnummer) og deres klienter skal ha tilgang til (utstedt token for).</p>
</div>
</div>
<div class="sect3">
<h4 id="_token_egenskaper"><a class="anchor" href="#_token_egenskaper"></a>3.13.3. Token-egenskaper</h4>
<div class="paragraph">
<p>Egenskaper som f.eks. gyldighetstid ved tilgangstoken som er Maskinportens variant av sikkerhetsbillett.</p>
</div>
</div>
<div class="sect3">
<h4 id="_datatilbyder_2"><a class="anchor" href="#_datatilbyder_2"></a>3.13.4. Datatilbyder</h4>
<div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div>
<div class="paragraph">
<p>API Eiere  (kan eie Data som API gir tilgang til, eller system som tilbyr APIet)??</p>
</div>
<div class="paragraph">
<p>Når virksomheten tilbyr åpne data, vil det være virksomheten som eier dataene. (men det bør vel definere et domen-eier innenfor virksomheten)</p>
</div>
<div class="paragraph">
<p>Data eier på to nivå: f. eks. studieavdelingen (er ikke dette behandlingsansvarlig?) spør studenten om de gir samtykke til å gi tilgang til data om studenten som hen eier.</p>
</div>
</div>
<div class="sect3">
<h4 id="_maskinporten_5"><a class="anchor" href="#_maskinporten_5"></a>3.13.5. Maskinporten</h4>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_registrere_api_i_uhf_sektoren_3"><a class="anchor" href="#_registrere_api_i_uhf_sektoren_3"></a>3.13.6. Registrere API i UHF sektoren</h4>

</div>
<div class="sect3">
<h4 id="_api_beskrivelse"><a class="anchor" href="#_api_beskrivelse"></a>3.13.7. API Beskrivelse</h4>
<div class="paragraph">
<p>Open API spesifikasjon (har vi føringer på format her)?</p>
</div>
<div class="paragraph">
<p>VI ønsker oss beskrivelse av datamodell og begreper som finnes i begrepskatalog og datamodell katalog (per default bruker vi det nasjonale, men kan hende vi må bruke noe for sektoren om ikke funksjonalitet er dekket</p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_definer_rettighetter_knyttet_til_apier"><a class="anchor" href="#_uhf_definer_rettighetter_knyttet_til_apier"></a>3.13.8. UHF definer rettighetter knyttet til APIer</h4>
<div class="paragraph">
<p>UHF sentralisert selvbetjeningstjeneste for administrasjon av integrasjoner og APIer.
Tjeneste "administrasjonssentre" vil ha rettigheter til å registrere på vegne av andre f.eks. API-katalogen
Definere hvilke scopes finnes koblet til et API</p>
</div>
</div>
<div class="sect3">
<h4 id="_registrere_api"><a class="anchor" href="#_registrere_api"></a>3.13.9. Registrere API</h4>

</div>
<div class="sect3">
<h4 id="_registrere_api_2"><a class="anchor" href="#_registrere_api_2"></a>3.13.10. Registrere API</h4>
<div class="paragraph">
<p>Prosess med å registere API i relevante tjenester, api-katalog, Maskinporten, Kapabilitetsoversikt</p>
</div>
</div>
<div class="sect3">
<h4 id="_felles_api_katalog_3"><a class="anchor" href="#_felles_api_katalog_3"></a>3.13.11. Felles API-katalog</h4>
<div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_uhf_api_manager_5"><a class="anchor" href="#_uhf_api_manager_5"></a>3.13.12. UHF API manager</h4>
<div class="paragraph">
<p>Administrativ komponent som kontrollerer policy og livssyklus for definisjon og forvaltning av API. Tilganger gjennom et API defineres i API manager og tildeles av autorisasjonstjener. Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ivareta registrering, forvaltning og og utvikling av klientrettigheter</p>
</div>
<div class="paragraph">
<p>Hva tilbyr API av datamodell
Hvordan ønsker API å sikre seg selv
En klient må forholde seg til</p>
</div>
<div class="sect4">
<h5 id="_uhf_api_katalog_7"><a class="anchor" href="#_uhf_api_katalog_7"></a>3.13.12.1. UHF API katalog</h5>
<div class="paragraph">
<p>Oversikt over alle API som er registrert</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf"><a class="anchor" href="#_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf"></a>3.14. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</h3>
<div class="sect3">
<h4 id="_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf_oversikt"><a class="anchor" href="#_tilgjengeliggjøre_data_etter_forspørsel_løsningsmønster_uhf_oversikt"></a>3.14.1. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF - oversikt</h4>
<div class="paragraph">
<p>En arbeidsflyt som datatilbyder må gjennomføre for å tildele rettigheter til en konsument som ber om tilgang til data. En datatilbyder mottar forespørsel om tilgang til et API på vegne av en organisasjon eller bruker. Dataeieren tar stilling til om konsumenten skal få tilgang til data gjennom APIet. Tilgang registreres knyttet til konsumentens klient (applikasjonen som benytter APIet) i klientregisteret.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../Løsningsmønstre%20forespørsel%20UHF/_images/Tilgjengeliggjøre%20data%20etter%20forspørsel%20løsningsmønster%20UHF.png" alt="Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF image">
</div>
<div class="title">Figure 15. Tilgjengeliggjøre data etter forspørsel løsningsmønster UHF</div>
</div>
</div>
<div class="sect3">
<h4 id="_tilganger_konsument_2"><a class="anchor" href="#_tilganger_konsument_2"></a>3.14.2. Tilganger konsument</h4>
<div class="paragraph">
<p>Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p>
</div>
</div>
<div class="sect3">
<h4 id="_datatilbyder_3"><a class="anchor" href="#_datatilbyder_3"></a>3.14.3. Datatilbyder</h4>
<div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div>
<div class="paragraph">
<p>API Eiere  (kan eie Data som API gir tilgang til, eller system som tilbyr APIet)??</p>
</div>
<div class="paragraph">
<p>Når virksomheten tilbyr åpne data, vil det være virksomheten som eier dataene. (men det bør vel definere et domen-eier innenfor virksomheten)</p>
</div>
<div class="paragraph">
<p>Data eier på to nivå: f. eks. studieavdelingen (er ikke dette behandlingsansvarlig?) spør studenten om de gir samtykke til å gi tilgang til data om studenten som hen eier.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tilgjengeliggjør_data_etter_forselpørsel"><a class="anchor" href="#_tilgjengeliggjør_data_etter_forselpørsel"></a>3.14.4. Tilgjengeliggjør data etter forselpørsel</h4>
<div class="paragraph">
<p>Prosessen med å tilby data gjennom et API til aktører utenfor egen virksomhet.</p>
</div>
<div class="sect4">
<h5 id="_tildele_tilganger_til_api"><a class="anchor" href="#_tildele_tilganger_til_api"></a>3.14.4.1. Tildele tilganger til API</h5>
<div class="paragraph">
<p>Prosess for å registrere hvilke databrukere som skal få tilgang
Sette policy, og grov tilgangsstyring gjennom maskinporten.</p>
</div>
</div>
<div class="sect4">
<h5 id="_inngå_avtale_om_tilgang_til_data"><a class="anchor" href="#_inngå_avtale_om_tilgang_til_data"></a>3.14.4.2. Inngå avtale om tilgang til data</h5>
<div class="paragraph">
<p>Prosess for å inngå avtale om tilgang og bruk av data.</p>
</div>
</div>
<div class="sect4">
<h5 id="_registrere_brukere_av_samtykke"><a class="anchor" href="#_registrere_brukere_av_samtykke"></a>3.14.4.3. Registrere brukere av samtykke</h5>
<div class="paragraph">
<p>Prosess for å registrere konsumenter som skal ha mulighet for å innhente samtykker som gir tilgang til en tjeneste.</p>
</div>
<div class="paragraph">
<p>Dette utføres kun om det er behov for samtykke for tilgang til dataene.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_maskinporten_6"><a class="anchor" href="#_maskinporten_6"></a>3.14.5. Maskinporten</h4>
<div class="paragraph">
<p>Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering.</p>
</div>
<div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_altinn_autorisasjon_8"><a class="anchor" href="#_altinn_autorisasjon_8"></a>3.14.6. Altinn autorisasjon</h4>
<div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_registrere_samtykkebasert_tilgang"><a class="anchor" href="#_registrere_samtykkebasert_tilgang"></a>3.14.7. Registrere samtykkebasert tilgang</h4>
<div class="paragraph">
<p>Tjeneste for å registerer konsumenter som kan innhente samtykke som gir grunnlag for utlevering fra datatilbyder.</p>
</div>
</div>
<div class="sect3">
<h4 id="_aktører_som_kan_innhente_samtykke_for_bruk_av_api"><a class="anchor" href="#_aktører_som_kan_innhente_samtykke_for_bruk_av_api"></a>3.14.8. Aktører som kan innhente samtykke for bruk av API</h4>
<div class="paragraph">
<p>Oversikt over aktører som skal ha mulighet til å innhente samtykke som grunnlag for å få tilgang til data gjennom et API.
URL til konsumenten det kan innhentes samtykke for må inngå i beskrivelsen.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tilgjengeliggjøre_data_etter_forespørsel"><a class="anchor" href="#_tilgjengeliggjøre_data_etter_forespørsel"></a>3.14.9. Tilgjengeliggjøre data etter forespørsel</h4>

</div>
<div class="sect3">
<h4 id="_api_tilgangs_forespørsel_2"><a class="anchor" href="#_api_tilgangs_forespørsel_2"></a>3.14.10. API tilgangs-forespørsel</h4>
<div class="paragraph">
<p>API eieren får forespørsel om den vil gi konsumenten tilgang til APIet.</p>
</div>
</div>
<div class="sect3">
<h4 id="_godkjenn_tilgang"><a class="anchor" href="#_godkjenn_tilgang"></a>3.14.11. Godkjenn tilgang</h4>

</div>
<div class="sect3">
<h4 id="_uhf_tildel_rettigheter_til_klienter_5"><a class="anchor" href="#_uhf_tildel_rettigheter_til_klienter_5"></a>3.14.12. UHF tildel rettigheter til klienter</h4>

</div>
<div class="sect3">
<h4 id="_ressursportal_5"><a class="anchor" href="#_ressursportal_5"></a>3.14.13. Ressursportal</h4>

</div>
<div class="sect3">
<h4 id="_forespør_dataeier"><a class="anchor" href="#_forespør_dataeier"></a>3.14.14. Forespør dataeier</h4>
<div class="paragraph">
<p>Harmoniserers med rolledefinisjoner.</p>
</div>
<div class="paragraph">
<p>Kan en databehandler besvare forespørselen automatisk på grunnlag av forhåndsdefinerte instruks?</p>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Kontakt: nasjonalarkitektur@digdir.no</p>
</footer><script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
