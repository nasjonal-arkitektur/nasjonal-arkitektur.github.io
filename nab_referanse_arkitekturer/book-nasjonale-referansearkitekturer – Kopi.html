<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="keywords" content="Referansearkitekturer">
<meta name="author" content="Direktoratet for forvaltning og ikt (Difi)">
<title>Referansearkitekturer</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Referansearkitekturer</h1>
<div class="details">
<span id="author" class="author">Direktoratet for forvaltning og ikt (Difi)</span><br>
<span id="email" class="email"><a href="mailto:nasjonalarkitektur@difi.no">nasjonalarkitektur@difi.no</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Innholdsfortegnelse</div>
<ul class="sectlevel1">
<li><a href="#_om_referansearkitekturer">1. Om referansearkitekturer</a>
<ul class="sectlevel2">
<li><a href="#_hva_er_referansearkitekturer">1.1. Hva er referansearkitekturer?</a></li>
<li><a href="#_om_nasjonale_referansearkitekturer">1.2. Om nasjonale referansearkitekturer</a></li>
</ul>
</li>
<li><a href="#_referansearkitekturer_for_datautveksling">2. Referansearkitekturer for Datautveksling</a>
<ul class="sectlevel2">
<li><a href="#_hva_er_data">2.1. Hva er data?</a></li>
<li><a href="#_overgripende_modell_for_datautveksling">2.2. Overgripende modell for datautveksling</a></li>
<li><a href="#_brukstilfeller">2.3. Brukstilfeller</a></li>
<li><a href="#_introduksjon_til_tverrgående_temaer">2.4. Introduksjon til tverrgående temaer</a>
<ul class="sectlevel3">
<li><a href="#_logging">2.4.1. Logging</a></li>
<li><a href="#_tidsstempling">2.4.2. Tidsstempling</a></li>
<li><a href="#_fellesskapsforvaltning">2.4.3. Fellesskapsforvaltning</a></li>
<li><a href="#_informasjonssikkerhet">2.4.4. Informasjonssikkerhet</a></li>
<li><a href="#_identitetsforvaltning">2.4.5. Identitetsforvaltning</a></li>
<li><a href="#_tilgangsstyring">2.4.6. Tilgangsstyring</a></li>
<li><a href="#_informasjonssikkerhet_2">2.4.7. Informasjonssikkerhet</a></li>
<li><a href="#_tillitstjenester">2.4.8. Tillitstjenester</a></li>
<li><a href="#_informasjonsforvaltning">2.4.9. Informasjonsforvaltning</a></li>
<li><a href="#_avtalehåndtering">2.4.10. Avtalehåndtering</a></li>
<li><a href="#_lover_og_regler">2.4.11. Lover og regler</a></li>
<li><a href="#_semantikk">2.4.12. Semantikk</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_spesifikke_referansearkitekturer">3. Spesifikke referansearkitekturer</a>
<ul class="sectlevel2">
<li><a href="#_eoppslag">3.1. eOppslag</a>
<ul class="sectlevel3">
<li><a href="#_klargjøring_for_deling_av_data_på_forespørsel">3.1.1. Klargjøring for <em>deling av data på forespørsel</em></a></li>
<li><a href="#_utveksling_av_data">3.1.2. Utveksling av data</a></li>
</ul>
</li>
<li><a href="#_emelding">3.2. eMelding</a>
<ul class="sectlevel3">
<li><a href="#_introduksjon">3.2.1. Introduksjon</a></li>
<li><a href="#_grunnleggende_konsepter_for_emelding">3.2.2. Grunnleggende konsepter for eMelding</a></li>
<li><a href="#_konseptuelle_prosessbeskrivelser_arkitekturbyggeklosser">3.2.3. Konseptuelle prosessbeskrivelser (arkitekturbyggeklosser)</a></li>
<li><a href="#_anvendelse_av_emelding_i_peppol_infrastrukturen_i_norge">3.2.4. Anvendelse av eMelding i PEPPOL-infrastrukturen i Norge</a></li>
<li><a href="#_videre_informasjon_om_emelding">3.2.5. Videre informasjon om eMelding</a></li>
<li><a href="#_praktiske_anvendelser_av_generisk_mønster_for_meldingsforsendelse_til_kjent_mottaker">3.2.6. Praktiske anvendelser av generisk mønster for  meldingsforsendelse til kjent mottaker</a></li>
</ul>
</li>
<li><a href="#_enotifikasjon">3.3. eNotifikasjon</a>
<ul class="sectlevel3">
<li><a href="#_om_dette_mønsteret">3.3.1. Om dette mønsteret</a></li>
<li><a href="#_begrepsapparat">3.3.2. Begrepsapparat</a></li>
<li><a href="#_innhenting_av_supplerende_hendelsesrelaterte_data">3.3.3. Innhenting av supplerende hendelsesrelaterte data</a></li>
<li><a href="#_verdistrømmer">3.3.4. Verdistrømmer</a></li>
<li><a href="#_kapabilitetskart_for_enotifikasjon">3.3.5. Kapabilitetskart for eNotifikasjon</a></li>
<li><a href="#_arkitekturmønstre">3.3.6. Arkitekturmønstre</a></li>
<li><a href="#_løsningsmønstre">3.3.7. Løsningsmønstre</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_grunnleggende_referansearkitekturer_og_andre_utvalgte_eksterne_referanser">4. Grunnleggende referansearkitekturer og andre utvalgte eksterne referanser</a>
<ul class="sectlevel2">
<li><a href="#_eira_european_interoparability_reference_architecture">4.1. EIRA - European Interoparability Reference Architecture</a></li>
<li><a href="#_toopra_the_once_only_principle_reference_architecture_eu">4.2. TOOPRA - The Once Only Principle Reference Architecture (EU)</a></li>
<li><a href="#_the_open_group_soa_ra">4.3. The Open Group SOA RA</a></li>
<li><a href="#_dma_dmbok2_data_management_book_of_knowledge">4.4. DMA DMBOK2 - Data Management Book of Knowledge</a></li>
</ul>
</li>
<li><a href="#_informasjonssikkerhet_3">5. Informasjonssikkerhet</a>
<ul class="sectlevel2">
<li><a href="#_overordnede_mål">5.1. Overordnede mål</a></li>
<li><a href="#_krav_fra_eidas">5.2. Krav fra eIDAS</a></li>
<li><a href="#_omfang_og_avgrensning">5.3. Omfang og avgrensning</a></li>
<li><a href="#_informasjonsbeskyttelsesbehov">5.4. Informasjonsbeskyttelsesbehov</a></li>
<li><a href="#_aktuelle_tiltak">5.5. Aktuelle tiltak</a></li>
<li><a href="#_risiko_og_sårbarhetsanalyse">5.6. Risiko og sårbarhetsanalyse</a></li>
<li><a href="#_restrisiko">5.7. Restrisiko</a></li>
<li><a href="#_standardisert_autentiseringsmekanisme">5.8. Standardisert autentiseringsmekanisme</a></li>
<li><a href="#_delegering_av_myndighet">5.9. Delegering av myndighet</a></li>
<li><a href="#_referanser">5.10. Referanser</a></li>
</ul>
</li>
<li><a href="#_veiledning_til_valg_av_referansearkitekturer">6. Veiledning til valg av referansearkitekturer</a>
<ul class="sectlevel2">
<li><a href="#_generelt_3">6.1. Generelt</a></li>
<li><a href="#_metode_for_valg_av_referansearkitekturer_i_tverrgående_samhandlingsløsninger">6.2. Metode for valg av referansearkitekturer i tverrgående samhandlingsløsninger</a>
<ul class="sectlevel3">
<li><a href="#_innledning">6.2.1. Innledning</a></li>
<li><a href="#_stegene_i_metoden">6.2.2. Stegene i metoden</a></li>
<li><a href="#_realisere_løsning">6.2.3. Realisere løsning</a></li>
</ul>
</li>
<li><a href="#_hva_er_data_2">6.3. Hva er data</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>Arbeid med prioriterte nasjonale referansearkitekturer er et pågående samarbeid mellom Difi og flere andre virksomheter innen offentlig og privat sektor.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_om_referansearkitekturer"><a class="anchor" href="#_om_referansearkitekturer"></a><a class="link" href="#_om_referansearkitekturer">1. Om referansearkitekturer</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_hva_er_referansearkitekturer"><a class="anchor" href="#_hva_er_referansearkitekturer"></a><a class="link" href="#_hva_er_referansearkitekturer">1.1. Hva er referansearkitekturer?</a></h3>
<div class="paragraph">
<p>Referansearkitekturer gir mønstre og veiledning til utforming av arkitekturer og løsninger innen avgrensede områder.</p>
</div>
<div class="paragraph">
<p>Det legges vekt på å få fram nyttig veiledning, med alt fra gode eksempler til beste praksis og konkrete anbefalinger.</p>
</div>
<div class="paragraph">
<p>Prioritering av arbeidet og utarbeidelsen av referansearkitekturer gjøres i samarbeid med aktører på tvers av offentlig og privat sektor nasjonalt og internasjonalt.</p>
</div>
<div class="paragraph">
<p>Relatert informasjon:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="../nab_overordnet-metode">Overordnet metode, bakgrunnsinformasjon</a></p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="../nab_arkitekturlandskap">Arkitekturlandskap, temaområder og kapabiliteter</a></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_om_nasjonale_referansearkitekturer"><a class="anchor" href="#_om_nasjonale_referansearkitekturer"></a><a class="link" href="#_om_nasjonale_referansearkitekturer">1.2. Om nasjonale referansearkitekturer</a></h3>
<div class="paragraph">
<p>Nasjonale referansearkitekturer identifiseres ut fra en <a href="../nab_arkitekturlandskap">nedbrytning av nasjonal arkitektur i temaområder og kapabiliteter i arkitekturlandskapet</a>. Både kapabilitetskart og prioriterte referansearkitekurer innen hvert område vil utvikles over tid, etterhvert som en går inn på nye områder.</p>
</div>
<div class="paragraph">
<p>Følgende figur viser en foreløpig oversikt over aktuelle referansearkitekturer innen respektive områder.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../plattform_felles/media/i-arbeid.png" alt="i arbeid" width="45" height="45"></span> <em>Denne oversikten er i arbeid (vår 2019)</em></p>
</div>
<div class="paragraph">
<div class="title">Figur: Katalog over referansearkitekturer innen aktuelle områder i Nasjonal arkitektur</div>
<p><span class="image"><img src="../nab_referanse_arkitekturer/media/katalog-referansearkitekturer.png" alt="katalog referansearkitekturer"></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_referansearkitekturer_for_datautveksling"><a class="anchor" href="#_referansearkitekturer_for_datautveksling"></a><a class="link" href="#_referansearkitekturer_for_datautveksling">2. Referansearkitekturer for Datautveksling</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unresolved directive in book-nasjonale-referansearkitekturer – Kopi.adoc - include::../nab_referanse_arkitekturer/generisk_datautveksling.adoc[]</p>
</div>
<div class="sect2">
<h3 id="_hva_er_data"><a class="anchor" href="#_hva_er_data"></a><a class="link" href="#_hva_er_data">2.1. Hva er data?</a></h3>

</div>
<div class="sect2">
<h3 id="_overgripende_modell_for_datautveksling"><a class="anchor" href="#_overgripende_modell_for_datautveksling"></a><a class="link" href="#_overgripende_modell_for_datautveksling">2.2. Overgripende modell for datautveksling</a></h3>

</div>
<div class="sect2">
<h3 id="_brukstilfeller"><a class="anchor" href="#_brukstilfeller"></a><a class="link" href="#_brukstilfeller">2.3. Brukstilfeller</a></h3>

</div>
<div class="sect2">
<h3 id="_introduksjon_til_tverrgående_temaer"><a class="anchor" href="#_introduksjon_til_tverrgående_temaer"></a><a class="link" href="#_introduksjon_til_tverrgående_temaer">2.4. Introduksjon til tverrgående temaer</a></h3>
<div class="sect3">
<h4 id="_logging"><a class="anchor" href="#_logging"></a><a class="link" href="#_logging">2.4.1. Logging</a></h4>

</div>
<div class="sect3">
<h4 id="_tidsstempling"><a class="anchor" href="#_tidsstempling"></a><a class="link" href="#_tidsstempling">2.4.2. Tidsstempling</a></h4>

</div>
<div class="sect3">
<h4 id="_fellesskapsforvaltning"><a class="anchor" href="#_fellesskapsforvaltning"></a><a class="link" href="#_fellesskapsforvaltning">2.4.3. Fellesskapsforvaltning</a></h4>

</div>
<div class="sect3">
<h4 id="_informasjonssikkerhet"><a class="anchor" href="#_informasjonssikkerhet"></a><a class="link" href="#_informasjonssikkerhet">2.4.4. Informasjonssikkerhet</a></h4>

</div>
<div class="sect3">
<h4 id="_identitetsforvaltning"><a class="anchor" href="#_identitetsforvaltning"></a><a class="link" href="#_identitetsforvaltning">2.4.5. Identitetsforvaltning</a></h4>

</div>
<div class="sect3">
<h4 id="_tilgangsstyring"><a class="anchor" href="#_tilgangsstyring"></a><a class="link" href="#_tilgangsstyring">2.4.6. Tilgangsstyring</a></h4>

</div>
<div class="sect3">
<h4 id="_informasjonssikkerhet_2"><a class="anchor" href="#_informasjonssikkerhet_2"></a><a class="link" href="#_informasjonssikkerhet_2">2.4.7. Informasjonssikkerhet</a></h4>

</div>
<div class="sect3">
<h4 id="_tillitstjenester"><a class="anchor" href="#_tillitstjenester"></a><a class="link" href="#_tillitstjenester">2.4.8. Tillitstjenester</a></h4>

</div>
<div class="sect3">
<h4 id="_informasjonsforvaltning"><a class="anchor" href="#_informasjonsforvaltning"></a><a class="link" href="#_informasjonsforvaltning">2.4.9. Informasjonsforvaltning</a></h4>

</div>
<div class="sect3">
<h4 id="_avtalehåndtering"><a class="anchor" href="#_avtalehåndtering"></a><a class="link" href="#_avtalehåndtering">2.4.10. Avtalehåndtering</a></h4>

</div>
<div class="sect3">
<h4 id="_lover_og_regler"><a class="anchor" href="#_lover_og_regler"></a><a class="link" href="#_lover_og_regler">2.4.11. Lover og regler</a></h4>

</div>
<div class="sect3">
<h4 id="_semantikk"><a class="anchor" href="#_semantikk"></a><a class="link" href="#_semantikk">2.4.12. Semantikk</a></h4>
<div class="paragraph">
<p>Tverrgående temaer innen datautveksling</p>
</div>
<div class="paragraph">
<p>Unresolved directive in book-nasjonale-referansearkitekturer – Kopi.adoc - include::../nab_referanse_arkitekturer_tverrgående_tema/book-tverrgående-tema.adoc[]</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spesifikke_referansearkitekturer"><a class="anchor" href="#_spesifikke_referansearkitekturer"></a><a class="link" href="#_spesifikke_referansearkitekturer">3. Spesifikke referansearkitekturer</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_eoppslag"><a class="anchor" href="#_eoppslag"></a><a class="link" href="#_eoppslag">3.1. eOppslag</a></h3>
<div class="paragraph">
<p>Beskrivelsen under viser hvordan den generelle arkitekturen for eOppslag kan realiseres med løsningskomponentene Maskinporten, API-katalogen og Altinn-autorisasjon. Disse fellesløsningene leverer de tjenestene som er beskrevet på forretningsnivå over.</p>
</div>
<div class="paragraph">
<p>eOppslag kan benyttes både for sikrede API-er og API-er som tilbyr åpent tilgjengelige data uten tilgangsbegrensninger.</p>
</div>
<div class="paragraph">
<p>Det er ikke hensikten å låse referansearkitekturen til spesifikke løsninger, da ulike sektorer og aktører kan ha behov som ikke passer med det som er beskrevet. For synkrone tjenestekall basert på REST og med tilgangsstyring ved hjelp av OAUTH2-tokens, vil det være god støtte i å benytte de foreslåtte løsningene.</p>
</div>
<div class="paragraph">
<p>Nederst i beskrivelsen av løsningsmønstre er det en overordnet beskrivelse av hvilke data som inngår i registrering i de ulike komponentene.</p>
</div>
<div class="sect3">
<h4 id="_klargjøring_for_deling_av_data_på_forespørsel"><a class="anchor" href="#_klargjøring_for_deling_av_data_på_forespørsel"></a><a class="link" href="#_klargjøring_for_deling_av_data_på_forespørsel">3.1.1. Klargjøring for <em>deling av data på forespørsel</em></a></h4>
<div class="sect4">
<h5 id="_tilgjengeliggjøre_data"><a class="anchor" href="#_tilgjengeliggjøre_data"></a><a class="link" href="#_tilgjengeliggjøre_data">Tilgjengeliggjøre data</a></h5>
<div class="paragraph">
<p>For å tilby data gjennom et API sikret med fellestjenester må tilbyder inngå avtale for bruk av Maskinporten og Felles API-katalog. De respektive API-ene og hvem som skal ha hvilke rettighetene til disse må så registreres i løsningene.</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="https://nasjonal-arkitektur.github.io/nab_modeller_html-hovedbibliotek/e7e6c527-26f4-461c-b4dd-651fcbe85c8d/views/80c1baa6-55d8-4434-ab14-55e2d0afa827.html"><img src="../nab_referanse_arkitekturer_forespørsel-svar-generisk/media/SBB_Tilgjengeliggjøre.png" alt="Bilde mangler"></a></span></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 1. Elementer i view for Tilgjengeliggjøre data løsningsmønster</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilbyder av data til andre aktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgjengeliggjøre data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å gjøre data tilgjengelig for aktører utenfor egen virksomhet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgjengeliggjøre API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å tilby data gjennom et API til aktører utenfor egen virksomhet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess med å registere API i relevante tjenester, api-katalog, Maskinporten, Kapabilitetsoversikt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale om tilgang til data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess for å inngå avtale om tilgang og bruk av data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tildele tilganger til API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess for å registrere hvilke databrukere som skal få tilgang
Sette policy, og grov tilgangsstyring gjennom maskinporten.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere brukere av samtykke</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess for å registrere konsumenter som skal ha mulighet for å innhente samtykker som gir tilgang til en tjeneste.</p>
<p class="tableblock">Dette utføres kun om det er behov for samtykke for tilgang til dataene.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere Open API specification¨</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste i Felles API-katalogen for å registrere API. Bruk av tjenesten forutsetter at rettigheter til å gjøre dette på vegne av tilbyders virksomhet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selvbetjeningstjeneste for administrasjon av integrasjoner og APIer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste "administrasjonssentre" vil ha rettigheter til å registrere på vegne av andre f.eks. API-katalogen</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrering av API-brukere</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for gjennom selvbetjening å registrere og vedlikeholde tilgangene konsumenter skal ha til API-er og scopes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere samtykkebasert tilgang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å registerer konsumenter som kan innhente samtykke som gir grunnlag for utlevering fra datatilbyder.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beskrivelse API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Token-egenskaper</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Egenskaper som f.eks. gyldighetstid ved tilgangstoken som er Maskinportens variant av sikkerhetsbillett.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OAUTH scopes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilganger konsument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aktører som kan innhente samtykke for bruk av API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oversikt over aktører som skal ha mulighet til å innhente samtykke som grunnlag for å få tilgang til data gjennom et API.
URL til konsumenten det kan innhentes samtykke for må inngå i beskrivelsen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Felles API-katalog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_få_tilgang_til_data"><a class="anchor" href="#_få_tilgang_til_data"></a><a class="link" href="#_få_tilgang_til_data">Få tilgang til data</a></h5>
<div class="paragraph">
<p>For å få tilgang til data gjennom et API sikret ved hjelp av nasjonale fellesløsninger, må konsumenten inngå avtale for bruk av Maskinporten og registrere den tekniske klienten som skal benytte løsningen.</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="https://nasjonal-arkitektur.github.io/nab_modeller_html-hovedbibliotek/e7e6c527-26f4-461c-b4dd-651fcbe85c8d/views/32191953-d527-4b27-8a58-b8ec5fd93660.html"><img src="../nab_referanse_arkitekturer_forespørsel-svar-generisk/media/SBB_Tilgang.png" alt="Bilde mangler"></a></span></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 2. Elementer i view for Få tilgang til data - løsningsmønster</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Den som innhenter eller mottar data fra andre aktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Få tilgang til data (konsument)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å skaffe seg tilgang til tilbudte data fra annen aktør.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Få tilgang til API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å skaffe seg tilgang til tilbudte data fra annen aktør. Omfatte å finne API-er, inngå nødvendige avtaler og få tilganger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finn/få kjennskap til API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å finne eller få kjennskap til tilgjengelige API-er gjennom relevante kataloger og søkeløsninger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale om tilgang til data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess for å inngå avtale om tilgang og bruk av data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrer klient med tildelt tilgang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess for konsument å registerere (provisjonering av) den klienten som skal ha tilgang til API-et ved bruk av sikkerhetsbillett. Dette forutsetter at konsumenten har avtale om bruk av sikkerhetsbillettjenesten og at tilbyder har gitt konsumenten tilgang.</p>
<p class="tableblock">Dersom det er en leverandør som har blitt delegert rettigheter som databehandler på vegne av konsument er det leverandøren som registrer sin klient.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API-søk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å søke etter og finne tilgjengelige API-er</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registreringstjeneste for API-brukere</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å registrere klienter som skal ha tilgang til et gitt API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beskrivelse API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Felles API-katalog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering</p></td>
</tr>
</tbody>
</table>
<div class="sect5">
<h6 id="_delegering_av_rettigheter_til_databehandler"><a class="anchor" href="#_delegering_av_rettigheter_til_databehandler"></a><a class="link" href="#_delegering_av_rettigheter_til_databehandler">Delegering av rettigheter til databehandler</a></h6>
<div class="paragraph">
<p>Dersom konsumenten benytter en leverandør som skal opptre på konsumentens vegne, må dette forholdet registereres gjennom Altinn autorisasjon slik at det blir tilgjengelig for Maskinporten å kontrollere representasjonsforholdet.</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="https://nasjonal-arkitektur.github.io/nab_modeller_html-hovedbibliotek/e7e6c527-26f4-461c-b4dd-651fcbe85c8d/views/3d9dcb59-8e6e-4f2d-aee7-c729dea4f53f.html"><img src="../nab_referanse_arkitekturer_forespørsel-svar-generisk/media/SBB_Delegering.png" alt="Bilde mangler"></a></span></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 3. Elementer i view for Delegere rettigheter til databehandler - løsningsmønster</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samhandlingsaktør</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samlebetegnelse på roller som inngår i en samhandlingsprosess og samhandler med en annen samhandlingsaktør. Kan være en tilbyder, konsument, avsender, mottaker, leverandør etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegere rettigheter til databehandler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å delegere rettigheter til databehandler som utfører oppgaver på vegne av behandlingsansvarlig.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegering av rettigheter til databehandler (leverandør)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å delegere rettigheter til databehandler/leverandør.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale med leverandør</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å inngå en avtale med leverandør. En slik avtale vil normalt være inngått tidligere og uavhengig av om man skal ta i bruk et nytt API. En tjenesteavtale med leverandør er en forutsetning forutsetning for å kunne delegere en tilgang.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere delegert tilgang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å delegere tilganger. I tilknytning til eOppslag vil formålet være å gi leverandør tilgang til å representere konsument overfor et API, men registreringen vil potensielt også kunne gjelde for andre områder.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegerbar ressurs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som beskriver en ressurs, f.eks. et API, som det kan gis rettigheter til gjennom et representasjonsforhold.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registering av representasjonsforhold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å registrere et representasjonsforhold som gir leverandør mulighet til å opptre på vegne av konsument</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_informasjon_som_inngår_i_klargjøring_av_forespørsel"><a class="anchor" href="#_informasjon_som_inngår_i_klargjøring_av_forespørsel"></a><a class="link" href="#_informasjon_som_inngår_i_klargjøring_av_forespørsel">Informasjon som inngår i klargjøring av forespørsel</a></h5>
<div class="paragraph">
<p>Figuren under viser hvilken informasjons som må registreres i de ulike komponentene som del av klargjøringen for å forespørre data fra et API.</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="https://nasjonal-arkitektur.github.io/nab_modeller_html-hovedbibliotek/e7e6c527-26f4-461c-b4dd-651fcbe85c8d/views/6a46c6d0-64eb-43d4-97f3-2a94516c2211.html"><img src="../nab_referanse_arkitekturer_eoppslag/media/Dataobjekter%20eOppslag.png" alt="Bilde mangler" width="500"></a></span></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 4. Elementer i view for Dataobjekter eOppslag</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API-katalogen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API-katalogen er en del av Felles datakatalog som inneholder API-beskrivelser med endepunktsadresser og kobling til datasett.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beskrivelse API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endepunkt (adresse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som representerer teknisk adresse til et API eller ressurs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegerbar ressurs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som beskriver en ressurs, f.eks. et API, som det kan gis rettigheter til gjennom et representasjonsforhold.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beskrivelse av aktør som kan innhente samtykke</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som beskriver en datakonsument som har rett til å innhente samtykke om å slå opp data.
Viktig innholde er bl.a. URL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilganger konsument/representasjonsforhold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som beskriver hvilke tilganger til ressurser en representant (leverandør) skal ha på vegne av konsument.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OAUTH scopes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_utveksling_av_data"><a class="anchor" href="#_utveksling_av_data"></a><a class="link" href="#_utveksling_av_data">3.1.2. Utveksling av data</a></h4>
<div class="sect4">
<h5 id="_innhente_data"><a class="anchor" href="#_innhente_data"></a><a class="link" href="#_innhente_data">Innhente data</a></h5>
<div class="paragraph">
<p>Når en konsumet skal slå opp data gjennom et API benyttes Maskinporten for å få utstedt en sikkerhetsbillett som legges ved tjenestekallet til tilbyders API. Maskinporten utsteder sikkerhetsbilletter som OAUTH2-tokens.</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="https://nasjonal-arkitektur.github.io/nab_modeller_html-hovedbibliotek/e7e6c527-26f4-461c-b4dd-651fcbe85c8d/views/8d72be4b-7e31-438d-9990-c2c3f38f551e.html"><img src="../nab_referanse_arkitekturer_forespørsel-svar-generisk/media/SBB_Innhente.png" alt="Bilde mangler" width="750"></a></span></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 5. Elementer i view for Innhente data - løsningsmønster</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Den som innhenter eller mottar data fra andre aktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhente data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å innhente data fra en annen aktør.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slå opp data gjennom et API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med lå opp og hente data gjennom et API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhent samtykke ved behov</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess for å innhente samtykke fra person eller virksomhet som grunnlag for å innhente data. Dette gjøres kun ved behov.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hent teknisk endepunkt ved behov</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen å slå opp den tekniske adressen til et API før spørring mot API-et. Gjøres kun dersom det er nødvendig.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Be om tilgangstoken</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å benytte en sikkerhetsbillettjeneste for hente en sikkerhetsbillett som gir tilgang til et API. Dette forutsetter at alt er registert og satt opp riktig mot de aktuelle tjenestene.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utfør tjenestekall</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å benytte (gjøre et oppslag mot) et eksternt API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samtykkeregistererings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å innhente samtykke fra den registrert som dataene gjelder. Dette kan være en person eller en virksomhet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adressetjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste som gir mulighet til å slå opp teknisk endepunkt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokentjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oppslag representasjonsforhold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste som benyttes av tokentjenesten for å kontrollere om det foreligger et delegert representasjonsforhold fra konsument til leverendør i autorisasjonstjenesten til Altinn.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datautvekslingstjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for utveksling av data. Samme som data exchange service. Benyttes av avsender og mottaker for transport av meldinger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endepunkt (adresse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Teknisk adresse til et API eller ressurs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virksomhetssertifikat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">En virksomhets elektroniske ID. Benyttes for å autentisere virksomheten overfor tokentjenesten.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilganger konsument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Felles API-katalog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fellesløsning for API-sikring ved bruk av OAUTH2-tokens.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_avgi_data"><a class="anchor" href="#_avgi_data"></a><a class="link" href="#_avgi_data">Avgi data</a></h5>
<div class="paragraph">
<p>Når tilbyder får en forspørsel om data som et API-kall og det ligger ved en sikkerhetsbillett benyttes valideringstjenesten til maskinporten for grov tilgangskontroll.</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="https://nasjonal-arkitektur.github.io/nab_modeller_html-hovedbibliotek/e7e6c527-26f4-461c-b4dd-651fcbe85c8d/views/5a43e372-cf45-491f-a5e9-514d83e1e259.html"><img src="../nab_referanse_arkitekturer_forespørsel-svar-generisk/media/SBB_Avgi.png" alt="Bilde mangler" width="650"></a></span></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 6. Elementer i view for Avgi data - løsningsmønster</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilbyder av data til andre aktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evne til å avgi data på forespørsel. Kan omfatte tilgangsstyring.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi forespurte data gjennom API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å avgi data på forespørsel gjennom et egnet API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta  forespørsel om oppslag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta forespørsler fra API-konsument om å avgi data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autentisere konsument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å autentisere en kosnument.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroller tilgang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroll og håndheving av konsumentens rettigheter til å få forespurte data.  I tillegg til "validering av sikkerhetsbillet", kan det være behov for kontroll mot virksomhetsinterne policies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å gi svar på forespørselen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datautvekslingstjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for utveksling av data. Samme som data exchange service. Benyttes av avsender og mottaker for transport av meldinger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokenvalideringstjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste som benyttes av tilbyder for å validere og kontrollere autentisiteten til et OAUTH2 token fra Maskinporten</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgangskontrolltjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å sjekke rettigheter til data. Kan være eksterne eller interne tjenester.
Eksempler på rettigheter kan komme av samtykker fra person eller virksomhet, eller rollebasert fra vergemål, familierelasjon el.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datautvekslingstjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for utveksling av data. Samme som data exchange service. Benyttes av avsender og mottaker for transport av meldinger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten er en løsning for tilgangsstyring for virksomheter som utveksler data. Løsningen garanterer identiteten mellom virksomheter, og sørger for maskin-til-maskin autentisering</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Egen autorisasjonskomponent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Komponent for å håndheve virksomhetens regler for tilgang.
Også kalt policy enforcement point (PEP).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_emelding"><a class="anchor" href="#_emelding"></a><a class="link" href="#_emelding">3.2. eMelding</a></h3>
<div class="paragraph lead">
<p>eMelding er en referansearkitektur for meldingsutveksling på tvers av virksomheter, sektorer og landegrenser.</p>
</div>
<div class="sect3">
<h4 id="_introduksjon"><a class="anchor" href="#_introduksjon"></a><a class="link" href="#_introduksjon">3.2.1. Introduksjon</a></h4>
<div class="paragraph">
<p>eMelding  kan ses på som en "beste praksis" for meldingsutveksling på tvers av virksomheter og sektorer i offentlig sektor, samt mellom offentlig sektor og privat sektor.</p>
</div>
<div class="paragraph">
<p>Referansearkitekturen tar utgangspunkt i den europeiske "byggeklossen"  <a href="../kunnskap_referansearkitektur_eu-edelivery">CEF eDelivery</a>. CEF eDelivery  spesifiserer arkitekturer og standarder for meldingsutveksling. Det finnes flere eksisterende anvendelser og gjenbrukbare løsninger for å realisere eDelivery i ulike land og virksomheter.</p>
</div>
<div class="paragraph">
<p>eMelding anvendes bl.a. innen <a href="../kunnskap_losning_eu-peppol">PEPPOL-nettverket</a>, nærmere bestemt i regi av OpenPEPPOL.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>OpenPEPPOL is a non-profit international association under Belgian law (Association Internationale Sans But Lucratif – AISBL) and consists of both public sector and private members. The association has assumed full responsibility for the development and maintenance of the PEPPOL specifications, building blocks and its services and implementation across Europe.</em>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>eMelding som referansearkitektur rendyrker konseptene og har en klar kopling til CEF eDelivery, men beskrives i utgangspunktet frikoplet fra CEF eDelivery</strong>. Med dette som utgangspunkt, angis så aktuelle løsninger og praktiske anvendelser i form av CEF eDelivery og PEPPOL/OpenPEPPOL.</p>
</div>
<div class="paragraph">
<p>eMelding som referansearkitektur er avgrenset til<strong> asynkron meldingsutveksling innenfor et fellesskap (community) som samhandler under et felles interoperabilitetsregime</strong>. Når man er del av fellesskapet vil man kunne sende meldinger til andre parter i fellesskapet uten å måtte inngå bilaterale avtaler om dette. Hver enkelt part registrerer sine samhandlingskapabiliteter i felles registre, for andre til å oppdage.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tips"></i>
</td>
<td class="content">
eMelding som referansearkitektur støtter mønstre for request-reply og korrelering av meldinger i prosessinstanser, tilsvarende slik dette legges opp til i spesifikasjonen av metadata i meldingsprofil for CEF eDelivery.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_grunnleggende_konsepter_for_emelding"><a class="anchor" href="#_grunnleggende_konsepter_for_emelding"></a><a class="link" href="#_grunnleggende_konsepter_for_emelding">3.2.2. Grunnleggende konsepter for eMelding</a></h4>
<div class="sect4">
<h5 id="_firehjørnersmodellen"><a class="anchor" href="#_firehjørnersmodellen"></a><a class="link" href="#_firehjørnersmodellen">Firehjørnersmodellen</a></h5>
<div class="sect5">
<h6 id="_generelt"><a class="anchor" href="#_generelt"></a><a class="link" href="#_generelt">Generelt</a></h6>
<div class="paragraph">
<p>Begrepet "firehjørnersmodell", eller “4-corner model”, stammer fra  <a href="../kunnskap_referansearkitektur_eu-edelivery">CEF eDelivery</a>.</p>
</div>
<div class="paragraph">
<p>Følgende figur illustrerer aktuelle konsepter:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_emelding/media/Firehjørnersmodellen%20-%20forvaltningsmessig.png" alt="Firehjørnersmodellen - forvaltningsmessig image">
</div>
<div class="title">Figur 1. Firehjørnersmodellen - forvaltningsmessig</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Denne modellen kan minne om en "tjenestebuss" (ESB), der det også finnes tilsvarende løs kopling mellom avsender og mottaker. Den grunnleggende forskjellen er at dette mønsteret er fullstendig distribuert og skalerer "uendelig"  over www på global basis.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>I firehjørnersmodellen kommuniserer avsenders og mottakers systemer via hver sine <em>aksesspunktløsninger</em>. Aksesspunktene konverterer mellom applikasjonsspesifikke protokoller og en standardisert, sikker meldingsprotokoll over aktuell kommunikasosjonsinfrastruktur.</p>
</div>
<div class="paragraph">
<p>Hvert aksesspunkt blir en node i et tillitsfelleskap.</p>
</div>
<div class="paragraph">
<p>Aksesspunktene kan eventuelt integreres i avsenders og mottakers systemer. Om dette gjøres på begge sider, vil en rent fysisk ha en punkt-til-punkt forbindelse, men uten at det endrer konseptet som sådan.</p>
</div>
<div class="paragraph">
<p>Nærmere om "hjørnene":</p>
</div>
<div class="paragraph">
<p><strong>Hjørne 1</strong> representerer back-end systemet (som ligger innenfor avsenders juridiske ansvar) som sender melding til et annet back-end system (hjørne 4).</p>
</div>
<div class="paragraph">
<p><strong>Hjørne 2</strong> (aksesspunkt for avsender) Samhandler med hjørne 1 og slår opp mottakers adresse og kapabiliteter. Aksesspunktet har evnen til å sende på en sikker og pålitelig måte til et annet aksesspunkt.</p>
</div>
<div class="paragraph">
<p><strong>Hjørne 3</strong> (aksesspunkt for mottaker) Mottakers aksesspunkt har teknisk evne til å motta meldinger på en sikker og pålitelig måte og samhandle med hjørne 4.</p>
</div>
<div class="paragraph">
<p><strong>Hjørne 4</strong> representerer back-end systemet til mottaker.</p>
</div>
</div>
<div class="sect5">
<h6 id="_egenskaper_ved_4_hjørnersmodellen"><a class="anchor" href="#_egenskaper_ved_4_hjørnersmodellen"></a><a class="link" href="#_egenskaper_ved_4_hjørnersmodellen">Egenskaper ved  4-hjørnersmodellen</a></h6>
<div class="ulist">
<ul>
<li>
<p>Løs kopling mellom avsender og mottaker</p>
</li>
<li>
<p>Sikker meldingsinfrastruktur (mellom aksesspunktene)</p>
</li>
<li>
<p>Avtaleforvaltning gjennom betrodd tredjepart</p>
</li>
<li>
<p>Mulighet for å oppdage tjenestetilbydere og inngå avtaler runtime</p>
</li>
<li>
<p>Ubegrenset skalering</p>
</li>
<li>
<p><span class="red">Mulig å opprette flere communities</span></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_backend_integrasjon"><a class="anchor" href="#_backend_integrasjon"></a><a class="link" href="#_backend_integrasjon">Backend-integrasjon</a></h6>
<div class="paragraph">
<p>I 4-hjørnersmodellen er det fleksibilitet gjennom hvordan man velger å integrere aksesspunktet med egen IT-arkitektur og IT-infrastruktur. Sett fra avsenderapplikasjonen er det tre måter å integrere hjørne 1/hjørne 2 og hjørne 3/hjørne 4.</p>
</div>
<div class="sect7">
<h8 id="_tett_kobling"><a class="anchor" href="#_tett_kobling"></a><a class="link" href="#_tett_kobling">Tett kobling</a></h8>
<div class="paragraph">
<p>Avsender applikasjon og aksesspunkt er tett koblet ved at avsender applikasjonen har integrert funksjonaliteten til aksesspunktet. Det blir dermed et en-til-en forhold mellom aksesspunkt og avsender applikasjonen.</p>
</div>
</div>
<div class="sect7">
<h8 id="_semi_tett_kobling"><a class="anchor" href="#_semi_tett_kobling"></a><a class="link" href="#_semi_tett_kobling">Semi-tett kobling</a></h8>
<div class="paragraph">
<p>Avsender applikasjonen og aksesspunkt er semi-tett koblet ved at back-end og aksesspunkt er løst koblet internt, men del av det samme interne IT-arkitekturen og IT-infrastrukturen. Et aksesspunkt kan håndtere flere avsender applikasjoner.</p>
</div>
</div>
<div class="sect7">
<h8 id="_løs_kobling"><a class="anchor" href="#_løs_kobling"></a><a class="link" href="#_løs_kobling">Løs kobling</a></h8>
<div class="paragraph">
<p>Avsender applikasjonen og aksesspunkt er løst koblet og ikke en del av samme interne IT-arkitektur og IT-infrastruktur. Ett aksesspunkt kan håndtere meldingsutveksling for mange avsender applikasjoner fra flere virksomheter.</p>
</div>
<div class="paragraph">
<p>Ved løs kobling er det spesielle hensyn ved ende til ende kryptering og integritet. Det er hjørne 1 som må pakke og kryptere informasjonen og kun hjørne 4 som kan dekryptere. Hjørne 2 og hjørne 3 har ikke lov til å pakke om, fjerne eller legge til noe til meldingen og fungerer kun som en ruting mekanisme.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_konseptuelle_prosessbeskrivelser_arkitekturbyggeklosser"><a class="anchor" href="#_konseptuelle_prosessbeskrivelser_arkitekturbyggeklosser"></a><a class="link" href="#_konseptuelle_prosessbeskrivelser_arkitekturbyggeklosser">3.2.3. Konseptuelle prosessbeskrivelser (arkitekturbyggeklosser)</a></h4>
<div class="paragraph">
<p>Se konseptuelle prosessbeskrivelser for <a href="../nab_referanse_arkitekturer_meldingsutveksling_generisk">generisk meldingsforsendelse</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_anvendelse_av_emelding_i_peppol_infrastrukturen_i_norge"><a class="anchor" href="#_anvendelse_av_emelding_i_peppol_infrastrukturen_i_norge"></a><a class="link" href="#_anvendelse_av_emelding_i_peppol_infrastrukturen_i_norge">3.2.4. Anvendelse av eMelding i PEPPOL-infrastrukturen i Norge</a></h4>
<div class="sect4">
<h5 id="_generelt_2"><a class="anchor" href="#_generelt_2"></a><a class="link" href="#_generelt_2">Generelt</a></h5>
<div class="paragraph">
<p>Beskrivelsene her viser på hvordan den generiske referansearkitekturen for eMelding kan realiseres med arkitektur- og løsningskomponenter som inngår i PEPPOL-infrastrukturen; basert på CEF eDelivery.</p>
</div>
<div class="paragraph">
<p>Utover de arkitekturtegningene som presenenteres, henvises til omfattende dokumentasjon av eDelivery og PEPPOL.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../kunnskap_losning_eu-peppol/media/PEPPOL%20eDelivery%20Network%20overview.png" alt="PEPPOL eDelivery Network overview">
</div>
<div class="title">Figur 2. PEPPOL eDelivery Network overview</div>
</div>
<div class="paragraph">
<p>Arkitektur- og løsningsbyggeklosser:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CEF SMP (Service Metadata Publisher): Oppslagstjeneste for å finne adresse og kapabiliteter for aktuell mottaker. Inneholder mottakers ID, aksesspunktadresse og dokumenttyper som mottaker kan motta. Aktuelle løsninger:  <a href="https://samarbeid.difi.no/felleslosninger/elma">ELMA</a>.</p>
</li>
<li>
<p>BCP (Business Certificate Publisher): Sertifikatutsteder. Løsninger: Se <a href="https://vefa.difi.no/bcp/" class="bare">https://vefa.difi.no/bcp/</a>.</p>
</li>
<li>
<p>Adressetjenesten CEF <a href="https://ec.europa.eu/cefdigital/wiki/display/CEFDIGITAL/SML+service">SML</a> (Service Metadata Locater): Global oppslagstjeneste for å finne fram til aktuell SMP.</p>
</li>
<li>
<p>BCL (Business Certificate Locator): Oppslagstjeneste for å finne BCP (introdusert ifm. Enhanced PEPPOL eDelivery Network).</p>
</li>
<li>
<p>Elektronisk mottakeradresseregister (<a href="https://samarbeid.difi.no/felleslosninger/elma">ELMA</a>): Norsk register over foretak som kan ta i mot dokumenter i standardisert EHF-format.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_klargjør_for_deling_av_data_ved_forsendelse_emelding"><a class="anchor" href="#_klargjør_for_deling_av_data_ved_forsendelse_emelding"></a><a class="link" href="#_klargjør_for_deling_av_data_ved_forsendelse_emelding">Klargjør for deling av data ved forsendelse (eMelding)</a></h5>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_emelding/media/SBB_klargjøre.png" alt="Klargjør for eMelding (løsningsmønster) image">
</div>
<div class="title">Figur 3. Klargjør for eMelding (løsningsmønster)</div>
</div>
<div class="paragraph">
<p>Forklaring til figur:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 7. Elementer i view for Klargjør for eMelding (løsningsmønster)</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samhandlingsaktør</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samlebetegnelse på roller som inngår i en samhandlingsprosess og samhandler med en annen samhandlingsaktør. Kan være en tilbyder, konsument, avsender, mottaker, leverandør etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Klargjøre for deling av data ved forsendelse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evne til å klargjøre for meldingsutveksling med eksterne parter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Klargjør for melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å klargjøre for melding ved å  inngå nødvendige avtaler og tilgjengeliggjøre nødvendig informasjon til andre samhandlingsaktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtaler for meldingsforsendelse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å inngå bilaterale avtaler med sammhandlingsparter eller innmelding i et fellesskap. F.eks. gjennom å akseptere spesifikke avtaler, vilkår eller kontrakter og innrette seg etter reglene og forpliktelsene som gjelder i et fellesskap (community), eller det som er avtalt mellom samhanslingsaktørene.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrer kapabiliteter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registering av kapabiliteter vil si å tilgjengeligjøre for avsendere og konsumenter hvilke meldinger og formater man kan motta og hvilke ressurser og tjenester man tilbyr.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrer adresser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Med adresse menes nødvendig informasjon for å få tilgang til tjenester fra tilbyder eller for å sende melding til mottaker av meldinger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrer sertifikater</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgjengeliggjøre for samhandlende parter sertifikater for bruk ved forsendelser. Dette kan være generelle eller domenespesifikke sertifikater. Eventuelt spesifikt for enkelet forretningsområder.</p>
<p class="tableblock">Sertifikater må forvaltes og fornyes etter gjeldende regler for å være gyldige og egnet for bruk.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kapabilitetsregistrering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å registrere kapabiliteter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adresseregistrering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å registrere adresse for å sende melding til mottaker.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sertifikatregisterering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å registrere serifikater i felles katalogtjeneste.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenPeppol</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elektronisk mottakerregister (ELMA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Med ELMA får brukerne dine oversikt over alle virksomheter i Norge som kan motta elektroniske fakturaer i henhold til EHF-standarden.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CEF SML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Metadata Locator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BCL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Business Certificate Locater</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BCP (CommFides eller Buypass)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Business Certificate Publisher</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_operativ_deling_av_data_ved_forsendelse_emelding"><a class="anchor" href="#_operativ_deling_av_data_ved_forsendelse_emelding"></a><a class="link" href="#_operativ_deling_av_data_ved_forsendelse_emelding">Operativ deling av data ved forsendelse (eMelding)</a></h5>
<div class="sect5">
<h6 id="_send_emelding"><a class="anchor" href="#_send_emelding"></a><a class="link" href="#_send_emelding">Send eMelding</a></h6>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_emelding/media/Send%20eMelding%20%20(løsningsmønster).png" alt="Send eMelding  (løsningsmønster) image">
</div>
<div class="title">Figur 4. Send eMelding  (løsningsmønster)</div>
</div>
<div class="paragraph">
<p>Forklaring til figur:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 8. Elementer i view for Send eMelding  (løsningsmønster)</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avsender</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Den som sender et brev, en pakke, en e-post, en elektronisk melding, en SMS eller lignende.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sende data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å sende data til en mottaker.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å sende en eMelding til en mottaker ved hjelp av fellestjenester.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroller mottakers kapabiliteter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess for å slå opp og kontrollere mottakers evner til samhandling innenfor fellesskapet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formater melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess for å tilpasse informasjonspakken til mottakers kapabiliteter og fellesskapets standarder.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Krypter melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess med å sikre forsendelsen. Inkluderer konfidensialitets- og integritetssikring der dette er nødvendig. Normalt gjøres dette ved hjelp av kryptografi og sertifikater.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adresser forsendelse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess med å adressere forsendelsen. Dette kan være til mottaker direkte eller til dennes representant eller aksesspunkt,</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signer forsendelse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å signere meldingen som sendes til mottaker. Til dette benyttes eget sertifikats private nøkkel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eksepeder melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å sende melding til mottaker.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kapabilitetsoppslag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å slå opp kapabilitetene til en samhandlingspart</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatransformasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for  transformere data og meldinger til andre formater.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sertifikatoppslag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å hente krypteringssertifkat til mottaker.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adresseoppslag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å slå opp adressen til en mottaker.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signeringstjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å signere en elektronisk melding. For eMelding er det signatur i form av elektronisk segl som er mest relevant.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datautvekslings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for utveksling av data. Samme som data exchange service. Benyttes av avsender og mottaker for transport av meldinger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sporingstjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for sporing (audit) av meldinger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CEF SML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Metadata Locator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elektronisk mottakerregister (ELMA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Med ELMA får brukerne dine oversikt over alle virksomheter i Norge som kan motta elektroniske fakturaer i henhold til EHF-standarden.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BCL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Business Certificate Locater</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BCP (CommFides eller Buypass)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Business Certificate Publisher</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PEPPOL</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_motta_emelding"><a class="anchor" href="#_motta_emelding"></a><a class="link" href="#_motta_emelding">Motta eMelding</a></h6>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_emelding/media/Motta%20eMelding%20(løsningsmønster).png" alt="Motta eMelding (løsningsmønster) image">
</div>
<div class="title">Figur 5. Motta eMelding (løsningsmønster)</div>
</div>
<div class="paragraph">
<p>Forklaring til figur:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 9. Elementer i view for Motta eMelding (løsningsmønster)</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mottaker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Den som mottar en elektronisk melding eller tilsvarende.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å motta, validere og kvittere for mottatte meldinger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å motta melding. Består av flere delprosesser.</p>
<p class="tableblock">Etter mottak må mottaker følge opp og håndtere innholdet i meldingen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta forsendelse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å motta en melding fra avsender</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroller forsendelse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å kontrollere om forsendelsen er autentisk og fra en legitim avsender.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dekrypter melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å dekryptere mottatt melding.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valider forsendelse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å kontrollere om innholdet i en forsendelse er i henhold til avtale og avtalte formater.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datautvekslings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for utveksling av data. Samme som data exchange service. Benyttes av avsender og mottaker for transport av meldinger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sporingstjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for sporing (audit) av meldinger.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signaturvaliderings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å validere og verifisere elektronsike signaturer. I forbindelse med eMelding er det kontroll av elektronisk segl som er mest relevant.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datavaliderings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å validere meldinger mot format og forventet innhold.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PEPPOL</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_videre_informasjon_om_emelding"><a class="anchor" href="#_videre_informasjon_om_emelding"></a><a class="link" href="#_videre_informasjon_om_emelding">3.2.5. Videre informasjon om eMelding</a></h4>
<div class="paragraph">
<p>Videre informasjon og og dokumentasjon om eMelding finnes under <a href="https://www.difi.no/fagomrader-og-tjenester/digitalisering-og-samordning/nasjonal-arkitektur-old/referansearkitektur-meldingsutveksling-emelding" class="bare">https://www.difi.no/fagomrader-og-tjenester/digitalisering-og-samordning/nasjonal-arkitektur-old/referansearkitektur-meldingsutveksling-emelding</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://github.com/difi/nasjonal_arkitektur/blob/master/nab_referanse_arkitekturer_emelding/files/H%C3%B8ringsnotat-Strategi-og-referansearkitektur-meldingsutveksling.docx">Høringsnotat</a></p>
</li>
<li>
<p><a href="https://github.com/difi/nasjonal_arkitektur/blob/master/nab_referanse_arkitekturer_emelding/files/Vedlegg-A-Forslag-Nasjonal-referansekarkitektur-og-strategi-for-meldingsutveksling-v1_1.docx">Veddlegg A - Forslag - Nasjonal referansekarkitektur og strategi for meldingsutveksling v1_1</a></p>
</li>
<li>
<p><a href="https://github.com/difi/nasjonal_arkitektur/blob/master/nab_referanse_arkitekturer_emelding/files/Vedlegg-B-Referanse-arkitektur-for-eMelding-printable.pdf">Vedlegg B - Referansearkitektur for eMelding (teknisk)</a></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_praktiske_anvendelser_av_generisk_mønster_for_meldingsforsendelse_til_kjent_mottaker"><a class="anchor" href="#_praktiske_anvendelser_av_generisk_mønster_for_meldingsforsendelse_til_kjent_mottaker"></a><a class="link" href="#_praktiske_anvendelser_av_generisk_mønster_for_meldingsforsendelse_til_kjent_mottaker">3.2.6. Praktiske anvendelser av generisk mønster for  meldingsforsendelse til kjent mottaker</a></h4>
<div class="sect4">
<h5 id="_meldingsforsendelse_gjennom_peppol_basert_på_emelding"><a class="anchor" href="#_meldingsforsendelse_gjennom_peppol_basert_på_emelding"></a><a class="link" href="#_meldingsforsendelse_gjennom_peppol_basert_på_emelding">Meldingsforsendelse gjennom PEPPOL, basert på eMelding</a></h5>
<div class="paragraph">
<p>Se under <a href="../nab_referanse_arkitekturer_emelding">referansearkitekturen eMelding</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_meldingsforsendelse_gjennom_eformidlings_løsningen"><a class="anchor" href="#_meldingsforsendelse_gjennom_eformidlings_løsningen"></a><a class="link" href="#_meldingsforsendelse_gjennom_eformidlings_løsningen">Meldingsforsendelse gjennom eFormidlings-løsningen</a></h5>
<div class="paragraph">
<p>TBD.</p>
</div>
</div>
<div class="sect4">
<h5 id="_meldingsforsendelse_i_helsesektoren"><a class="anchor" href="#_meldingsforsendelse_i_helsesektoren"></a><a class="link" href="#_meldingsforsendelse_i_helsesektoren">Meldingsforsendelse i helsesektoren</a></h5>
<div class="paragraph">
<p>TBD.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enotifikasjon"><a class="anchor" href="#_enotifikasjon"></a><a class="link" href="#_enotifikasjon">3.3. eNotifikasjon</a></h3>
<div class="sect3 lead">
<h4 id="_om_dette_mønsteret"><a class="anchor" href="#_om_dette_mønsteret"></a><a class="link" href="#_om_dette_mønsteret">3.3.1. Om dette mønsteret</a></h4>
<div class="paragraph">
<p>eNotifikasjon dreier seg om publisering av hendelsesdata via hendelseslister som kan aksesseres av datakonsumenter via spørring og oppslag i API-er.</p>
</div>
<div class="paragraph">
<p>eNotifikasjon bygger på <em>grunnleggende mønster for publisering og strømming av hendelser</em>.</p>
</div>
<div class="paragraph">
<p>Konsumentene kan også innhente tilleggsdata om hendelser fra datatilbydere via spørring og oppslag i API-er, ved behov. Dette er illustert i følgende figur.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_datautveksling_publisering/media/Pull-basert%20distribusjon%20av%20notifikasjoner.png" alt="Pull-basert distribusjon av notifikasjoner image">
</div>
<div class="title">Figur 6. Pull-basert distribusjon av notifikasjoner</div>
</div>
<div class="paragraph">
<p>Som vist i figuren, skilles det mellom to hovedtyper API-er:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>API for oppslag/spørring mot hendelseslister.</p>
</li>
<li>
<p>API for oppslag/innhenting av supplerende hendelsesdata (ved behov).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Begge disse måtene å gjøre oppslag på dekkes av <em>eOppslag</em> arkitekturmønster.</p>
</div>
<div class="paragraph">
<p>Grunnleggende egenskaper ved eNotifikasjon som mønster:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>En hendelse kan representeres ved en eller flere  <em>notifikasjoner</em>.</p>
</li>
<li>
<p>Notifikasjoner samles i <em>hendelseslister</em>.</p>
</li>
<li>
<p>Hendelser kan ikke slettes (<em>immutable</em>), og notifikasjoner slettes heller ikke fra hendelseslister.</p>
</li>
<li>
<p>Notifikasjoner innhentes på initiav fra konsument (pull).</p>
</li>
<li>
<p>Hver enkelt konsument kan lese samme notifikasjon flere ganger.</p>
</li>
<li>
<p>Hendelseslister kan traverseres og spørres mot.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_begrepsapparat"><a class="anchor" href="#_begrepsapparat"></a><a class="link" href="#_begrepsapparat">3.3.2. Begrepsapparat</a></h4>
<div class="paragraph">
<p>Begrepsapparatet bygger på det grunnleggende begrepsapparatet for publisering; gjengitt her:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_datautveksling_publisering/media/Grunnleggende%20begreper%20for%20publisering%20av%20hendelser.png" alt="Grunnleggende begreper for publisering av hendelser image">
</div>
</div>
<div class="paragraph">
<p>For mønsteret eNotifikasjon gjelder en detaljering av begrepet <em>hendelsesrelaterte data</em> som følger her.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_datautveksling_publisering/media/Hendelsesrelaterte%20data.png" alt="Hendelsesrelaterte data image">
</div>
<div class="title">Figur 7. Hendelsesrelaterte data</div>
</div>
<div class="paragraph">
<p>Forkaring til modellen:</p>
</div>
<div class="paragraph">
<p><em>Hendelsestype</em> kan være et entydig element i et kontrollert vokabular, men det kan også være "fritekst".</p>
</div>
<div class="paragraph">
<p><em>Hendelsesrelaterte data</em> kan være små eller store <em>Datasett</em>, enten lagret samlet eller distribuert.</p>
</div>
</div>
<div class="sect3">
<h4 id="_innhenting_av_supplerende_hendelsesrelaterte_data"><a class="anchor" href="#_innhenting_av_supplerende_hendelsesrelaterte_data"></a><a class="link" href="#_innhenting_av_supplerende_hendelsesrelaterte_data">3.3.3. Innhenting av supplerende hendelsesrelaterte data</a></h4>
<div class="paragraph">
<p>For notifikasjoner som ikke gir et tilstrekkelig sett av <em>hendelsesrelaterte data</em> for konsumentens formål, må datakonsumenten selv ta initiativ til å innhente supplerende data.</p>
</div>
<div class="paragraph">
<p>Identifikasjon av aktuelle supplerende hendelsesrelaterte kan enten gjøres gjennom</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>en enkelt <em>identifikator for hendelsesrelaterte data</em> som inneholdes i notifikasjonen, Dette kan fungere godt når tilbyder har preparert det aktuelle datasettet for konsumenten ut fra spesifikasjon gitt i abonnementsoppsettet.</p>
</li>
<li>
<p>separate identifikatorer for ulike deler av  notifikasjon, f.eks for <em>subjekt</em>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Selve innhentingen av <em>supplerende hendelsesrelaterte data</em> dekkes av eOppslag referansearkitektur.</p>
</div>
</div>
<div class="sect3">
<h4 id="_verdistrømmer"><a class="anchor" href="#_verdistrømmer"></a><a class="link" href="#_verdistrømmer">3.3.4. Verdistrømmer</a></h4>
<div class="sect4">
<h5 id="_enotifikasjon_oversikt_over_verdistrømmer"><a class="anchor" href="#_enotifikasjon_oversikt_over_verdistrømmer"></a><a class="link" href="#_enotifikasjon_oversikt_over_verdistrømmer">eNotifikasjon - oversikt over verdistrømmer</a></h5>
<div class="paragraph">
<p>Følgende figur viser en oversikt over verdistrømmene på tvers av datatilbyder og datakonsument for eNotifikasjon.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_enotifikasjon/media/eNotifikasjon%20-%20oversikt%20over%20verdistrømmer.png" alt="eNotifikasjon - oversikt over verdistrømmer image">
</div>
<div class="title">Figur 8. eNotifikasjon - oversikt over verdistrømmer</div>
</div>
<div class="paragraph">
<p>Stegene i verdistrømmen er nærmere forklart under egne avsnitt om verdistrømmene for hver rolle.</p>
</div>
</div>
<div class="sect4">
<h5 id="_enotifikasjon_verdistrøm_for_datatilbyder"><a class="anchor" href="#_enotifikasjon_verdistrøm_for_datatilbyder"></a><a class="link" href="#_enotifikasjon_verdistrøm_for_datatilbyder">eNotifikasjon - verdistrøm for datatilbyder</a></h5>
<div class="paragraph">
<p>Her vises verdistrømmen for eNotifikasjon sett fra datatilbyder, med angivelse av kapabiliteter.</p>
</div>
<div class="paragraph">
<p>Det som er spesielt for eNotifikasjon er vist med uthevet skrift, dvs. <em>Generere og tilby notifikasjoner</em>. Øvrige kapabiliteter er beskrevet andre steder, blant annet i tilknytning til referansearkitekturer for eMelding (Sende data) og  eOppslag (Avgi data på forespørsel).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_enotifikasjon/media/eNotifikasjon%20-%20tilbyders%20verdistrøm.png" alt="eNotifikasjon - tilbyders verdistrøm image">
</div>
<div class="title">Figur 9. eNotifikasjon - tilbyders verdistrøm</div>
</div>
</div>
<div class="sect4">
<h5 id="_enotifikasjon_verdistrøm_for_datakonsumenter"><a class="anchor" href="#_enotifikasjon_verdistrøm_for_datakonsumenter"></a><a class="link" href="#_enotifikasjon_verdistrøm_for_datakonsumenter">eNotifikasjon - verdistrøm for datakonsumenter</a></h5>
<div class="paragraph">
<p>Her vises verdistrømmen for eNotifikasjon sett fra datakonsumenter, med angivelse av kapabiliteter.</p>
</div>
<div class="paragraph">
<p>Det som er spesielt for eNotifikasjon er vist med uthevet skrift, dvs. <em>Innhente og håndtere notifikasjoner</em>. Øvrige kapabiliteter er beskrevet andre steder, blant annet i tilknytning til referansearkitekturer for eMelding (Motta data) og  eOppslag (Innhente data ved forespørsel).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_enotifikasjon/media/eNotifikasjon%20-%20konsumenters%20verdistrøm.png" alt="eNotifikasjon - konsumenters verdistrøm image">
</div>
<div class="title">Figur 10. eNotifikasjon - konsumenters verdistrøm</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kapabilitetskart_for_enotifikasjon"><a class="anchor" href="#_kapabilitetskart_for_enotifikasjon"></a><a class="link" href="#_kapabilitetskart_for_enotifikasjon">3.3.5. Kapabilitetskart for eNotifikasjon</a></h4>
<div class="paragraph">
<p>Modellen under viser kapabiliteter som er spesifikke for eNotifikasjon. Øvrige kapabiliteter er beskrevet i samhandlingsmønsteret for <em>deling av data på forespørsel</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_enotifikasjon/media/Kapabiliteter%20eNotifikasjon.png" alt="Kapabiliteter eNotifikasjon image">
</div>
<div class="title">Figur 11. Kapabiliteter eNotifikasjon</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 10. Elementer i view for Kapabiliteter eNotifikasjon</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilbyder av data til andre aktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Den som innhenter eller mottar data fra andre aktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generere og tilby notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å dele informasjon om hendelser gjennom notifikasjoner som tilgjengeliggjøres for konsumenter gjennom hendelseslister.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data på forespørsel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å avgi data på forespørsel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhente og håndtere notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å konsumere hendelseslister.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_arkitekturmønstre"><a class="anchor" href="#_arkitekturmønstre"></a><a class="link" href="#_arkitekturmønstre">3.3.6. Arkitekturmønstre</a></h4>
<div class="sect4">
<h5 id="_generer_og_publiser_notifikasjoner"><a class="anchor" href="#_generer_og_publiser_notifikasjoner"></a><a class="link" href="#_generer_og_publiser_notifikasjoner">Generer og publiser notifikasjoner</a></h5>
<div class="paragraph">
<p>Generer og publiser notifikasjoner er den prosessen datatilbyder må gjøre for å tilby notifikasjoner gjennom hendelseslister. Hendelselister tilbys på tilsvarende måte som beskrevet for generelle mønstre for spørring og oppslag (herunder eOppslag), men det finnes spesielle krav for hendelseslister med tanke på segmentering,  filtrering og navigering.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_enotifikasjon/media/Generer%20og%20publiser%20notifikasjoner%20(arkitekturmønster).png" alt="Generer og publiser notifikasjoner (arkitekturmønster) image">
</div>
<div class="title">Figur 12. Generer og publiser notifikasjoner (arkitekturmønster)</div>
</div>
<div class="paragraph">
<p>Forklaring til figur:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 11. Elementer i view for Generer og publiser notifikasjoner (arkitekturmønster)</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilbyder av data til andre aktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generere og tilby notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å dele informasjon om hendelser gjennom notifikasjoner som tilgjengeliggjøres for konsumenter gjennom hendelseslister.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som peker til (eller representerer) en hendelse og gjøres tilgjengelig på en hendelsesliste så konsumenten får vite om hendelsen.</p>
<p class="tableblock">En notifikasjon kan inneholde lite eller mye informasjon om selve hendelsen, men det må være nok informasjon til at konsumenten kan vurdere om hendelsen er relevant for seg.</p>
<p class="tableblock">En notifikasjon inneholder også en referanse til hendelsen og relevante grunnlagsdata.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesliste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Liste med notifikasjoner tilgjengelig for konsumenter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generer og publiser notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å dele informasjon om hendelser.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generer notifikasjon ut fra hendelse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å generere en notifikasjon på bakgrunn av en hendelse.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publiser notifikasjon i hendelseslister</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å legge notifikasjoner i en eller flere hendelseslister som er eksponert overfor aktuelle konsumenter.</p>
<p class="tableblock">.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generering av full notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste som genererer "fulle" notifikasjoner basert på hendelser, der alle aktuelle grunnlagsdata er med eller lenket til.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skriving av notifikasjon til eksponerte hendelseslister</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å skrive en notifikasjon til en eller flere hendelseslister, eventuelt med filtrering av informasjon ut fra hvem som er aktuelle konsumenter (abonnenter).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_avgi_forespurte_notifikasjoner"><a class="anchor" href="#_avgi_forespurte_notifikasjoner"></a><a class="link" href="#_avgi_forespurte_notifikasjoner">Avgi forespurte notifikasjoner</a></h5>
<div class="paragraph">
<p>Notifikasjoner avgis gjennom API på tilsvarende måte som beskrevet for generelle mønstre for spørring og oppslag, men tilbyder må tilpasse hendelsene som avgis etter det konsumenten har rettigheter til og etterspør. F.eks. kan konsumenten kun ha rettigheter til en delmengde av alle hendelser i hendelsesliten og også kun være interessert i enkelte typer hendelser. Konsumenten vil også normalt kun ha behov for å hente notifikasjoner som ikke er hentet tidliger, men kan også ønske å hente tidligere notifikasjoner på nytt.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_enotifikasjon/media/Avgi%20notifikasjoner%20på%20forespørsel.png" alt="Avgi notifikasjoner på forespørsel image">
</div>
<div class="title">Figur 13. Avgi notifikasjoner på forespørsel</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 12. Elementer i view for Avgi notifikasjoner på forespørsel</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spørretjeneste mot hendelsesliste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for spørring og navigering av hendelsesliste gjennom API. Det kan være aktuelt å filtrere informasjon ut fra hvem som spør og hvilken informasjon det er abonnert på, i tillegg til å filtrere ut fra spesifikasjoner i hver enkelt spørring.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi forespurte data gjennom API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å avgi data på forespørsel gjennom et egnet API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi forespurte notifikasjoner gjennom API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å avgi notifikasjoner på forespørsel gjennom et API som</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta forespørsel om notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta forespørsler fra konsument om å avgi notifkiasjoner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autentisere konsument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å autentisere en konsument.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroller tilgang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroll og håndheving av konsumentens rettigheter til å få forespurte data.  I tillegg til "validering av sikkerhetsbillet", kan det være behov for kontroll mot virksomhetsinterne policies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi utvalgte notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi utvalgte hendelser basert på parametere i forespørsel om notifikasjoner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilbyder av data til andre aktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data på forespørsel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data på forespørsel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forespørsel om notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt med eventuelle parametere for spørring på notifikasjoner fra tilgjengelig hendelsesliste. Kan inneholde referanse til hvor i hendelselisten (tid eller nummer) man ønsker å lese, avgrensning til temaer og liknende.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_konsumer_notifikasjoner"><a class="anchor" href="#_konsumer_notifikasjoner"></a><a class="link" href="#_konsumer_notifikasjoner">Konsumer notifikasjoner</a></h5>
<div class="paragraph">
<p>Notifikasjoner leses på tilsvarende måte som beskrevet for generelle mønstre for spørring og oppslag (herunder eOppslag), men konsumentene må holde orden på spesielle forhold som rekkefølge og hvilke notifikasjoner som er lest. Konsumenten må også være i stand til å vurdere relevansen av hendelsene før videre behandling av notifikasjonene.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer_enotifikasjon/media/Innhente%20notifikasjoner%20((arkitekturmønster).png" alt="Innhente notifikasjoner ((arkitekturmønster) image">
</div>
<div class="title">Figur 14. Innhente notifikasjoner ((arkitekturmønster)</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 13. Elementer i view for Innhente notifikasjoner ((arkitekturmønster)</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Den som innhenter eller mottar data fra andre aktører.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhente og håndtere notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evnen til å konsumere hendelseslister.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forespørsel om notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt med eventuelle parametere for spørring på notifikasjoner fra tilgjengelig hendelsesliste. Kan inneholde referanse til hvor i hendelselisten (tid eller nummer) man ønsker å lese, avgrensning til temaer og liknende.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataobjekt som peker til (eller representerer) en hendelse og gjøres tilgjengelig på en hendelsesliste så konsumenten får vite om hendelsen.</p>
<p class="tableblock">En notifikasjon kan inneholde lite eller mye informasjon om selve hendelsen, men det må være nok informasjon til at konsumenten kan vurdere om hendelsen er relevant for seg.</p>
<p class="tableblock">En notifikasjon inneholder også en referanse til hendelsen og relevante grunnlagsdata.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kriterier og regler for vurdering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Informasjon om hva som legges til grunn for å vurdere relevansen av en hendelse basert på tilgjengelig notifikasjon.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Konsumer notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosessen med å lese og håndtere notifikasjoner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Les notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess for å hente en eller flere notifikasjoner fra en hendelsesliste.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vurdere notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess med å vurdere om en hendelsen knyttet til lest notifikasjon er relevant for egen virksomhet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Videre behandling av notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess med videre behandling av en notifikasjon. Vil normalt være å innhente mer informasjon om hendelsen knyttet til notifikasjonen og eventuelt agere ut i fra denne.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forkast notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prosess med å forkaste notifikasjon som ikke er relevant for virksomheten. Avhengig av krav til personvern og informasjonssikkerhet kan det være særskilte krav til hva som er lov å beholde.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spørring mot eksponert hendelsesliste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste(r) for å forespørre notifikasjoner og navigere i hendelseslister.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filtrering av notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjeneste for å filtrere innhentede notifikasjoner. Dette er en tilleggsmekanisme for filtrering, sammenliknet med filtrering som gjøres gjennom spøringer mot datatilbyder, og benyttes ved behov.  Eksempler på behov:</p>
<p class="tableblock">a. Datatilbyder gir ikke gode nok muligheter for filtrering.</p>
<p class="tableblock">b. Formidling av noifikasjoner til flere og ulike typer (interne) konsumenter.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_løsningsmønstre"><a class="anchor" href="#_løsningsmønstre"></a><a class="link" href="#_løsningsmønstre">3.3.7. Løsningsmønstre</a></h4>
<div class="paragraph">
<p>Spesifikke løsningsmønstre for eNotifikasjon er inntil videre ikke utarbeidet. Det er stor variasjon i praksis, og ingen fellesløsninger er så langt etablert i Norge.</p>
</div>
<div class="paragraph">
<p>Det beste eksempelet er så langt distriubsjonen av modernisert folkeregister fra Skatteetaten som blant annet tilbyr hendelseslister og oppslag som konsumenttjenester. Disse tjenestene er beskrevet i <a href="https://skatteetaten.github.io/folkeregisteret-api-dokumentasjon/konsumenttjenester/">Folkeregisterets API dokumentasjon</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_grunnleggende_referansearkitekturer_og_andre_utvalgte_eksterne_referanser"><a class="anchor" href="#_grunnleggende_referansearkitekturer_og_andre_utvalgte_eksterne_referanser"></a><a class="link" href="#_grunnleggende_referansearkitekturer_og_andre_utvalgte_eksterne_referanser">4. Grunnleggende referansearkitekturer og andre utvalgte eksterne referanser</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_eira_european_interoparability_reference_architecture"><a class="anchor" href="#_eira_european_interoparability_reference_architecture"></a><a class="link" href="#_eira_european_interoparability_reference_architecture">4.1. EIRA - European Interoparability Reference Architecture</a></h3>
<div class="paragraph">
<p><span class="image"><img src="../kunnskap_referansearkitektur_eu-eira/media/logo-eira-1.png" alt="logo eira 1"></span></p>
</div>
<div class="paragraph">
<p>European Interoperability Reference Architecture (EIRA) er en innholdsmodell som definerer metamodeller med de mest sentrale arkitekturbyggeklossene som behøves for å  bygge interoperable systemer i offentlig sektor. Modellene er dokumentert i Archimate.</p>
</div>
<div class="paragraph">
<p>Se <a href="https://joinup.ec.europa.eu/solution/eira" class="bare">https://joinup.ec.europa.eu/solution/eira</a> for mer generell informasjon om EIRA.</p>
</div>
<div class="paragraph">
<p>I arbeidet med Nasjonal arkitektur i Norge ønsker en å benytte begrepsapparat og arkitekturbyggeklosser fra EIRA så langt som mulig.</p>
</div>
</div>
<div class="sect2">
<h3 id="_toopra_the_once_only_principle_reference_architecture_eu"><a class="anchor" href="#_toopra_the_once_only_principle_reference_architecture_eu"></a><a class="link" href="#_toopra_the_once_only_principle_reference_architecture_eu">4.2. TOOPRA - The Once Only Principle Reference Architecture (EU)</a></h3>
<div class="paragraph">
<p>TOOPRA - The Once Only Principle referencearchitecture - er en generisk referansearkitektur fra EU som er tatt fram for å støtte offentlige virksomheter i å realisere "the once only principle" (OOP) på tvers av landegrensene. OOP-arkitekturen kan også benyttes internt i hvert land.</p>
</div>
<div class="paragraph">
<p>Andre betegnelser på denne referansearkitekturen er <em>Generic Federated OOP Architecture</em> eller bare   <em>OOP-arkitekturen</em>.</p>
</div>
<div class="paragraph">
<p><em>TOOPRA</em> samsvarer med EIF og <a href="../kunnskap_referansearkitektur_eu-eira">EIRA</a>. Dette er overordnede, eksisterende rammeverk og referansearktektur.</p>
</div>
<div class="paragraph">
<p><em>OOP-arkitekturen</em>  er beskrevet på samtlige arkitekturlag i TOGAF, dvs. forretning, data. applikasjon og teknologi, med ulike visninger (<em>views</em>) med utgangspunkt i TOGAf og Archimate som modelleringsspråk.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
TOOP adresserer også sikkerhetsarkitektur og tillitsarkitektur.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image"><img src="../kunnskap_referansearkitektur_eu-toopra/media/toopra.png" alt="toopra"></span></p>
</div>
<div class="paragraph">
<p>Lenker til mer informasjon om TOOPRA:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="http://www.toop.eu/sites/default/files/D23_Generic_Federated_OOP_Architecture_3rd_version.pdf">Generic Federated OOP Architecture 3rd version (pdf)</a></p>
</li>
<li>
<p><a href="http://wiki.ds.unipi.gr/display/TOOPRA">wiki for TOOPRA</a></p>
</li>
<li>
<p><a href="https://github.com/TOOP4EU/toop-goopra-models">TOOPRA Archimate-modeller som kan lastes ned via <em>Archi collaboration plugin</em></a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Lenker til mer om TOOPog SDGR:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p><a href="http://toop.eu/">Hjemmeside for TOOP</a></p>
</li>
<li>
<p><a href="http://toop.eu/node/280">Informasjon om TOOP i sammenheng med Single Digital Gateway Regulation (SDGR</a></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_the_open_group_soa_ra"><a class="anchor" href="#_the_open_group_soa_ra"></a><a class="link" href="#_the_open_group_soa_ra">4.3. The Open Group SOA RA</a></h3>
<div class="paragraph">
<p><span class="image"><img src="../kunnskap_referansearkitektur_tog-soa-ra/media/tog-logo.png" alt="tog logo"></span></p>
</div>
<div class="paragraph">
<p>The <a href="http://www.opengroup.org/soa/source-book/soa_refarch/index.htm">SOA RA</a> is part of the <a href="http://www.opengroup.org/soa/source-book/intro/index.htm">SOA Source Book</a>, published by <a href="https://www.opengroup.org/">The Open Group</a>.</p>
</div>
<div class="paragraph">
<p>The SOA RA defines a set of logical Layers, the    Capabilities within each layer, the relationships between Capabilities and the mapping to Building Blocks.</p>
</div>
<div class="paragraph">
<div class="title">Figure: Logical Solution View of the SOA RA</div>
<p><span class="image"><img src="../kunnskap_referansearkitektur_tog-soa-ra/media/logical-solution-view-of-the-soa-ra.png" alt="logical solution view of the soa ra" width="700"></span></p>
</div>
<div class="paragraph">
<p>The most important concepts and how they relate is illustrated by the following figure.</p>
</div>
<div class="paragraph">
<div class="title">Figure: Relationships among Requirements, Capabilities, Building Blocks, and Layers</div>
<p><span class="image"><img src="../kunnskap_referansearkitektur_tog-soa-ra/media/tog-soa-ra-core-constructs.png" alt="tog soa ra core constructs" width="600"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A capability, as defined by The Open Group, is: “an ability that an organization, person, or system possesses”
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_dma_dmbok2_data_management_book_of_knowledge"><a class="anchor" href="#_dma_dmbok2_data_management_book_of_knowledge"></a><a class="link" href="#_dma_dmbok2_data_management_book_of_knowledge">4.4. DMA DMBOK2 - Data Management Book of Knowledge</a></h3>
<div class="paragraph">
<p>Data Management Body of Knowledge (2nd Edition) fra DAMA er et omfattende verk om data- og informasjonsforvaltning, Utgitt 2017-07-10.</p>
</div>
<div class="paragraph">
<p>This is an an accessible, authoritative reference book written by leading thinkers in the field and extensively reviewed by DAMA members, DMBOK2 brings together materials that comprehensively describe the challenges of data management and how to meet them by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defining a set of guiding principles for data management and describing how these principles can be applied within data management functional areas.</p>
</li>
<li>
<p>Providing a functional framework for the implementation of enterprise data management, including widely adopted practices, methods and techniques, functions, roles, deliverables and metrics.</p>
</li>
<li>
<p>Establishing a common vocabulary for data management concepts and serving as the basis for best practices for data management professionals</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>DAMA DMBOK2 tar utgansgpunkt i følgende temaoråder (eller <em>kummskapsområder</em>):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_arkitekturlandskap_strategisk-arkitektur/media/data-management-ref-dmbok2.png" alt="data management ref dmbok2">
</div>
<div class="title">Figur 15. Temaområder innen området Informasjonsforvaltning (DMBOK2)</div>
</div>
<div class="paragraph">
<p>I DMBOK2 finnes en videre nedbrytning for hvert område. Følgende figur viser dette for området Data Integration and Interoperability.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_arkitekturlandskap_strategisk-arkitektur/media/dmbok2-data-integration-and-interoperability.png" alt="dmbok2 data integration and interoperability">
</div>
<div class="title">Figur 16. Figur: DMBOK2 Data Integration and Interoperability</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_informasjonssikkerhet_3"><a class="anchor" href="#_informasjonssikkerhet_3"></a><a class="link" href="#_informasjonssikkerhet_3">5. Informasjonssikkerhet</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="../plattform_felles/media/i-arbeid.png" alt="i arbeid" width="45" height="45"></span> Foreløpig innhold</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Kapittelet om informasjonssikkerhet er et foreløpig utkast til temaer for et informasjonssikkerhetskapittel og litt om hva det kan inneholde.</pre>
</div>
</div>
<div class="sect2">
<h3 id="_overordnede_mål"><a class="anchor" href="#_overordnede_mål"></a><a class="link" href="#_overordnede_mål">5.1. Overordnede mål</a></h3>
<div class="paragraph">
<p>Sikring av informasjon er sentralt i referansearkitekturene for informasjonsutveksling. Dette omfatter integritet, konfidensialitet og uavviselighet. Informasjon må kunne utveksles uendret mellom aktørene, og uvedkommende må ikke få tilgang til informasjonen. Avsendere og tilbydere må være trygge på at mottakere og konsumenter er riktige og mottakere og konsumenter må være trygge på at avsendere og tilbydere er de vedkommende utgir seg for å være. Informasjonen om transaksjoner må være sporbar i ettertid (uavviselig). Referansearkitekturene skal ivaretar disse behovene.</p>
</div>
<div class="paragraph">
<p>Sikkerhetsarkitekturen for eOppslag er laget med tanke på å nå følgende overordnede målsetninger:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standardiserte sikkerhetsnivå med definerte sett av sikkerhetsmekanismer, slik at det er mulig å velge grad av sikkerhet tilpasset en risikovurdering av tjenesten det gjelder.</p>
</li>
<li>
<p>Standardisert mekanisme for autentisering av klienter for å få teknisk konsolidering på tvers av offentlig sektor og mulighet til gjenbruk av komponenter</p>
</li>
<li>
<p>Standardisert mekanisme for delegering av myndighet, hvor en virksomhet kaller tjenester på vegne av en annen virksomhet</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_krav_fra_eidas"><a class="anchor" href="#_krav_fra_eidas"></a><a class="link" href="#_krav_fra_eidas">5.2. Krav fra eIDAS</a></h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 14. Requirements derived from the eIDAS regulations</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 42.8572%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ID</th>
<th class="tableblock halign-left valign-top">Requirement</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message intergrity: Messages should be secured
against any modification during transmission.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The sending and receiving of data is secured
by an advanced electronic signature or an
advanced electronic seal of a qualified trust
service provider in such a manner as to
preclude the possibility of the data being
changed undetectably.
Artikkel 3 (36), 19, 24,44</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message Confidentiality: Messages should be
encrypted during transmission.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 5,19,24</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sender authenticity: The identity of the sender
should be verified. Ensure with a high level of
confidence the identification of the sender.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 24, 44</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Recipient authenticity: Recipient / addressee
Identity should be verified before the delivery of
the message.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ensure the identification of the addressee
before the delivery of the data.
Artikkel 24, 44</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non repudiation: The date and time of sending
and receiving a message should be indicated via a
qualified electronic timestamp.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The date and time of sending, receiving and
any change of data are indicated by a
qualified electronic time stamp. Artikkel 44</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg06</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non repudiation: Sender and receiver of the
message should be provided with evidence of
message recipient and deliver.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides evidence relating to the handling
of the transmitted data, including proof of
sending and receiving the data. Artikkel 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thrusted providers: Qualified and non-qualified
trust service providers shall take appropriate
technical and organisational measures to manage
the risks posed to the security of the trust services
they provide.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Having regard to the latest technological
developments, those measures shall ensure
that the level of security is commensurate to
the degree of risk. In particular, measures
shall be taken to prevent and minimise the
impact of security incidents and inform
stakeholders of the adverse effects of any
such incidents. Artikkel 19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg08</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualified and non-qualified trust service providers
shall, without undue delay but in any event within
24 hours after having become aware of it, notify
the supervisory body and, where applicable, other
relevant bodies, such as the competent national
body for information security or the data
protection authority, of any breach of security or
loss of integrity that has a significant impact on the
trust service provided or on the personal data
maintained therein.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Where the breach of security or loss of integrity is
likely to adversely affect a natural or legal person
to whom the trusted service has been provided,
the trust service provider shall also notify the
natural or legal person of the breach of security or
loss of integrity without undue delay.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Where appropriate, in particular if a breach of
security or loss of integrity concerns two or more
Member States, the notified supervisory body shall
inform the supervisory bodies in other Member
States concerned and ENISA.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The notified supervisory body shall inform the
public or require the trust service provider to do
so, where it determines that disclosure of the
breach of security or loss of integrity is in the
public interest.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thrusted providers: The supervisory body shall
provide ENISA once a year with a summary of
notifications of breach of security and loss of
integrity received from trust service providers.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trust service providers: They are provided by one
or more qualified trust service provider(s).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 44</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integrity: Any change of the data needed for the
purpose of sending or receiving the data is clearly
indicated to the sender and addressee of the data.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 44</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-repudiation: Data sent and received using an
electronic registered delivery service shall not be
denied legal effect and admissibility as evidence in
legal proceedings solely on the grounds that it is in
an electronic form or that it does not meet the
requirements of the qualified electronic registered
delivery service.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 43</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integrity: Data sent and received using a qualified
electronic registered delivery service shall enjoy
the presumption of the integrity of the data, the
sending of that data by the identified sender, its
receipt by the identified addressee and the
accuracy of the date and time of sending and
receipt indicated by the qualified electronic
registered delivery service.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 43</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Legal effect: An electronic document shall not be
denied legal effect and admissibility as evidence in
legal proceedings solely on the grounds that it is in
electronic form.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 46</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data processing and protection: Processing of
personal data shall be carried out in accordance
with Directive 95/46/EC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfEx-Leg19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data processing and protection: Without prejudice
to the legal effect given to pseudonyms under
national law, the use of pseudonyms in electronic
transactions shall not be prohibited.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artikkel 5</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_omfang_og_avgrensning"><a class="anchor" href="#_omfang_og_avgrensning"></a><a class="link" href="#_omfang_og_avgrensning">5.3. Omfang og avgrensning</a></h3>
<div class="ulist">
<ul>
<li>
<p>"A henter data hos B"</p>
</li>
<li>
<p>Hva er de viktigste truslene?</p>
</li>
<li>
<p>Sikkerhetsaktører, trusselaktører og feil</p>
</li>
<li>
<p>Tilgangsstyring</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_informasjonsbeskyttelsesbehov"><a class="anchor" href="#_informasjonsbeskyttelsesbehov"></a><a class="link" href="#_informasjonsbeskyttelsesbehov">5.4. Informasjonsbeskyttelsesbehov</a></h3>
<div class="ulist">
<ul>
<li>
<p>Regelverk – relevant regelverk</p>
</li>
<li>
<p>Verdier og eiere – Skrive veldig generelt om at dette bør beskrives (grønne/gule/røde)</p>
</li>
<li>
<p>Sikkerhetsnivåer, nivå for akseptabel risiko -peke til nivåene i forordningen?</p>
</li>
<li>
<p>Konfidensialitet, integritet, tilgjengelighet</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_aktuelle_tiltak"><a class="anchor" href="#_aktuelle_tiltak"></a><a class="link" href="#_aktuelle_tiltak">5.5. Aktuelle tiltak</a></h3>
<div class="ulist">
<ul>
<li>
<p>Avtaler, bruksvilkår – kort om at dette regulerer ansvar og rettigheter etc</p>
</li>
<li>
<p>Regelverk – endringsbehov</p>
</li>
<li>
<p>Sporbarhet, feilsøking og etterforskning</p>
</li>
<li>
<p>Avvikshåndtering (beredskap) – Peker til veiledning</p>
</li>
<li>
<p>Autorisasjon og autorisering</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_risiko_og_sårbarhetsanalyse"><a class="anchor" href="#_risiko_og_sårbarhetsanalyse"></a><a class="link" href="#_risiko_og_sårbarhetsanalyse">5.6. Risiko og sårbarhetsanalyse</a></h3>
<div class="ulist">
<ul>
<li>
<p>Tillitskjeder – Bør vi skrive noe om dette?</p>
</li>
<li>
<p>Klassifisering av informasjon – Samme som verdier og sikkerhetsnivåer?</p>
</li>
<li>
<p><a href="https://internkontroll-infosikkerhet.difi.no/" class="bare">https://internkontroll-infosikkerhet.difi.no/</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_restrisiko"><a class="anchor" href="#_restrisiko"></a><a class="link" href="#_restrisiko">5.7. Restrisiko</a></h3>

</div>
<div class="sect2">
<h3 id="_standardisert_autentiseringsmekanisme"><a class="anchor" href="#_standardisert_autentiseringsmekanisme"></a><a class="link" href="#_standardisert_autentiseringsmekanisme">5.8. Standardisert autentiseringsmekanisme</a></h3>
<div class="paragraph">
<p>Autentisering i denne sammenheng innebærer at en klient autentiseres som den virksomheten den representerer, identifisert med organisasjonsnummer. Arkitekturen tar ikke høyde for å skille mellom ulike klienter internt i samme virksomhet, det er forventet at virksomheten selv håndterer styring av hvilke klienter som får kalle hvilke tjenester gjennom sin egen integrasjonsarkitektur og sikkerhetsarkitektur. Det er utenfor rammen av denne referansearkitekturen å gi føringer for hvordan dette skal løses.</p>
</div>
<div class="paragraph">
<p>På bakgrunn av de tekniske forutsetningene velger vi i denne referansearkitekturen en autentisering hvor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Klienten autentiserer seg mot en token-tjeneste med et virksomhetssertifikat.</p>
</li>
<li>
<p>Token-tjenesten utsteder et token som kun er gyldig for et begrenset tidsrom mot en spesifisert tjeneste.</p>
</li>
<li>
<p>Tokenet brukes som autentisering mot aktuell tjeneste.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Denne løsningen gjør også at vi har fleksibilitet til å innføre andre autentiseringsmekanismer eller støtte for andre typer sertifikat senere.</p>
</div>
<div class="paragraph">
<p>Bruk av token på denne måten oppfyller også de tekniske føringene:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bruk av virksomhetssertifikatet reduseres til kun å utstede token, virksomhetssertifikatet brukes ikke direkte mot hver enkelt tjeneste klienten ønsker å kalle.</p>
</li>
<li>
<p>Bruk av proxy/gateway-løsninger innebærer at TLS-forbindelsen termineres i en gateway og en ny forbindelse settes opp for videre kommunikasjon. Autentiseringsmekanismer knyttet til TLS-forbindelsen blir dermed ikke videreformidlet inn mot bakenforliggende tjenester, men må kontrolleres av gateway-en. Løsningen som foreslås her innebærer i stedet at autentiseringsmekanismen legges i en http-header og kan videreformidles gjennom gateway/proxy inn til tjenesten som kalles.</p>
</li>
<li>
<p>Gjennom å implementere token-tjenesten med standard OAuth2- og JWT-mekanismer finnes det hyllevare for å ta imot, verifisere og konvertere slike tokens.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_delegering_av_myndighet"><a class="anchor" href="#_delegering_av_myndighet"></a><a class="link" href="#_delegering_av_myndighet">5.9. Delegering av myndighet</a></h3>
<div class="paragraph">
<p>Dette er nyttig i mange situasjoner og en felles løsning for dette på tvers av offentlig sektor vil kunne gi stor gevinst, for eksempel i situasjoner som:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Regnskapskontor, advokater, meglere osv opptrer på vegne av sine oppdragsgivere</p>
</li>
<li>
<p>Tjenesteleverandører, driftsleverandører eller aggregeringstjenester opptrer på vegne av sine kunder</p>
</li>
<li>
<p>Bransjeorganisasjoner opptrer på vegne av sine medlemmer</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I den videre diskusjonen trenger vi å skille mellom:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Konsumenten &#169; som er den juridiske ansvarlige for bruken av tjenesten og den som i siste instans får informasjonen som etterspørres</p>
</li>
<li>
<p>Leverandøren (L) er den som kontrollerer klienten og som faktisk kaller tjenesten på vegne av konsument &#169;.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Referansearkitekturen legger her opp til:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tilgangsstyringen i tjenesten er uavhengig av hvem som er leverandøren, det er kun konsumenten som er relevant</p>
</li>
<li>
<p>Klienten autentiserer seg til token-tjenesten som leverandør, men sier samtidig at den ønsker tilgang til en bestemt tjeneste på vegne av konsument</p>
</li>
<li>
<p>Token-tjenesten vil bare utstede et token dersom begge disse holder:</p>
<div class="ulist">
<ul>
<li>
<p>Konsumenten er autorisert for å kalle tjenesten, dette styres av API-tilbyder</p>
</li>
<li>
<p>Leverandøren er autorisert til å opptre på vegne av konsumenten for denne tjenesten, dette styres av konsumenten</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tokenet som genereres vil inneholde identitet til både konsument og leverandør, men det er forutsatt at informasjon om leverandøren kun brukes til sporingsformål (logging).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_referanser"><a class="anchor" href="#_referanser"></a><a class="link" href="#_referanser">5.10. Referanser</a></h3>
<div class="paragraph">
<p>Difis veileder for internkontroll i praksis- informasjonssikkerhet:</p>
</div>
<div class="paragraph">
<p><a href="https://internkontroll-infosikkerhet.difi.no/" class="bare">https://internkontroll-infosikkerhet.difi.no/</a></p>
</div>
<div class="paragraph">
<p>Forordning om eID og elektroniske tillitstjenester:</p>
</div>
<div class="paragraph">
<p><a href="https://www.regjeringen.no/no/sub/eos-notatbasen/notatene/2012/okt/forordning-om-eid-og-elektroniske-tillitstjenester/id2434955/" class="bare">https://www.regjeringen.no/no/sub/eos-notatbasen/notatene/2012/okt/forordning-om-eid-og-elektroniske-tillitstjenester/id2434955/</a></p>
</div>
<div class="paragraph">
<p>Trust Services and Electronic Identification (eID):</p>
</div>
<div class="paragraph">
<p><a href="https://ec.europa.eu/digital-single-market/en/trust-services-and-eid" class="bare">https://ec.europa.eu/digital-single-market/en/trust-services-and-eid</a></p>
</div>
<div class="paragraph">
<p>Forskrift om elektronisk kommunikasjon med og i forvaltningen (eForvaltningsforskriften)</p>
</div>
<div class="paragraph">
<p><a href="https://lovdata.no/dokument/SF/forskrift/2004-06-25-988" class="bare">https://lovdata.no/dokument/SF/forskrift/2004-06-25-988</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_veiledning_til_valg_av_referansearkitekturer"><a class="anchor" href="#_veiledning_til_valg_av_referansearkitekturer"></a><a class="link" href="#_veiledning_til_valg_av_referansearkitekturer">6. Veiledning til valg av referansearkitekturer</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="../plattform_felles/media/i-arbeid.png" alt="i arbeid" width="45" height="45"></span> Foreløpig innhold</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Kapittelet er et foreløpig utkast til veiledning i valg av refereansearkitetkur og kan fortsatt være gjenstand for store endringer.</pre>
</div>
</div>
<div class="sect2">
<h3 id="_generelt_3"><a class="anchor" href="#_generelt_3"></a><a class="link" href="#_generelt_3">6.1. Generelt</a></h3>
<div class="paragraph">
<p>I det følgende gis en beskrivelse av hvordan man kan gå frem for å velge hvilket samhandlingsmønster som bør eller kan benyttes i integrasjoner mellom virksomheter.
Det gis en metode i fire steg og en oversikt over mulig egenskaper eller kriterier som bør kartlegges og vurderes som en del av prosessen med å velge referansearkitektur.
Målet er å få til samhandlingsevne i tverrgående prosesser, dvs. integrerte tjenester på tvers av organisajonsgrenser.</p>
</div>
</div>
<div class="sect2">
<h3 id="_metode_for_valg_av_referansearkitekturer_i_tverrgående_samhandlingsløsninger"><a class="anchor" href="#_metode_for_valg_av_referansearkitekturer_i_tverrgående_samhandlingsløsninger"></a><a class="link" href="#_metode_for_valg_av_referansearkitekturer_i_tverrgående_samhandlingsløsninger">6.2. Metode for valg av referansearkitekturer i tverrgående samhandlingsløsninger</a></h3>
<div class="sect3">
<h4 id="_innledning"><a class="anchor" href="#_innledning"></a><a class="link" href="#_innledning">6.2.1. Innledning</a></h4>
<div class="paragraph">
<p>Metoden som beskrives her tar utgangspunkt i de fire interoperabilitetsnivåene i EIF for å oppnå ønsket samhandlingsevne på tvers av virksomheter:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/Samhandlingsevne.png" alt="Bilde mangler" width="750"></span></p>
</div>
<div class="paragraph">
<p>Metoden sier noe om hvordan man skal oppnå digital samhandlingsevne og vil underveis peke på de fire interoperabilitetsnivåene. Det understrekes at man må jobbe i parallell med alle nivåene, da det er synergier mellom dem.</p>
</div>
<div class="paragraph">
<p>Metoden har som formål å sikre at man ikke snakker om teknisk samhandlingsevne før man forstår det forretningsmessige behovet på en tilfredsstillende måte. Erfaringene tilsier at man lettere kommer fram til et forslag til den digitale samhandlingsprosessen når man ikke snakker om teknologi. Når man har enighet om prosessen så kan man avklare hvordan den tekniske samhandlingsevnen skal ivaretas.</p>
</div>
<div class="paragraph">
<p>Metoden er først og fremst tenkt å bidra til hvordan to virksomheter kan digitalisere sin samhandling, men tankegodset kan også ha en verdi når man ser på hvordan to domener i en virksomhet skal samhandle digitalt.</p>
</div>
<div class="paragraph">
<p>Metoden er uavhengig av om den ene, begge eller ingen benytter serviceprovidere i deres løsninger.</p>
</div>
<div class="paragraph">
<p>Metoden er delt inn i fem steg:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Modeller fulldigitaliserte forretningsprosesser med fokus på samhandling</strong></p>
</li>
<li>
<p><strong>Identifisere krav og egenskaper ved samhandlingen</strong></p>
</li>
<li>
<p><strong>Identifiser referansearkitektur med fokus på samhandling</strong></p>
</li>
<li>
<p><strong>Identifiser løsningsarkitektur</strong></p>
</li>
<li>
<p><strong>Realiseringshensyn</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>I steg 1 vil vi modellere en digital samhandlingsprosess og i steg 2 vil vi beskrive hvilke forretningsmessige krav som stilles og hvilke egenskaper det er behov at samhandlingsmønsteret har for å kunne realisere samhandlingsprosessen. I steg 3 vil vi vurdere hvilke referansearkitekturer som bør benyttes for den digitale samhandlingsprosessen. Først når man har identifisert samhandlingsmønstre og referansearkitektur, er det riktig å diskutere løsningsarkitektur og hvilke tekniske løsningsalternativer man har for hver enkelt samhandling. Dette ser vi på i steg 4. I steg 5 vurderer vi øvrige realiseringshensyn som tilleggskomponenter og tjenester. Det må også gjennomføres en risikoanalyse av løsningen og fattes nødvendige tiltak i henhold til risikoanalysen.</p>
</div>
<div class="paragraph">
<p>Sagt på en annen måte, man må forstå og være enige om behovet før man kan diskutere teknologi.</p>
</div>
</div>
<div class="sect3">
<h4 id="_stegene_i_metoden"><a class="anchor" href="#_stegene_i_metoden"></a><a class="link" href="#_stegene_i_metoden">6.2.2. Stegene i metoden</a></h4>
<div class="sect4">
<h5 id="_steg_1_modeller_fulldigitaliserte_forretningsprosesser_med_fokus_på_samhandling"><a class="anchor" href="#_steg_1_modeller_fulldigitaliserte_forretningsprosesser_med_fokus_på_samhandling"></a><a class="link" href="#_steg_1_modeller_fulldigitaliserte_forretningsprosesser_med_fokus_på_samhandling">Steg 1 - Modeller fulldigitaliserte forretningsprosesser med fokus på samhandling</a></h5>
<div class="paragraph">
<p>Basert på god forståelse av prosessene for fulldigitalisert samhandling mellom virksomheter og virksomhetenes rolle og ansvar i disse prosessen har man mulighet for å gjøre gode tekniske løsningsvalg for digital samhandling. Her beskrives hvordan man kan ta fram slike prosesser som først og fremst har fokus på den digitale samhandlingen på tvers av virksomheter.</p>
</div>
<div class="paragraph">
<p>Ved modellering av forretningsprosessene kan det være lurt å la seg inspirere av <a href="https://www.regjeringen.no/no/aktuelt/digital-agenda-for-norge&#8212;&#8203;ikt-for-en-enklere-hverdag/id2484184/">Digital agenda for Norge</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Brukeren i sentrum</em></p>
<div class="ulist">
<ul>
<li>
<p><em>Offentlige tjenester skal oppleves sammenhengende og helhetlige for brukerne, uavhengig av hvilke offentlige virksomheter som tilbyr dem.</em></p>
</li>
<li>
<p><em>Forvaltningen skal gjenbruke informasjon i stedet for å spørre brukerne på nytt om forhold de allerede har opplyst om.</em></p>
</li>
</ul>
</div>
</li>
<li>
<p><em>Effektiv digitalisering av offentlig sektor</em></p>
</li>
<li>
<p><em>Godt personvern og god informasjonssikkerhet</em></p>
<div class="ulist">
<ul>
<li>
<p><em>Personvern og informasjonssikkerhet skal være en integrert del av utviklingen og bruken av IKT.</em></p>
</li>
<li>
<p><em>Den enkelte innbygger skal i størst mulig grad ha råderett over egne personopplysninger.</em></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Man bør også utforde hvordan digital samhandling er realisert inntil nå, og avklare hvor langt man kan gå i å gjennomføre en digital transformasjon. Husk å sette brukeren i fokus og at virksomhetens egne behov ikke overskygger det å gi gode løsninger til brukeren.</p>
</div>
<div class="paragraph">
<p>Ved modellering av forretningsprosesser på tvers av virksomheter, skal man tydelig avklare både eierskap til informasjon og funksjonalitet. Man skal deretter (eller i parallell) tenke på hvordan en fulldigitalisert prosess grovt sett ser ut hos hver enkelt part. Før man til slutt (eller i parallell) ser på hvordan samhandlingen burde fungert dersom begge parter blir fulldigitalisert på området man jobber med. Man bør prøve å forstå hvilke behov som styrer en hver samhandling, for eksempel:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hente data der og da</p>
</li>
<li>
<p>Varsle om en tilstandsendring (noe har skjedd)</p>
</li>
<li>
<p>Overlevere ansvaret for videre behandling til annen part</p>
</li>
<li>
<p>Oppdatere noe hos annen part</p>
</li>
<li>
<p>Etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Det er avgjørende at behandlingsgrunnlag (hjemler, samtykke etc.) for deling av informasjon er på plass slik at prosessen kan digitaliseres. Dersom det er behov for endringer i lovverk (juridisk samhandlingsevne), så må dette initieres mot rett lovgivende departement. Dersom det dukker opp nye sentrale begreper, så bør disse løftes inn i begrepskatalogen (semantisk samhandlingsevne). Gjennom å jobbe med digital prosess for samhandling tidlig, så vil man kunne avdekke behov knyttet til samhandlingsevne på de forskjellige interoperabilitetsnivåene.</p>
</div>
<div class="paragraph">
<p>Forretningsprosessens hovedformål er å identifisere digitale samhandlinger på tvers av virksomheter og ikke vise detaljer på hva som foregår i den enkelte virksomhet. Dette for å ha fokus på den digitale samhandlingen.</p>
</div>
<div class="paragraph">
<p>Figuren under er et eksempel på en prosess for behandling av konkursbo og samhandlingen mellom boet og NAV. Det er ikke lagt vekt på interne prosessene, men gitt en oversikt med fokus på samhandling partene i mellom. Denne prosessen vil følges og brukes som eksempel gjennom trinnen i metoden.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../nab_referanse_veiledning_valg-av-referansearkitekturer/media/Konkursbo%20-%20forretningsprosess.png" alt="bad!" width="1100"></span></p>
</div>
<div class="paragraph">
<p>Når to parter blir enige om en fulldigitalisert prosess, så har man et godt startpunkt på videre arbeid. Begge parter må kanskje gjøre løft i forhold til digitalisering, noe som ikke alltid er fullt ut mulig. Som regel vil man kunne digitalisere samhandlingen for fremtiden og så kan hver og en virksomhet stegvis dra nytte av dette til å digitalisere interne løsninger. Unntaksvis må man kanskje fire på kravet på hvor langt man vil gå i å digitalisere samhandlingen.</p>
</div>
</div>
<div class="sect4">
<h5 id="_steg_2_identifisere_funksjonelle_krav_og_egenskaper_ved_samhandlingen"><a class="anchor" href="#_steg_2_identifisere_funksjonelle_krav_og_egenskaper_ved_samhandlingen"></a><a class="link" href="#_steg_2_identifisere_funksjonelle_krav_og_egenskaper_ved_samhandlingen">Steg 2 - Identifisere funksjonelle krav og egenskaper ved samhandlingen</a></h5>
<div class="paragraph">
<p>I steg 2 vil vi se på og identifisere krav og egenskaper til samhandlingen mellom aktørene i den digitale prosessen. Steg 2 kan med fordel kjøres samtidig som steg 1, men er av pedagogiske grunner dokumentert separat.</p>
</div>
<div class="paragraph">
<p><mark>Steg 2  - presisere at det identifisering av funksjonelle krav og egenskaper.
Se om vi kan løfte inn fra kap.3 inn i trinnene til metoden.
Ikke de tekniske, men de forretningsmessige delene.</mark></p>
</div>
<div class="paragraph">
<p><mark>Legge til juridiske saker?</mark></p>
</div>
<div class="paragraph">
<p>Som del av modellering av en digital samhandlingsprosess i steg 1, så er det naturlig å identifisere hvilke behov og krav man har til samhandlingsmønstre og beskrive dette for hver enkelt identifiserte samhandling.</p>
</div>
<div class="paragraph">
<p>Dette gjøres best gjennom å forstå behovet for hver enkelt samhandling. Det er viktig at begge partene prater gjennom prosessen sammen, slik at man får en felles forståelse av krav og egenskaper. I dette arbeidet kan man bruke faktorene som er beskrevet i kapittel 2 og se til de ulike interoperabilitetslagene, og på denne måten bestemme hvilke egenskaper som er viktig for den respektive samhandlingen og integrasjonen mellom partene.</p>
</div>
<div class="paragraph">
<p>I eksempelet vårt med samtykkebasert lånesøknad vil det f.eks. være blant annet følgende faktorer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>mange til en</p>
</li>
<li>
<p>kjente samhandlingsparter</p>
</li>
<li>
<p>forretningsmessig behov for synkron kommunikasjon</p>
</li>
<li>
<p>behov for umiddelbar respons</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../nab_referanse_veiledning_valg-av-referansearkitekturer/media/Konkursbo%20-%20forretningsprosess%20med%20krav.png" alt="bad!" width="1100"></span></p>
</div>
<div class="paragraph">
<p>Når dette er identifisert for hver enkelt samhandling, så blir neste steg å analysere behov og identifisere referansearkitektur.</p>
</div>
<div class="sect5">
<h6 id="_egenskaper_relatert_til_juridiske_forhold"><a class="anchor" href="#_egenskaper_relatert_til_juridiske_forhold"></a><a class="link" href="#_egenskaper_relatert_til_juridiske_forhold">Egenskaper relatert til juridiske forhold</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Gjeldende lovpålagte krav</strong></p>
<div class="paragraph">
<p>Eksempel: GDPR med krav til dataminimering mv.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_egenskaper_relatert_til_organisatorisk_samhandlingsevne"><a class="anchor" href="#_egenskaper_relatert_til_organisatorisk_samhandlingsevne"></a><a class="link" href="#_egenskaper_relatert_til_organisatorisk_samhandlingsevne">Egenskaper relatert til organisatorisk samhandlingsevne</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Type forretningsprosess</strong></p>
<div class="paragraph">
<p>Eksempler:  Bilateral prosess mellom to kjente parter (herunder spørring og forhåndsavtalt, periodisk distriusjon);
Tverrgående prosess mellom faste parter; Tverrgående prosess mellom dynamiske oppdagete parter.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Antall samhandlingsparter</strong></p>
<div class="paragraph">
<p>En-til-en, en-til-mange, mange-til-mange, mange-til-en</p>
</div>
</li>
<li>
<p><strong>Kjente eller ukjente mottakere</strong></p>
<div class="paragraph">
<p>Fast eller dynamisk gruppe med samhandlingsparter</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Ansvarsfordeling</strong></p>
<div class="paragraph">
<p>Hvem skal ha ansvar for hva? Hvem sier om du får tilgang til opplysninger eller ikke.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_steg_3_identifiser_referansearkitektur_med_fokus_på_samhandling"><a class="anchor" href="#_steg_3_identifiser_referansearkitektur_med_fokus_på_samhandling"></a><a class="link" href="#_steg_3_identifiser_referansearkitektur_med_fokus_på_samhandling">Steg 3 - Identifiser referansearkitektur med fokus på samhandling</a></h5>
<div class="paragraph">
<p>Når faktorene som spiller inn er identifisert i steg 2, så kan man mappe hver enkelt samhandling mot en  referansearkitektur.</p>
</div>
<div class="paragraph">
<p>Har man fått til en god enighet om faktorene, så vil ofte prosessen med å mappe mot referansearkitektur være ganske enkel. Det er vanskelig å sette opp absolutte regler for hva som egner seg i enhver situasjon, men kriteriene bør gi et godt utgangspunkt for en beslutning.</p>
</div>
<div class="paragraph">
<p>For eksempelet med lånebasert søknad vil referansearkitekturen for eOppslag være å anbefale.</p>
</div>
<div class="paragraph">
<p>Når referansearkitektur er identifisert for hver enkelt samhandling, så blir neste steg å identifisere løsningsarkitektur med tilhørende løsningskomponenter som beskrevet i steg 4.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../nab_referanse_veiledning_valg-av-referansearkitekturer/media/Konkursbo%20-%20forretningsprosess%20med%20samhandlingsmønster.png" alt="bad!" width="1100"></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_steg_4_identifiser_løsningsarkitektur"><a class="anchor" href="#_steg_4_identifiser_løsningsarkitektur"></a><a class="link" href="#_steg_4_identifiser_løsningsarkitektur">Steg 4 - Identifiser løsningsarkitektur</a></h5>
<div class="paragraph">
<p>Når referansearkitektur er identifisert, se steg 3, kan man gå videre å jobbe med løsningsarkitektur.</p>
</div>
<div class="paragraph">
<p>Løsningsarkitektur velges ved å ta utgangspunkt i beste praksis for referansearkitekturen og se om denne dekker behovet. Der valget står mellom flere løsningskomponenter, må man vurdere hvilken som best dekker funksjonelle behov og krav til kvalitetsegenskaper. Har man spesielle behov, kan det hende man må ta i bruk løsningskomponenter som ikke ligger dokumentert som beste praksis. I så fall bør man oppdatere beste praksis.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../nab_referanse_veiledning_valg-av-referansearkitekturer/media/Konkursbo%20-%20forretningsprosess%20med%20referansearkitektur.png" alt="bad!" width="1100"></span></p>
</div>
<div class="sect5">
<h6 id="_egenskaper_relatert_til_teknisk_samhandlingsevne"><a class="anchor" href="#_egenskaper_relatert_til_teknisk_samhandlingsevne"></a><a class="link" href="#_egenskaper_relatert_til_teknisk_samhandlingsevne">Egenskaper relatert til teknisk samhandlingsevne</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Utvekslingsprotokoller</strong></p>
<div class="ulist">
<ul>
<li>
<p>Synkron eller asynkron kommunikasjon</p>
</li>
<li>
<p>Aktuell infrastruktur</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Leveringstid for meldinger</strong> (kvalitetskrav)</p>
<div class="paragraph">
<p>Garantert leveringstid vs. krav til leveringstid</p>
</div>
<div class="paragraph">
<p>Mål: Mikrosekunder, millisekunder, sekunder, timer, dager</p>
</div>
</li>
<li>
<p><strong>Responstid for spørringer</strong> (kvalitetskrav)</p>
<div class="paragraph">
<p>Garantert responstid vs. krav til responstid</p>
</div>
<div class="paragraph">
<p>Mål: Mikrosekunder, millisekunder, sekunder, timer, dager</p>
</div>
</li>
<li>
<p><strong>Leveringssikkerhet</strong> (kvalitetskrav)</p>
<div class="paragraph">
<p>Grad av garantert levering (uten behov for tilbakemelding på <em>applikasjonslaget</em>)</p>
</div>
<div class="paragraph">
<p>Mål: Prosentvis sannsynlighet for vellykket levering og mottak.</p>
</div>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Prosessens levetid</strong></p>
<div class="paragraph">
<p>Relevant for feilhåndtering: Kortlevde prosesser med innebygd transaksjonssikkerhet kan tilbakerulles gjennom generelle mekanismer, f.eks. slik dette støttes av <em>rollback</em> i relasjonsdatabaser. Langlevde prosesser krever skreddersydde <em>kompensasjonsaksjoner</em>.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_steg_5_andre_realiseringshensyn"><a class="anchor" href="#_steg_5_andre_realiseringshensyn"></a><a class="link" href="#_steg_5_andre_realiseringshensyn">Steg 5 - Andre realiseringshensyn</a></h5>
<div class="paragraph">
<p>Vurdering av andre hensyn, alternativer. Valgfrie tjenester. Det må også vurderes om det trengs tilleggskomponenter/tjenester som f.eks. data.altinn.no for best å realisere løsningen.
Gjennomføre risikoanalyse for valgt løsning og bestemme nødvendige sikkerhetsmekanismer.
"Verdiøkende tjenester" En boks i midten må gi verdi.</p>
</div>
<div class="paragraph">
<p>Kompetanse, kapasitet, risiko, datoer</p>
</div>
<div class="sect5">
<h6 id="_andre_egenskaper_tverrgående"><a class="anchor" href="#_andre_egenskaper_tverrgående"></a><a class="link" href="#_andre_egenskaper_tverrgående">Andre egenskaper (tverrgående)</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Føringer</strong></p>
<div class="ulist">
<ul>
<li>
<p>Prinsipper</p>
<div class="paragraph">
<p>For eksempel SOA-prinsipper, samhandlingsprinsipper.</p>
</div>
</li>
<li>
<p>Standarder</p>
<div class="paragraph">
<p>Ref. <em>Referansekatalogen</em>, bransjestandarder, mv.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Kompetanse</strong></p>
<div class="ulist">
<ul>
<li>
<p>Kompleksitet</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Avtaler</strong></p>
</li>
<li>
<p><strong>Kostnader</strong></p>
<div class="ulist">
<ul>
<li>
<p>Pris</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Informasjonssikkerhet</strong></p>
<div class="paragraph">
<p>Herunder:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Risikoanalyser</p>
</li>
<li>
<p>Kvalitetskrav for konfidensialitet, integritet og tilgjengelighet</p>
</li>
<li>
<p>Mekanismer for autentisering, autorisasjon, kryptering, ikke-benektelse, mv.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_realisere_løsning"><a class="anchor" href="#_realisere_løsning"></a><a class="link" href="#_realisere_løsning">6.2.3. Realisere løsning</a></h4>
<div class="paragraph">
<p>Etter å ha gått gjennom trinnene i metoden beskrevet over og vurdert de ulike faktorene og mulighetene i referansearkitekturene bør man være bedre rustet til å ta gode valg med hensyn på samhandling som passer til det forretnngsmessige behovet.</p>
</div>
<div class="paragraph">
<p>Det vil aldri sjelden være noen absolutte føringer, men det viktigste er å ta utgangspunkt i forretningsmessig behov og velge løsninger basert på innsikt og en helhetlig forståelse for hvilke krav og muligheter som foreligger.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hva_er_data_2"><a class="anchor" href="#_hva_er_data_2"></a><a class="link" href="#_hva_er_data_2">6.3. Hva er data</a></h3>
<div class="paragraph">
<p>Hva er data? Hva er data i forhold til informasjon? Hva er forholdet mellom data dokumenter?</p>
</div>
<div class="paragraph">
<p>Kort definisjon: Data er &#8230;&#8203; informasjon; ref. &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>I tilknytning til referansearkitekturer for datautveksling benyttes begrepet <em>data</em> heller enn <em>informasjon</em>, der det gir mening.</p>
</div>
<div class="paragraph">
<p>Det skilles likevel mellom data og informasjon i visse sammenhenger. Det gir f.eks. mening å si informasjonssikkerhet, mens en snakker om sikring av data for å oppnå informasjonssikkerhet.</p>
</div>
<div class="paragraph">
<p>Tilsvarende brukes begrepet <em>datakvalitet</em> om noe av det som er viktig for å forstå informasjonen.</p>
</div>
<div class="paragraph">
<p>Det skilles ikke på <em>data</em> og <em>dokument</em>. Data kan finnes med større eller mindre grad av struktur, og det kan sies å være en flytende overgang mellom f.eks. ustrukturerte dokumenter i tradisjonell forstand til strukturerte data i en database.</p>
</div>
<div class="paragraph">
<p>Begrepet <em>datasett</em> kan tilsvarende dreie seg om både dokumenter og registerdata.</p>
</div>
<div class="paragraph">
<p>Vi skiller videre på den logiske og fysiske representasjonen av datasett. Det er den fysiske forekomsten av data i ulike systemer som vi må sikre og ha oversikt over, enten det dreier seg om data som er lagret over tif eller data som er på vei mellom systemer i form av meldinger.</p>
</div>
<div class="paragraph">
<p>Meldingsutveksling er en viktig mekanisme for  datautveksling.</p>
</div>
<div class="paragraph">
<p>Meldinger består grovt sett av <em>meldingshode</em> og <em>nyttelast</em>. Nyttelasten kan krypteres og sikres ende-til-ende mellom kommunikasjonspartene, mens meldingshodet inneholder adresseinformasjon og annet som må kunne inspiseres i kommunikasjonssystemene underveis. .</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../nab_referanse_arkitekturer/media/Hva%20er%20data.png" alt="Hva er data image">
</div>
<div class="title">Figur 17. Hva er data</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Tabell 15. Elementer i view for Hva er data</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Datasett</th>
<th class="tableblock halign-left valign-top">data-object</th>
<th class="tableblock halign-left valign-top">A collection of data, published or curated by a single agent, and available for access or download in one or more representations. Ref. <a href="https://w3c.github.io/dxwg/dcat/#Class:Dataset" class="bare">https://w3c.github.io/dxwg/dcat/#Class:Dataset</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Informasjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">business-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Structured information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Semistructured information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unstructured information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Register</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataentitet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Informasjonselement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">business-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information record (evidence)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">business-object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Records_management" class="bare">https://en.wikipedia.org/wiki/Records_management</a>: The ISO 15489-1:2016 defines records as "information created, received, and maintained as evidence and as an asset by an organization or person, in pursuit of legal obligations or in the transaction of business"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dokument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data i ro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data i bevegelse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datasettdistribusjon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Synomym to dcat:Distribution ref.  <a href="https://w3c.github.io/dxwg/dcat/#Class:Distribution" class="bare">https://w3c.github.io/dxwg/dcat/#Class:Distribution</a></p>
<p class="tableblock">Definition: A specific representation of a dataset. A dataset might be available in multiple serializations that may differ in various ways, including natural language, media-type or format, schematic organization, temporal and spatial resolution, level of detail or profiles (which might specify any or all of the above)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nyttelast i melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Melding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meldingshode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DESCRIPTION:
Data is a reinterpretable representation of information in a formalized manner suitable for communication, interpretation, or processing
This ABB is a key interoperability enabler (<strong>) enabling for sharing/PROVISIONING and reusing/CONSUMING Data.</p>
<p class="tableblock">Source: ISO-IEC-2382-1 * 1993 *
<a href="https://www.iso.org/obp/ui/#iso:std:iso-iec:2382:ed-1:v1:en" class="bare">https://www.iso.org/obp/ui/#iso:std:iso-iec:2382:ed-1:v1:en</a></p>
<p class="tableblock">(</strong>)DECISION (EU) 2015/2240 OF THE EUROPEAN PARLIAMENT AND OF THE COUNCIL of 25 November 2015  establishing a programme on interoperability solutions and common frameworks for European public administrations, businesses and citizens (ISA2 programme) as a means for modernising the public sector</p>
<p class="tableblock">Syn. Information</p>
<p class="tableblock">INTEROPERABILITY SALIENCY:
The Data ABB is salient for semantic interoperability because it represents the most important mean of interaction between ICT systems of organisations in order to ensure interoperability as stated in the EIF recommendation n° 30: "Perceive data and information as a public asset that should be appropriately generated, collected, managed, shared, protected and preserved."</p>
<p class="tableblock">EXAMPLES:
The following implementation is an example on how this specific Architecture Building Block (ABB) can be instantiated as a Solution Building Block (SBB):</p>
<p class="tableblock">ETS - Aggregated data
The EU ETS data viewer provides an easy access to emission trading data contained in the European Union Transaction Log (EUTL). The EUTL is a central transaction log, run by the European Commission, which checks and records all transactions taking place within the trading system. The EU ETS data viewer provides aggregated data by country, by main activity type and by year on the verified emissions, allowances and surrendered units of the more than 12 000 stationary installations reporting under the EU emission trading system, as well as 1400 aircraft operators.
<a href="https://www.eea.europa.eu/data-and-maps/dashboards/emissions-trading-viewer-1" class="bare">https://www.eea.europa.eu/data-and-maps/dashboards/emissions-trading-viewer-1</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datamodell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data-object</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakvalitet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">requirement</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Informasjonssikkerhet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">requirement</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Sist oppdatert 2019-11-22 18:38:10 +0100
</div>
</div>
</body>
</html>